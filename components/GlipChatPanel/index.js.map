{"version":3,"sources":["components/GlipChatPanel/index.js"],"names":["HEADER_HEIGHT","GlipChatPage","props","state","inputHeight","mobile","loadGroup","groupId","nextProps","group","className","posts","updateText","createPost","textValue","dateTimeFormatter","showSpinner","atRender","uploadFile","viewProfile","loadNextPage","onBackClick","spinner","backIcon","leftArrow","styles","root","header","height","content","id","members","length","inputArea","detailMembers","Component","propTypes","PropTypes","string","object","array","bool","func","isRequired","defaultProps","undefined"],"mappings":"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","file":"index.js","sourcesContent":["import React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport classnames from 'classnames';\n\nimport SpinnerOverlay from 'ringcentral-widgets/components/SpinnerOverlay';\n\nimport styles from './styles.scss';\nimport leftArrow from '../../assets/images/left_arrow.png';\n\nimport GlipPostList from '../GlipPostList';\nimport GlipChatForm from '../GlipChatForm';\nimport GlipGroupName from '../GlipGroupName';\n\nconst HEADER_HEIGHT = 50;\n\nexport default class GlipChatPage extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      inputHeight: props.mobile ? 100 : 110,\n    };\n  }\n\n  componentDidMount() {\n    this.props.loadGroup(this.props.groupId);\n  }\n\n  componentWillReceiveProps(nextProps) {\n    if (this.props.groupId !== nextProps.groupId) {\n      this.props.loadGroup(nextProps.groupId);\n    }\n  }\n\n  render() {\n    const {\n      group,\n      className,\n      posts,\n      updateText,\n      createPost,\n      textValue,\n      dateTimeFormatter,\n      showSpinner,\n      atRender,\n      uploadFile,\n      viewProfile,\n      loadNextPage,\n      onBackClick,\n      mobile,\n    } = this.props;\n    const spinner = showSpinner ? (<SpinnerOverlay />) : null;\n    const backIcon =\n      mobile ? (\n        <img src={leftArrow} alt=\"Back\" className={styles.backIcon} onClick={onBackClick} />\n      ) : null;\n    return (\n      <div\n        className={classnames(\n          styles.root,\n          className,\n        )}\n      >\n        <div className={styles.header} style={{ height: HEADER_HEIGHT }}>\n          {backIcon}\n          <GlipGroupName group={group} showNumber />\n        </div>\n        <div\n          className={styles.content}\n          style={{ height: `calc(100% - ${this.state.inputHeight + HEADER_HEIGHT}px)`}}\n        >\n          <GlipPostList\n            posts={posts}\n            atRender={atRender}\n            groupId={group.id}\n            showName={group.members && (group.members.length > 2)}\n            dateTimeFormatter={dateTimeFormatter}\n            viewProfile={viewProfile}\n            loadNextPage={loadNextPage}\n          />\n        </div>\n        <GlipChatForm\n          className={styles.inputArea}\n          height={this.state.inputHeight}\n          textValue={textValue}\n          onTextChange={updateText}\n          groupId={group.id}\n          onSubmit={createPost}\n          onUploadFile={uploadFile}\n          members={group.detailMembers}\n          mobile={mobile}\n        />\n        {spinner}\n      </div>\n    );\n  }\n}\n\nGlipChatPage.propTypes = {\n  className: PropTypes.string,\n  group: PropTypes.object,\n  posts: PropTypes.array,\n  groupId: PropTypes.string,\n  textValue: PropTypes.string,\n  showSpinner: PropTypes.bool,\n  loadGroup: PropTypes.func.isRequired,\n  updateText: PropTypes.func.isRequired,\n  createPost: PropTypes.func.isRequired,\n  uploadFile: PropTypes.func.isRequired,\n  dateTimeFormatter: PropTypes.func.isRequired,\n  atRender: PropTypes.func,\n  onBackClick: PropTypes.func,\n  viewProfile: PropTypes.func.isRequired,\n  loadNextPage: PropTypes.func.isRequired,\n  mobile: PropTypes.bool,\n};\n\nGlipChatPage.defaultProps = {\n  className: undefined,\n  groupId: null,\n  group: {},\n  posts: [],\n  textValue: '',\n  showSpinner: false,\n  atRender: undefined,\n  onBackClick: undefined,\n  mobile: false\n};\n"]}