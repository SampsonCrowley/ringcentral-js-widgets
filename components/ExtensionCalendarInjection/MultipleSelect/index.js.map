{"version":3,"sources":["components/ExtensionCalendarInjection/MultipleSelect/index.js"],"names":["MultipleSelect","state","open","props","toggleShowDropdown","e","window","addEventListener","_handleDocumentClick","removeEventListener","stopPropagation","setState","preState","onChange","option","idx","placeholder","mounted","wrapper","contains","target","dropdownMenu","label","buttonStyle","className","iconClassName","wrapperStyle","renderValue","dataSign","theme","renderDropdownMenu","styles","root","isOld","isOldUI","UI","ref","button","dropdownIcon","iconUp","Component","propTypes","PropTypes","string","selectedClassName","dropdownClassName","func","titleEnabled","bool","dropdownAlign","oneOf","object","isRequired","defaultProps","undefined"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport classnames from 'classnames';\nimport { ThemeConsumer } from '../commons/themeContext';\nimport ArrowSVG from '../ArrowSVG';\nimport styles from './styles.scss';\n\nclass MultipleSelect extends Component {\n  state = {\n    open: this.props.open\n  }\n\n  componentDidMount() {\n    this.mounted = true;\n  }\n\n  componentWillUnmount() {\n    this.mounted = false;\n    window.removeEventListener('click', this._handleDocumentClick, false);\n  }\n\n  toggleShowDropdown = (e) => {\n    if (!this.state.open) {\n      window.addEventListener('click', this._handleDocumentClick, false);\n    } else {\n      window.removeEventListener('click', this._handleDocumentClick, false);\n    }\n    if (e && this.props.stopPropagation) {\n      e.stopPropagation();\n    }\n    this.setState(preState => ({\n      open: !preState.open,\n    }));\n  }\n\n  onChange = (e, option, idx) => {\n    e.stopPropagation();\n    if (this.props.placeholder && idx === 0) {\n      this.toggleShowDropdown();\n      return;\n    }\n    this.props.onChange(option, idx);\n  }\n\n  _handleDocumentClick = (e) => {\n    if (!this.mounted) {\n      return;\n    }\n    if (this.wrapper && this.wrapper.contains(e.target)) {\n      return;\n    }\n    if (this.dropdownMenu && this.dropdownMenu.contains(e.target)) {\n      return;\n    }\n    this.setState({\n      open: false,\n    });\n  }\n\n  render() {\n    const {\n      placeholder,\n      label,\n      buttonStyle,\n      className,\n      iconClassName,\n      wrapperStyle,\n      renderValue,\n      dataSign,\n      theme,\n      renderDropdownMenu\n    } = this.props;\n\n    const { open } = this.state;\n\n    return (\n      <div className={wrapperStyle}>\n        <div\n          data-sign={dataSign}\n          className={classnames(styles.root, className, {\n            [styles.isOld]: theme.isOldUI,\n          }, theme.UI && styles[theme.UI])}\n          ref={(ref) => { this.wrapper = ref; }}\n        >\n          <div\n            type=\"button\"\n            className={classnames(styles.button, buttonStyle)}\n            onClick={this.toggleShowDropdown}\n            title={placeholder}\n          >\n            {label && <span className={styles.label}>{label}</span>}\n            <span className={classnames(styles.dropdownIcon, open && styles.iconUp, iconClassName)}>\n              <ArrowSVG />\n            </span>\n          </div>\n          {renderDropdownMenu(open)}\n        </div>\n        {renderValue()}\n      </div>\n    );\n  }\n}\n\nMultipleSelect.propTypes = {\n  className: PropTypes.string,\n  selectedClassName: PropTypes.string,\n  dropdownClassName: PropTypes.string,\n  iconClassName: PropTypes.string,\n  label: PropTypes.string,\n  onChange: PropTypes.func,\n  renderValue: PropTypes.func,\n  renderDropdownMenu: PropTypes.func,\n  titleEnabled: PropTypes.bool,\n  dropdownAlign: PropTypes.oneOf(['left', 'center', 'right']),\n  stopPropagation: PropTypes.bool,\n  placeholder: PropTypes.string,\n  open: PropTypes.bool,\n  wrapperStyle: PropTypes.string,\n  buttonStyle: PropTypes.string,\n  dataSign: PropTypes.string,\n  theme: PropTypes.object.isRequired,\n};\n\nMultipleSelect.defaultProps = {\n  className: null,\n  selectedClassName: null,\n  dropdownClassName: null,\n  iconClassName: null,\n  label: null,\n  onChange: undefined,\n  renderDropdownMenu: undefined,\n  renderValue: option => option,\n  dropdownAlign: 'center',\n  titleEnabled: undefined,\n  stopPropagation: false,\n  placeholder: undefined,\n  open: false,\n  wrapperStyle: '',\n  buttonStyle: '',\n  dataSign: 'MultipleSelect',\n};\n\nexport default ThemeConsumer(MultipleSelect);\n"],"file":"index.js"}