{"version":3,"sources":["lib/batchApiHelper.js"],"names":["batchPutApi","platform","url","query","body","boundry","uuid","v4","options","headers","ApiResponse","_contentType","_multipartContentType","reduce","data","item","_jsonContentType","JSON","stringify","put","result","multipart","batchGetApi","get"],"mappings":";;;;;;;;;;;;;;;;;;AAAA;;AACA;;;;;;;;SAEsBA,W;;;;;;;0BAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AACLC,YAAAA,QADK,QACLA,QADK,EAELC,GAFK,QAELA,GAFK,EAGLC,KAHK,QAGLA,KAHK,EAILC,IAJK,QAILA,IAJK;AAMCC,YAAAA,OAND,sBAMuBC,iBAAKC,EAAL,EANvB;AAOCC,YAAAA,OAPD,GAOW;AAAEC,cAAAA,OAAO,EAAE;AAAX,aAPX;AAQLD,YAAAA,OAAO,CAACC,OAAR,CAAgBC,wBAAYC,YAA5B,cAA+CD,wBAAYE,qBAA3D,wBAA8FP,OAA9F;AACAD,YAAAA,IAAI,GAAGA,IAAI,CAACS,MAAL,CAAY,UAACC,IAAD,EAAOC,IAAP,EAAgB;AACjCD,cAAAA,IAAI,gBAAST,OAAT,SAAJ;AACAS,cAAAA,IAAI,cAAOJ,wBAAYC,YAAnB,eAAoCD,wBAAYM,gBAAhD,aAAJ;AACAF,cAAAA,IAAI,cAAOG,IAAI,CAACC,SAAL,CAAeH,IAAI,CAACX,IAApB,CAAP,SAAJ;AACA,qBAAOU,IAAP;AACD,aALM,EAKJ,EALI,CAAP;AAMAV,YAAAA,IAAI,gBAASC,OAAT,OAAJ;AAfK;AAAA,mBAgBgBJ,QAAQ,CAACkB,GAAT,CAAajB,GAAb,EAAkBE,IAAlB,EAAwBD,KAAxB,EAA+BK,OAA/B,CAhBhB;;AAAA;AAgBCY,YAAAA,MAhBD;AAAA,6CAiBEA,MAAM,CAACC,SAAP,EAjBF;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,G;;;;SAoBeC,W;;;;;;;0BAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AACLrB,YAAAA,QADK,SACLA,QADK,EAELC,GAFK,SAELA,GAFK,EAGLC,KAHK,SAGLA,KAHK;AAKCE,YAAAA,OALD,sBAKuBC,iBAAKC,EAAL,EALvB;AAMCC,YAAAA,OAND,GAMW;AAAEC,cAAAA,OAAO,EAAE;AAAX,aANX;AAOLD,YAAAA,OAAO,CAACC,OAAR,CAAgBC,wBAAYC,YAA5B,cAA+CD,wBAAYE,qBAA3D,wBAA8FP,OAA9F;AAPK;AAAA,mBAQgBJ,QAAQ,CAACsB,GAAT,CAAarB,GAAb,EAAkBC,KAAlB,EAAyBK,OAAzB,CARhB;;AAAA;AAQCY,YAAAA,MARD;AAAA,8CASEA,MAAM,CAACC,SAAP,EATF;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,G","sourcesContent":["import ApiResponse from 'ringcentral/src/http/ApiResponse';\nimport uuid from 'uuid';\n\nexport async function batchPutApi({\n  platform,\n  url,\n  query,\n  body,\n}) {\n  const boundry = `Boundary_${uuid.v4()}`;\n  const options = { headers: {} };\n  options.headers[ApiResponse._contentType] = `${ApiResponse._multipartContentType}; boundary=${boundry}`;\n  body = body.reduce((data, item) => {\n    data += `--${boundry}\\r\\n`;\n    data += `${ApiResponse._contentType}: ${ApiResponse._jsonContentType}\\r\\n\\r\\n`;\n    data += `${JSON.stringify(item.body)}\\r\\n`;\n    return data;\n  }, '');\n  body += `--${boundry}--`;\n  const result = await platform.put(url, body, query, options);\n  return result.multipart();\n}\n\nexport async function batchGetApi({\n  platform,\n  url,\n  query,\n}) {\n  const boundry = `Boundary_${uuid.v4()}`;\n  const options = { headers: {} };\n  options.headers[ApiResponse._contentType] = `${ApiResponse._multipartContentType}; boundary=${boundry}`;\n  const result = await platform.get(url, query, options);\n  return result.multipart();\n}\n"],"file":"batchApiHelper.js"}