{"version":3,"sources":["components/LogBasicInfo/index.js"],"names":["LogBasicInfo","CallIcon","title","iconClassName","styles","callIcon","propTypes","PropTypes","string","isRequired","defaultProps","callIconMap","callResults","missed","dynamicsFont","callDirections","inbound","outbound","telephonyStatuses","ringing","callHover","colorStatusMap","green","callConnected","callAccepted","accepted","red","voicemail","rejected","blocked","noAnswer","busy","hangUp","HangUp","declined","orange","onHold","parkedCall","props","currentLog","call","logName","formatPhone","currentLocale","clickable","onClick","dataSign","direction","to","from","duration","result","telephonyStatus","number","phoneNumber","extensionNumber","formatNumber","status","active","isRinging","i18n","getString","statusI18n","icon","statusClassName","root","callInfo","pointer","callDisplay","contact","callDetail","separator","extra","extraButton","func","object","bool","value","undefined"],"mappings":";;;;;;;;;;;;kBA2DwBA,Y;;AA3DxB;;AACA;;;;AACA;;;;AACA;;;;AACA;;;;AACA;;;;AACA;;;;AACA;;AACA;;;;AACA;;;;AACA;;;;;;AAEA,IAAMC,WAAW,SAAXA,QAAW;AAAA,MAAGC,KAAH,QAAGA,KAAH;AAAA,MAAUC,aAAV,QAAUA,aAAV;AAAA,SACf;AAAA;AAAA;AACE,iBAAWC,iBAAOC,QADpB;AAEE,aAAOH,KAFT;AAGE,4CAAM,WAAWC,aAAjB;AAHF,GADe;AAAA,CAAjB;;AAQAF,SAASK,SAAT,GAAqB;AACnBJ,SAAOK,oBAAUC,MADE;AAEnBL,iBAAeI,oBAAUC,MAAV,CAAiBC;AAFb,CAArB;;AAKAR,SAASS,YAAT,GAAwB;AACtBR,SAAO;AADe,CAAxB;;AAIA,IAAMS,8EACHC,sBAAYC,MADT,EACkBC,uBAAaD,MAD/B,+CAEHE,yBAAeC,OAFZ,EAEsBF,uBAAaE,OAFnC,+CAGHD,yBAAeE,QAHZ,EAGuBH,uBAAaG,QAHpC,+CAIHC,0BAAkBC,OAJf,EAIyBL,uBAAaM,SAJtC,gBAAN;AAMA,IAAMC,iBAAiB;AACrBC,SAAO,CACLJ,0BAAkBK,aADb,EAELL,0BAAkBC,OAFb,EAGLP,sBAAYY,YAHP,EAILZ,sBAAYa,QAJP,CADc;AAOrBC,OAAK,CACHd,sBAAYC,MADT,EAEHD,sBAAYe,SAFT,EAGHf,sBAAYgB,QAHT,EAIHhB,sBAAYiB,OAJT,EAKHjB,sBAAYkB,QALT,EAMHlB,sBAAYmB,IANT,EAOHnB,sBAAYoB,MAPT,EAQHpB,sBAAYqB,MART,EASHrB,sBAAYsB,QATT,CAPgB;AAkBrBC,UAAQ,CACNjB,0BAAkBkB,MADZ,EAENlB,0BAAkBmB,UAFZ;AAlBa,CAAvB;;AAwBe,SAASrC,YAAT,CAAsBsC,KAAtB,EAA6B;AAAA,0BAWtCA,KAXsC,CAExCC,UAFwC;AAAA,MAGtCC,IAHsC,qBAGtCA,IAHsC;AAAA,MAItCC,OAJsC,qBAItCA,OAJsC;AAAA,MAMxCC,WANwC,GAWtCJ,KAXsC,CAMxCI,WANwC;AAAA,MAOxCC,aAPwC,GAWtCL,KAXsC,CAOxCK,aAPwC;AAAA,MAQxCC,SARwC,GAWtCN,KAXsC,CAQxCM,SARwC;AAAA,MASxCC,OATwC,GAWtCP,KAXsC,CASxCO,OATwC;AAAA,MAUxCC,QAVwC,GAWtCR,KAXsC,CAUxCQ,QAVwC;;AAY1C,MAAI,CAACN,IAAL,EAAW,OAAO,IAAP;AAZ+B,MAcxCO,SAdwC,GAoBtCP,IApBsC,CAcxCO,SAdwC;AAAA,MAexCC,EAfwC,GAoBtCR,IApBsC,CAexCQ,EAfwC;AAAA,MAgBxCC,IAhBwC,GAoBtCT,IApBsC,CAgBxCS,IAhBwC;AAAA,MAiBxCC,QAjBwC,GAoBtCV,IApBsC,CAiBxCU,QAjBwC;AAAA,MAkBxCC,MAlBwC,GAoBtCX,IApBsC,CAkBxCW,MAlBwC;AAAA,MAmBxCC,eAnBwC,GAoBtCZ,IApBsC,CAmBxCY,eAnBwC;;AAqB1C,MAAMC,SAASN,cAAchC,yBAAeE,QAA7B,GACZ+B,OAAOA,GAAGM,WAAH,IAAkBN,GAAGO,eAA5B,CADY,GAEZN,SAASA,KAAKK,WAAL,IAAoBL,KAAKM,eAAlC,CAFH;AAGA,MAAMC,eAAed,YAAYW,MAAZ,CAArB;AACA,MAAMI,SAASN,UAAUC,eAAzB;AACA,MAAMM,SAAU,CAACR,QAAD,IAAaA,aAAa,CAA1C;AACA,MAAMrC,SAAS,8BAAS2B,IAAT,CAAf;AACA,MAAMlB,QAAQ,qBAASmC,MAAT,EAAiBpC,eAAeC,KAAhC,CAAd;AACA,MAAMI,MAAM,qBAAS+B,MAAT,EAAiBpC,eAAeK,GAAhC,CAAZ;AACA,MAAMS,SAAS,qBAASsB,MAAT,EAAiBpC,eAAec,MAAhC,CAAf;AACA,MAAMwB,YAAYF,WAAWvC,0BAAkBC,OAA/C;AACA,MAAMjB,QAAQW,SAAS+C,eAAKC,SAAL,CAAejD,sBAAYC,MAA3B,EAAmC8B,aAAnC,CAAT,GACZiB,eAAKC,SAAL,CAAed,SAAf,EAA0BJ,aAA1B,CADF;AAEA,MAAMmB,aAAaF,eAAKC,SAAL,CAAeJ,MAAf,EAAuBd,aAAvB,CAAnB;AACA,MAAMxC,gBAAgB,0BACpBC,iBAAO2D,IADa,EAEpBJ,aAAavD,iBAAOe,OAFA,EAGpBwC,aAAa7C,uBAAaM,SAHN,EAIpB,CAACuC,SAAD,IAAc,CAAC9C,MAAf,IAAyBF,YAAYoC,SAAZ,CAJL,EAKpBlC,UAAUT,iBAAOS,MALG,EAMpBA,UAAUF,YAAYC,sBAAYC,MAAxB,CANU,EAOpB,CAAC8C,SAAD,IAAcD,MAAd,IAAwBtD,iBAAOsD,MAPX,CAAtB;AASA,MAAMM,kBAAkB,0BACtB5D,iBAAOqD,MADe,EAEtBnC,SAASlB,iBAAOkB,KAFM,EAGtBI,OAAOtB,iBAAOsB,GAHQ,EAItBS,UAAU/B,iBAAO+B,MAJK,CAAxB;AAMA,SACE;AAAA;AAAA,MAAK,aAAU,YAAf,EAA4B,WAAW/B,iBAAO6D,IAA9C;AACE;AAAA;AAAA;AACE,qBAAWnB,QADb;AAEE,mBAAW,0BACT1C,iBAAO8D,QADE,EAETtB,aAAaxC,iBAAO+D,OAFX,CAFb;AAME,iBAASvB,YAAYC,OAAZ,GAAsB,YAAM,CAAE;AANzC;AAQE,oCAAC,QAAD,IAAU,OAAO3C,KAAjB,EAAwB,eAAeC,aAAvC,GARF;AASE;AAAA;AAAA,UAAI,WAAWC,iBAAOgE,WAAtB;AACE;AAAA;AAAA;AACE,uBAAWhE,iBAAOiE,OADpB;AAEE,mBAAO5B,OAFT;AAGGA;AAHH,SADF;AAME;AAAA;AAAA,YAAI,WAAWrC,iBAAOkE,UAAtB;AACE;AAAA;AAAA;AACE,yBAAWlE,iBAAOiD,MADpB;AAEE,qBAAOG,YAFT;AAGGA;AAHH,WADF;AAOIA,yBACE;AAAA;AAAA,cAAM,WAAWpD,iBAAOmE,SAAxB;AAAA;AAAA,WADF,GAEI,IATR;AAWE;AAAA;AAAA;AACE,yBAAWP,eADb;AAEE,qBAAOF,UAFT;AAGGA;AAHH;AAXF;AANF;AATF,KADF;AAmCE;AAAA;AAAA,QAAK,WAAW1D,iBAAOoE,KAAvB;AACGlC,YAAMmC;AADT;AAnCF,GADF;AAyCD;;AAEDzE,aAAaM,SAAb,GAAyB;AACvBqC,iBAAepC,oBAAUC,MAAV,CAAiBC,UADT;AAEvBiC,eAAanC,oBAAUmE,IAFA;AAGvBnC,cAAYhC,oBAAUoE,MAHC;AAIvBF,eAAalE,oBAAUoE,MAJA;AAKvB/B,aAAWrC,oBAAUqE,IALE;AAMvB/B,WAAStC,oBAAUmE,IANI;AAOvB5B,YAAUvC,oBAAUC;AAPG,CAAzB;;AAUAR,aAAaU,YAAb,GAA4B;AAC1BgC,eAAa;AAAA,WAASmC,KAAT;AAAA,GADa;AAE1BtC,cAAY,EAFc;AAG1BkC,eAAaK,SAHa;AAI1BlC,aAAW,KAJe;AAK1BC,SAL0B,qBAKhB,CAAE,CALc;;AAM1BC,YAAUgC;AANgB,CAA5B","file":"index.js","sourcesContent":["import { contains } from 'ramda';\nimport React from 'react';\nimport PropTypes from 'prop-types';\nimport classnames from 'classnames';\nimport callDirections from 'ringcentral-integration/enums/callDirections';\nimport callResults from 'ringcentral-integration/enums/callResults';\nimport telephonyStatuses from 'ringcentral-integration/enums/telephonyStatus';\nimport { isMissed } from 'ringcentral-integration/lib/callLogHelpers';\nimport dynamicsFont from '../../assets/DynamicsFont/DynamicsFont.scss';\nimport i18n from './i18n';\nimport styles from './styles.scss';\n\nconst CallIcon = ({ title, iconClassName }) => (\n  <div\n    className={styles.callIcon}\n    title={title}>\n    <span className={iconClassName} />\n  </div>\n);\n\nCallIcon.propTypes = {\n  title: PropTypes.string,\n  iconClassName: PropTypes.string.isRequired\n};\n\nCallIcon.defaultProps = {\n  title: '',\n};\n\nconst callIconMap = {\n  [callResults.missed]: dynamicsFont.missed,\n  [callDirections.inbound]: dynamicsFont.inbound,\n  [callDirections.outbound]: dynamicsFont.outbound,\n  [telephonyStatuses.ringing]: dynamicsFont.callHover\n};\nconst colorStatusMap = {\n  green: [\n    telephonyStatuses.callConnected,\n    telephonyStatuses.ringing,\n    callResults.callAccepted,\n    callResults.accepted,\n  ],\n  red: [\n    callResults.missed,\n    callResults.voicemail,\n    callResults.rejected,\n    callResults.blocked,\n    callResults.noAnswer,\n    callResults.busy,\n    callResults.hangUp,\n    callResults.HangUp,\n    callResults.declined\n  ],\n  orange: [\n    telephonyStatuses.onHold,\n    telephonyStatuses.parkedCall\n  ],\n};\n\nexport default function LogBasicInfo(props) {\n  const {\n    currentLog: {\n      call,\n      logName,\n    },\n    formatPhone,\n    currentLocale,\n    clickable,\n    onClick,\n    dataSign\n  } = props;\n  if (!call) return null;\n  const {\n    direction,\n    to,\n    from,\n    duration,\n    result,\n    telephonyStatus\n  } = call;\n  const number = direction === callDirections.outbound ?\n    (to && (to.phoneNumber || to.extensionNumber)) :\n    (from && (from.phoneNumber || from.extensionNumber));\n  const formatNumber = formatPhone(number);\n  const status = result || telephonyStatus;\n  const active = (!duration && duration !== 0);\n  const missed = isMissed(call);\n  const green = contains(status, colorStatusMap.green);\n  const red = contains(status, colorStatusMap.red);\n  const orange = contains(status, colorStatusMap.orange);\n  const isRinging = status === telephonyStatuses.ringing;\n  const title = missed ? i18n.getString(callResults.missed, currentLocale) :\n    i18n.getString(direction, currentLocale);\n  const statusI18n = i18n.getString(status, currentLocale);\n  const iconClassName = classnames(\n    styles.icon,\n    isRinging && styles.ringing,\n    isRinging && dynamicsFont.callHover,\n    !isRinging && !missed && callIconMap[direction],\n    missed && styles.missed,\n    missed && callIconMap[callResults.missed],\n    !isRinging && active && styles.active\n  );\n  const statusClassName = classnames(\n    styles.status,\n    green && styles.green,\n    red && styles.red,\n    orange && styles.orange\n  );\n  return (\n    <div data-sign=\"logSection\" className={styles.root}>\n      <div\n        data-sign={dataSign}\n        className={classnames(\n          styles.callInfo,\n          clickable && styles.pointer\n        )}\n        onClick={clickable ? onClick : () => {}}\n      >\n        <CallIcon title={title} iconClassName={iconClassName} />\n        <ul className={styles.callDisplay}>\n          <li\n            className={styles.contact}\n            title={logName}>\n            {logName}\n          </li>\n          <li className={styles.callDetail}>\n            <span\n              className={styles.number}\n              title={formatNumber}>\n              {formatNumber}\n            </span>\n            {\n              formatNumber ? (\n                <span className={styles.separator}>&nbsp;</span>\n              ) : null\n            }\n            <span\n              className={statusClassName}\n              title={statusI18n}>\n              {statusI18n}\n            </span>\n          </li>\n        </ul>\n      </div>\n      <div className={styles.extra}>\n        {props.extraButton}\n      </div>\n    </div>\n  );\n}\n\nLogBasicInfo.propTypes = {\n  currentLocale: PropTypes.string.isRequired,\n  formatPhone: PropTypes.func,\n  currentLog: PropTypes.object,\n  extraButton: PropTypes.object,\n  clickable: PropTypes.bool,\n  onClick: PropTypes.func,\n  dataSign: PropTypes.string\n};\n\nLogBasicInfo.defaultProps = {\n  formatPhone: value => value,\n  currentLog: {},\n  extraButton: undefined,\n  clickable: false,\n  onClick() {},\n  dataSign: undefined\n};\n"]}