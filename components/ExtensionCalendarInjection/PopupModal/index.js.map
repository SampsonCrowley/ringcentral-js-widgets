{"version":3,"sources":["components/ExtensionCalendarInjection/PopupModal/index.js"],"names":["PopupModal","props","onChange","checked","setState","saveAsDefault","onSubmit","datas","refPanel","getDatas","onClose","meetingType","meeting","_saved","mode","submit","notShowAgain","meetingEnum","videoCall","state","meetingModeEnum","add","data","Object","assign","args","close","i18n","updateEnableJoinBeforeHost","footerValues","checkboxText","saveAsDefaultAndNotShowAgain","saveButtonText","done","edit","update","styles","outter","mask","wrapper","container","conference","conferenceCall","cancel","c","Component","propTypes","theme","PropTypes","object","isRequired","func","string","bool","defaultProps","i"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\nimport classnames from 'classnames';\nimport PropTypes from 'prop-types';\n\nimport MeetingPanel from '../MeetingPanel';\nimport ConferencePanel from '../ConferencePanel';\nimport Header from '../Header';\nimport Footer from '../Footer';\nimport meetingEnum from '../constants/meetingEnum';\nimport meetingModeEnum from '../constants/meetingModeEnum';\nimport styles from './styles.scss';\nimport { ThemeConsumer } from '../commons/themeContext';\n\nclass PopupModal extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      saveAsDefault: false,\n    };\n  }\n\n  onChange = (checked) => {\n    this.setState({\n      saveAsDefault: checked,\n    });\n  }\n\n  onSubmit = async () => {\n    const datas = this.refPanel.getDatas();\n    if (!datas) {\n      return false;\n    }\n\n    await this.onClose();\n    const {\n      meetingType,\n      meeting,\n      _saved,\n      mode,\n      submit,\n    } = this.props;\n    let notShowAgain = (meetingType === meetingEnum.videoCall) ? meeting._saved : _saved;\n    const { saveAsDefault } = this.state;\n    if (saveAsDefault && mode === meetingModeEnum.add) {\n      notShowAgain = true;\n    }\n    const data = Object.assign(datas, this.state);\n     // eslint-disable-line\n    return submit({\n      ...data,\n      notShowAgain,\n    });\n  }\n\n  onClose = (args) => {\n    this.props.close(args); // eslint-disable-line\n  }\n\n  render() {\n    const {\n      i18n, mode, meetingType, updateEnableJoinBeforeHost,\n    } = this.props;\n\n    const { saveAsDefault } = this.state;\n\n    const footerValues = {\n      [meetingModeEnum.add]: {\n        checkboxText: i18n.saveAsDefaultAndNotShowAgain,\n        saveButtonText: i18n.done\n      },\n      [meetingModeEnum.edit]: {\n        checkboxText: i18n.saveAsDefault,\n        saveButtonText: i18n.update\n      },\n    }[mode];\n\n    return (\n      <div className={styles.outter}>\n        <div className={styles.mask} />\n        <div className={styles.wrapper}>\n          <div\n            className={classnames(styles.container, {\n              [styles.meeting]: meetingType === meetingEnum.videoCall,\n              [styles.conference]: meetingType === meetingEnum.conferenceCall,\n            })}\n            data-sign=\"popupModalContainer\"\n          >\n            <Header onClose={() => this.onClose({ cancel: true })} i18n={i18n} />\n            {meetingType === meetingEnum.videoCall && (\n              <MeetingPanel\n                {...this.props}\n                ref={(c) => { this.refPanel = c; }}\n              />\n            )}\n            {meetingType === meetingEnum.conferenceCall && (\n              <ConferencePanel\n                {...this.props}\n                ref={(c) => { this.refPanel = c; }}\n                updateEnableJoinBeforeHost={updateEnableJoinBeforeHost}\n              />\n            )}\n            <Footer\n              onCheckboxChange={this.onChange}\n              saveAsDefault={saveAsDefault}\n              footerValues={footerValues}\n              onSubmit={this.onSubmit}\n            />\n          </div>\n        </div>\n      </div>\n    );\n  }\n}\n\nPopupModal.propTypes = {\n  theme: PropTypes.object.isRequired,\n  i18n: PropTypes.object.isRequired,\n  close: PropTypes.func.isRequired,\n  meetingType: PropTypes.string.isRequired,\n  meeting: PropTypes.object,\n  mode: PropTypes.string,\n  submit: PropTypes.func,\n  updateEnableJoinBeforeHost: PropTypes.func,\n  _saved: PropTypes.bool,\n};\n\nPopupModal.defaultProps = {\n  meeting: {},\n  mode: meetingModeEnum.add,\n  submit: i => i,\n  updateEnableJoinBeforeHost: i => i,\n  _saved: false,\n};\n\nexport default ThemeConsumer(PopupModal);\n"],"file":"index.js"}