{"version":3,"sources":["components/ExtensionCalendarInjection/MeetingPanel/index.js"],"names":["MeetingPanel","props","getDatas","password","state","validatePassword","onUpdate","key","value","setState","_requireMeetingPassword","valid","validPassword","onAudioOptionsChange","audioOptions","split","meeting","recurringMeeting","startHostVideo","startParticipantsVideo","allowJoinBeforeHost","i18n","theme","AUDIO_OPTIONS","display","telephone","voip","both","styles","form","formGroup","when","flex","checked","info","recurringMeetingPrompt","video","videoDescribe","flexMargin8","hostVideoOn","participantVideoOn","titleMargin8","audioOptionDropdown","dropdown","UI","dropdownIcon","join","option","find","item","meetingOptions","requirePassword","passwordField","label","target","PASSWORD_REGEX","test","noPassword","isOldUI","joinBeforeHost","Component","propTypes","PropTypes","object","isRequired"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA;;AACA;;AACA;;AACA;;AACA;;AACA;;AACA;;AACA;;AACA;;AACA;;;;;;;;;;;;;;;;;;;;;;;;;;;;IAEMA,Y;;;;;AACJ,wBAAYC,KAAZ,EAAmB;AAAA;;AAAA;;AACjB,sFAAMA,KAAN;;AADiB,UAQnBC,QARmB,GAQR,YAAM;AAAA,UACPC,QADO,GACM,MAAKC,KADX,CACPD,QADO;;AAEf,UAAI,CAAC,MAAKE,gBAAL,CAAsBF,QAAtB,CAAL,EAAsC;AACpC,eAAO,IAAP;AACD;;AACD,aAAO,MAAKC,KAAZ;AACD,KAdkB;;AAAA,UAgBnBE,QAhBmB,GAgBR,UAACC,GAAD,EAAMC,KAAN,EAAgB;AACzB,UAAID,GAAG,KAAK,yBAAR,IAAqC,CAACC,KAA1C,EAAiD;AAC/C,cAAKC,QAAL,CAAc;AACZN,UAAAA,QAAQ,EAAE;AADE,SAAd;AAGD;;AACD,YAAKM,QAAL,qBACGF,GADH,EACSC,KADT;AAGD,KAzBkB;;AAAA,UA2BnBH,gBA3BmB,GA2BA,UAACF,QAAD,EAAc;AAAA,UACvBO,uBADuB,GACK,MAAKN,KADV,CACvBM,uBADuB;AAE/B,UAAMC,KAAK,GAAG,CAAC,EAAE,CAACD,uBAAD,IAA4BP,QAA9B,CAAf;;AACA,YAAKM,QAAL,CAAc;AACZG,QAAAA,aAAa,EAAED;AADH,OAAd;;AAGA,aAAOA,KAAP;AACD,KAlCkB;;AAAA,UAoCnBE,oBApCmB,GAoCI,UAACC,YAAD,EAAkB;AACvC,YAAKL,QAAL,CAAc;AAAEK,QAAAA,YAAY,EAAEA,YAAY,CAACN,KAAb,CAAmBO,KAAnB,CAAyB,GAAzB;AAAhB,OAAd;AACD,KAtCkB;;AAEjB,UAAKX,KAAL,qBACKH,KAAK,CAACe,OADX;AAEEJ,MAAAA,aAAa,EAAE;AAFjB;AAFiB;AAMlB;;;;6BAkCQ;AAAA;;AAAA,wBAKH,KAAKR,KALF;AAAA,UAELa,gBAFK,eAELA,gBAFK;AAAA,UAEaC,cAFb,eAEaA,cAFb;AAAA,UAE6BC,sBAF7B,eAE6BA,sBAF7B;AAAA,UAEqDL,YAFrD,eAEqDA,YAFrD;AAAA,UAGLJ,uBAHK,eAGLA,uBAHK;AAAA,UAGoBP,QAHpB,eAGoBA,QAHpB;AAAA,UAG8BiB,mBAH9B,eAG8BA,mBAH9B;AAAA,UAILR,aAJK,eAILA,aAJK;AAAA,wBAOiB,KAAKX,KAPtB;AAAA,UAOCoB,IAPD,eAOCA,IAPD;AAAA,UAOOC,KAPP,eAOOA,KAPP;AASP,UAAMC,aAAa,GAAG,CACpB;AACEf,QAAAA,KAAK,EAAE,OADT;AAEEgB,QAAAA,OAAO,EAAEH,IAAI,CAACI;AAFhB,OADoB,EAKpB;AACEjB,QAAAA,KAAK,EAAE,eADT;AAEEgB,QAAAA,OAAO,EAAEH,IAAI,CAACK;AAFhB,OALoB,EAUpB;AACElB,QAAAA,KAAK,EAAE,qBADT;AAEEgB,QAAAA,OAAO,EAAEH,IAAI,CAACM;AAFhB,OAVoB,CAAtB;AAgBA,aACE;AAAK,QAAA,SAAS,EAAEC,mBAAOC;AAAvB,SACE;AAAK,QAAA,SAAS,EAAED,mBAAOE;AAAvB,SACE,gCAAC,iBAAD;AAAO,QAAA,KAAK,EAAET,IAAI,CAACU;AAAnB,QADF,EAEE;AAAK,QAAA,SAAS,EAAEH,mBAAOI;AAAvB,SACE,8CAAOX,IAAI,CAACJ,gBAAZ,CADF,EAEE,8CACE,gCAAC,kBAAD;AACE,QAAA,OAAO,EAAEA,gBADX;AAEE,QAAA,QAAQ,EAAC,kBAFX;AAGE,QAAA,QAAQ,EAAE,kBAAAgB,OAAO;AAAA,iBAAI,MAAI,CAAC3B,QAAL,CAAc,kBAAd,EAAkC2B,OAAlC,CAAJ;AAAA;AAHnB,QADF,CAFF,CAFF,EAYGhB,gBAAgB,IAAI;AAAK,QAAA,SAAS,EAAEW,mBAAOM;AAAvB,SAA8Bb,IAAI,CAACc,sBAAnC,CAZvB,CADF,EAeE;AAAK,QAAA,SAAS,EAAEP,mBAAOE;AAAvB,SACE,gCAAC,iBAAD;AAAO,QAAA,KAAK,EAAET,IAAI,CAACe,KAAnB;AAA0B,QAAA,QAAQ,aAAMf,IAAI,CAACgB,aAAX;AAAlC,QADF,EAEE;AAAK,QAAA,SAAS,EAAE,4BAAWT,mBAAOI,IAAlB,EAAwBJ,mBAAOU,WAA/B;AAAhB,SACE,6CAAMjB,IAAI,CAACkB,WAAX,CADF,EAEE,8CACE,gCAAC,kBAAD;AACE,QAAA,OAAO,EAAErB,cADX;AAEE,QAAA,QAAQ,EAAC,kBAFX;AAGE,QAAA,QAAQ,EAAE,kBAAAe,OAAO;AAAA,iBAAI,MAAI,CAAC3B,QAAL,CAAc,gBAAd,EAAgC2B,OAAhC,CAAJ;AAAA;AAHnB,QADF,CAFF,CAFF,EAYE;AAAK,QAAA,SAAS,EAAEL,mBAAOI;AAAvB,SACE,6CAAMX,IAAI,CAACmB,kBAAX,CADF,EAEE,8CACE,gCAAC,kBAAD;AACE,QAAA,OAAO,EAAErB,sBADX;AAEE,QAAA,QAAQ,EAAC,kBAFX;AAGE,QAAA,QAAQ,EAAE,kBAAAc,OAAO;AAAA,iBAAI,MAAI,CAAC3B,QAAL,CAAc,wBAAd,EAAwC2B,OAAxC,CAAJ;AAAA;AAHnB,QADF,CAFF,CAZF,CAfF,EAsCE;AAAK,QAAA,SAAS,EAAEL,mBAAOE;AAAvB,SACE,gCAAC,iBAAD;AAAO,QAAA,KAAK,EAAET,IAAI,CAACP,YAAnB;AAAiC,QAAA,SAAS,EAAEc,mBAAOa;AAAnD,QADF,EAEE;AAAK,QAAA,SAAS,EAAE,4BAAWb,mBAAOc,mBAAlB;AAAhB,SACE,gCAAC,0BAAD;AACE,QAAA,SAAS,EAAE,4BAAWd,mBAAOe,QAAlB,EAA4BrB,KAAK,CAACsB,EAAN,IAAYhB,mBAAON,KAAK,CAACsB,EAAb,CAAxC,CADb;AAEE,QAAA,aAAa,EAAEhB,mBAAOiB,YAFxB;AAGE,QAAA,KAAK,EAAE/B,YAAY,CAACgC,IAAb,CAAkB,GAAlB,CAHT;AAIE,QAAA,QAAQ,EAAE,kBAAAC,MAAM;AAAA,iBAAI,MAAI,CAAClC,oBAAL,CAA0BkC,MAA1B,CAAJ;AAAA,SAJlB;AAKE,QAAA,OAAO,EAAExB,aALX;AAME,QAAA,aAAa,EAAE,uBAAAwB,MAAM;AAAA,iBAAIA,MAAM,CAACvB,OAAX;AAAA,SANvB;AAOE,QAAA,WAAW,EAAE,qBAAAhB,KAAK;AAAA,iBAAIe,aAAa,CAACyB,IAAd,CAAmB,UAAAC,IAAI;AAAA,mBAAIA,IAAI,CAACzC,KAAL,KAAeA,KAAnB;AAAA,WAAvB,EAAiDgB,OAArD;AAAA,SAPpB;AAQE,QAAA,cAAc,EAAE,wBAAAuB,MAAM;AAAA,iBAAI;AAAK,YAAA,KAAK,EAAEA,MAAM,CAACvB;AAAnB,aAA6BuB,MAAM,CAACvB,OAApC,CAAJ;AAAA,SARxB;AASE,QAAA,aAAa,EAAC,MAThB;AAUE,QAAA,IAAI,EAAE,gCAAC,oBAAD,OAVR;AAWE,QAAA,YAAY;AAXd,QADF,CAFF,CAtCF,EAwDE;AAAK,QAAA,SAAS,EAAEI,mBAAOE;AAAvB,SACE,gCAAC,iBAAD;AAAO,QAAA,KAAK,EAAET,IAAI,CAAC6B;AAAnB,QADF,EAEE;AAAK,QAAA,SAAS,EAAE,4BAAWtB,mBAAOI,IAAlB,EAAwBJ,mBAAOU,WAA/B;AAAhB,SACE,6CAAMjB,IAAI,CAAC8B,eAAX,CADF,EAEE,8CACE,gCAAC,kBAAD;AACE,QAAA,OAAO,EAAEzC,uBADX;AAEE,QAAA,QAAQ,EAAC,kBAFX;AAGE,QAAA,QAAQ,EAAE,kBAAAuB,OAAO;AAAA,iBAAI,MAAI,CAAC3B,QAAL,CAAc,yBAAd,EAAyC2B,OAAzC,CAAJ;AAAA;AAHnB,QADF,CAFF,CAFF,EAYGvB,uBAAuB,IACtB;AAAK,QAAA,SAAS,EAAE,4BAAWkB,mBAAOwB,aAAlB;AAAhB,SACE;AAAK,QAAA,SAAS,EAAExB,mBAAOyB;AAAvB,SAA+BhC,IAAI,CAAClB,QAApC,CADF,EAEE,gCAAC,iBAAD;AACE,QAAA,KAAK,EAAEA,QAAQ,IAAI,EADrB;AAEE,QAAA,QAAQ,EAAE,wBAAgB;AAAA,cAAbmD,MAAa,QAAbA,MAAa;;AACxB,UAAA,MAAI,CAACjD,gBAAL,CAAsBiD,MAAM,CAAC9C,KAA7B;;AACA,cAAI+C,0BAAeC,IAAf,CAAoBF,MAAM,CAAC9C,KAA3B,CAAJ,EAAuC;AACrC,YAAA,MAAI,CAACF,QAAL,CAAc,UAAd,EAA0BgD,MAAM,CAAC9C,KAAjC;AACD;AACF,SAPH;AAQE,QAAA,OAAO,EAAE,CAACI,aARZ;AASE,QAAA,YAAY,EAAES,IAAI,CAACoC,UATrB;AAUE,QAAA,QAAQ,EAAC,sBAVX;AAWE,QAAA,WAAW,EAAEnC,KAAK,CAACoC,OAAN,GAAgB,EAAhB,GAAqBrC,IAAI,CAAClB;AAXzC,QAFF,CAbJ,EA8BE;AAAK,QAAA,SAAS,EAAEyB,mBAAOI;AAAvB,SACE,6CAAMX,IAAI,CAACsC,cAAX,CADF,EAEE,8CACE,gCAAC,kBAAD;AACE,QAAA,OAAO,EAAEvC,mBADX;AAEE,QAAA,QAAQ,EAAC,kBAFX;AAGE,QAAA,QAAQ,EAAE,kBAAAa,OAAO;AAAA,iBAAI,MAAI,CAAC3B,QAAL,CAAc,qBAAd,EAAqC2B,OAArC,CAAJ;AAAA;AAHnB,QADF,CAFF,CA9BF,CAxDF,CADF;AAoGD;;;;EAtKwB2B,gB;;AAyK3B5D,YAAY,CAAC6D,SAAb,GAAyB;AACvBxC,EAAAA,IAAI,EAAEyC,sBAAUC,MAAV,CAAiBC,UADA;AAEvBhD,EAAAA,OAAO,EAAE8C,sBAAUC,MAAV,CAAiBC,UAFH;AAGvB1C,EAAAA,KAAK,EAAEwC,sBAAUC,MAAV,CAAiBC;AAHD,CAAzB;eAMehE,Y","sourcesContent":["import classnames from 'classnames';\nimport React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport DropdownSelect from '../../DropdownSelect';\nimport { PASSWORD_REGEX } from '../../MeetingConfigs/constants';\nimport styles from '../PopupModal/styles.scss';\nimport ArrowSVG from '../ArrowSVG';\nimport Switch from '../Switch';\nimport Title from '../Title';\nimport Input from '../Input';\n\nclass MeetingPanel extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      ...props.meeting,\n      validPassword: true,\n    };\n  }\n\n  getDatas = () => {\n    const { password } = this.state;\n    if (!this.validatePassword(password)) {\n      return null;\n    }\n    return this.state;\n  }\n\n  onUpdate = (key, value) => {\n    if (key === '_requireMeetingPassword' && !value) {\n      this.setState({\n        password: ''\n      });\n    }\n    this.setState({\n      [key]: value\n    });\n  }\n\n  validatePassword = (password) => {\n    const { _requireMeetingPassword } = this.state;\n    const valid = !!(!_requireMeetingPassword || password);\n    this.setState({\n      validPassword: valid\n    });\n    return valid;\n  }\n\n  onAudioOptionsChange = (audioOptions) => {\n    this.setState({ audioOptions: audioOptions.value.split('_') });\n  }\n\n  render() {\n    const {\n      recurringMeeting, startHostVideo, startParticipantsVideo, audioOptions,\n      _requireMeetingPassword, password, allowJoinBeforeHost,\n      validPassword,\n    } = this.state;\n\n    const { i18n, theme } = this.props;\n\n    const AUDIO_OPTIONS = [\n      {\n        value: 'Phone',\n        display: i18n.telephone,\n      },\n      {\n        value: 'ComputerAudio',\n        display: i18n.voip,\n\n      },\n      {\n        value: 'Phone_ComputerAudio',\n        display: i18n.both,\n      },\n    ];\n\n    return (\n      <div className={styles.form}>\n        <div className={styles.formGroup}>\n          <Title label={i18n.when} />\n          <div className={styles.flex}>\n            <span>{i18n.recurringMeeting}</span>\n            <span>\n              <Switch\n                checked={recurringMeeting}\n                dataSign=\"enableJoinToggle\"\n                onChange={checked => this.onUpdate('recurringMeeting', checked)}\n                />\n            </span>\n          </div>\n          {recurringMeeting && <div className={styles.info}>{i18n.recurringMeetingPrompt}</div>}\n        </div>\n        <div className={styles.formGroup}>\n          <Title label={i18n.video} subLabel={`(${i18n.videoDescribe})`} />\n          <div className={classnames(styles.flex, styles.flexMargin8)}>\n            <div>{i18n.hostVideoOn}</div>\n            <span>\n              <Switch\n                checked={startHostVideo}\n                dataSign=\"enableJoinToggle\"\n                onChange={checked => this.onUpdate('startHostVideo', checked)}\n              />\n            </span>\n          </div>\n          <div className={styles.flex}>\n            <div>{i18n.participantVideoOn}</div>\n            <span>\n              <Switch\n                checked={startParticipantsVideo}\n                dataSign=\"enableJoinToggle\"\n                onChange={checked => this.onUpdate('startParticipantsVideo', checked)}\n              />\n            </span>\n          </div>\n        </div>\n        <div className={styles.formGroup}>\n          <Title label={i18n.audioOptions} className={styles.titleMargin8} />\n          <div className={classnames(styles.audioOptionDropdown)}>\n            <DropdownSelect\n              className={classnames(styles.dropdown, theme.UI && styles[theme.UI])}\n              iconClassName={styles.dropdownIcon}\n              value={audioOptions.join('_')}\n              onChange={option => this.onAudioOptionsChange(option)}\n              options={AUDIO_OPTIONS}\n              valueFunction={option => option.display}\n              renderValue={value => AUDIO_OPTIONS.find(item => item.value === value).display}\n              renderFunction={option => <div title={option.display}>{option.display}</div>}\n              dropdownAlign=\"left\"\n              icon={<ArrowSVG />}\n              titleEnabled\n            />\n          </div>\n        </div>\n        <div className={styles.formGroup}>\n          <Title label={i18n.meetingOptions} />\n          <div className={classnames(styles.flex, styles.flexMargin8)}>\n            <div>{i18n.requirePassword}</div>\n            <span>\n              <Switch\n                checked={_requireMeetingPassword}\n                dataSign=\"enableJoinToggle\"\n                onChange={checked => this.onUpdate('_requireMeetingPassword', checked)}\n              />\n            </span>\n          </div>\n          {_requireMeetingPassword && (\n            <div className={classnames(styles.passwordField)}>\n              <div className={styles.label}>{i18n.password}</div>\n              <Input\n                value={password || ''}\n                onChange={({ target }) => {\n                  this.validatePassword(target.value);\n                  if (PASSWORD_REGEX.test(target.value)) {\n                    this.onUpdate('password', target.value);\n                  }\n                }}\n                isError={!validPassword}\n                errorMessage={i18n.noPassword}\n                dataSign=\"requirePasswordInput\"\n                placeholder={theme.isOldUI ? '' : i18n.password}\n              />\n            </div>\n          )}\n          <div className={styles.flex}>\n            <div>{i18n.joinBeforeHost}</div>\n            <span>\n              <Switch\n                checked={allowJoinBeforeHost}\n                dataSign=\"enableJoinToggle\"\n                onChange={checked => this.onUpdate('allowJoinBeforeHost', checked)}\n              />\n            </span>\n          </div>\n        </div>\n      </div>\n    );\n  }\n}\n\nMeetingPanel.propTypes = {\n  i18n: PropTypes.object.isRequired,\n  meeting: PropTypes.object.isRequired,\n  theme: PropTypes.object.isRequired,\n};\n\nexport default MeetingPanel;\n"],"file":"index.js"}