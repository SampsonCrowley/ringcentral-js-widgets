{"version":3,"sources":["components/ExtensionCalendarInjection/ConferencePanel/index.js"],"names":["ConferencePanel","props","onUpdate","key","value","setState","onUpdateAllowJoinBeforeHost","checked","updateEnableJoinBeforeHost","result","allowJoinBeforeHost","renderValue","state","dialInNumber","additionalNumbers","dialInNumbers","additionalNumberObjs","reduce","res","curr","concat","find","e","phoneNumber","styles","additionalValueList","numbers","renderDropdownMenu","open","filter","item","getDatas","i18n","form","formGroup","addinalDialInNumbers","selectNumbers","meetingOptions","flex","enableJoinBeforeHost","Component","propTypes","PropTypes","array","string","isRequired","object","bool","func","defaultProps"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport styles from '../PopupModal/styles.scss';\nimport DropDialInNumberList from '../DropDialInNumberList';\nimport DropAdditionalValues from '../DropAdditionalValues';\nimport MultipleSelect from '../MultipleSelect';\nimport Switch from '../Switch';\nimport DialInNumberDropdown from '../DialInNumberDropdown';\nimport Title from '../Title';\n\nclass ConferencePanel extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      dialInNumber: props.dialInNumber,\n      dialInNumbers: props.dialInNumbers,\n      additionalNumbers: props.additionalNumbers,\n      allowJoinBeforeHost: props.allowJoinBeforeHost,\n    };\n  }\n\n  onUpdate = async (key, value) => {\n    this.setState({\n      [key]: value\n    });\n  }\n\n  onUpdateAllowJoinBeforeHost = async (checked) => {\n    const result = await this.props.updateEnableJoinBeforeHost(checked);\n    if (result === null) {\n      return;\n    }\n    this.setState({ allowJoinBeforeHost: result.allowJoinBeforeHost });\n  }\n\n  renderValue = () => {\n    const { dialInNumber, additionalNumbers, dialInNumbers } = this.state;\n\n    const additionalNumberObjs = (additionalNumbers || []).reduce((res, curr) => {\n      if (curr !== dialInNumber) {\n        return res.concat(dialInNumbers.find(e => e.phoneNumber === curr));\n      }\n      return res;\n    }, []);\n\n    return (\n      <div className={styles.additionalValueList}>\n        <DropAdditionalValues\n          dialInNumbers={additionalNumberObjs}\n          selected={additionalNumbers}\n          onChange={numbers => this.onUpdate('additionalNumbers', numbers)}\n        />\n      </div>\n    );\n  }\n\n  renderDropdownMenu = (open) => {\n    const { dialInNumber, additionalNumbers, dialInNumbers } = this.state;\n    return (\n      <DropDialInNumberList\n        open={open}\n        dialInNumbers={dialInNumbers.filter(item => item.phoneNumber !== dialInNumber)}\n        selected={additionalNumbers}\n        onChange={numbers => this.onUpdate('additionalNumbers', numbers)}\n      />\n    );\n  }\n\n  getDatas = () => {\n    const {\n      dialInNumber,\n      additionalNumbers,\n      allowJoinBeforeHost,\n    } = this.state;\n\n    return {\n      dialInNumber,\n      additionalNumbers,\n      allowJoinBeforeHost\n    };\n  }\n\n  render() {\n    const { i18n } = this.props;\n\n    const {\n      dialInNumber,\n      dialInNumbers,\n      additionalNumbers,\n      allowJoinBeforeHost,\n    } = this.state;\n\n    return (\n      <div className={styles.form}>\n        <div className={styles.formGroup}>\n          <Title label={i18n.dialInNumber} />\n          <DialInNumberDropdown\n            onUpdate={this.onUpdate}\n            dialInNumber={dialInNumber}\n            dialInNumbers={dialInNumbers}\n          />\n        </div>\n        <div className={styles.formGroup}>\n          <Title label={i18n.addinalDialInNumbers} />\n          <span>\n            <MultipleSelect\n              dataSign=\"conferenceDropdownSelect\"\n              label={i18n.selectNumbers}\n              dropdownAlign=\"left\"\n              renderValue={this.renderValue}\n              renderDropdownMenu={this.renderDropdownMenu}\n            />\n          </span>\n        </div>\n        <div className={styles.formGroup}>\n          <Title label={i18n.meetingOptions} />\n          <div className={styles.flex}>\n            <div>{i18n.enableJoinBeforeHost}</div>\n            <span>\n              <Switch\n                checked={allowJoinBeforeHost}\n                dataSign=\"enableJoinToggle\"\n                onChange={this.onUpdateAllowJoinBeforeHost}\n              />\n            </span>\n          </div>\n        </div>\n      </div>\n    );\n  }\n}\n\nConferencePanel.propTypes = {\n  dialInNumbers: PropTypes.array,\n  dialInNumber: PropTypes.string.isRequired,\n  additionalNumbers: PropTypes.array.isRequired,\n  i18n: PropTypes.object.isRequired,\n  allowJoinBeforeHost: PropTypes.bool.isRequired,\n  updateEnableJoinBeforeHost: PropTypes.func.isRequired,\n};\n\nConferencePanel.defaultProps = {\n  dialInNumbers: [],\n};\n\nexport default ConferencePanel;\n"],"file":"index.js"}