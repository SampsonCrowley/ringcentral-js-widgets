{"version":3,"sources":["components/AudioSettingsPanel/index.js"],"names":["TooltipCom","Tooltip","AudioSettingsPanel","props","_isFirefox","onSave","state","dialButtonVolume","dialButtonMuted","ringtoneVolume","ringtoneMuted","callVolume","inputDeviceId","outputDeviceId","onReset","setState","onDialButtonVolumeChange","onDialButtonMutedChange","onRingtoneVolumeChange","onRingtoneMutedChange","onCallVolumeChange","onOutputDeviceIdChange","device","deviceId","onInputDeviceIdChange","renderDeviceOption","index","availableInputDevices","availableOutputDevices","currentLocale","noLabel","i18n","getString","kind","length","label","renderOutputDevice","value","indexOf","renderInputDevice","navigator","userAgent","newProps","userMedia","checkUserMedia","onBackButtonClick","className","supportDevices","isWebRTC","outputDeviceDisabled","inputDeviceDisabled","hasChanges","permission","outputDeviceDropdown","styles","select","renderDeviceValue","tooltipContainner","outputTooltipContainner","outputDevice","noHeightInputField","fakeDropdownContainer","inputTooltip","isNoLabel","offset","inputTooltipContainner","infoIcon","inputDevice","root","content","Component","devicePropType","PropTypes","string","isRequired","propTypes","number","bool","func","arrayOf","shape","defaultProps"],"mappings":";;;;;;;;;;;;;;;;;;;;;AAAA;;AACA;;AACA;;AACA;;AACA;;AACA;;AACA;;AACA;;AACA;;AACA;;AACA;;AACA;;AACA;;AACA;;AACA;;;;;;;;;;;;;;;;;;;;;;;;AAEA,IAAMA,UAAU,GAAG,OAAOC,qBAAP,KAAmB,UAAnB,GAAgCA,qBAAhC,GAA0CA,gCAA7D;;IAGqBC,kB;;;;;AAGnB,8BAAYC,KAAZ,EAAmB;AAAA;;AAAA;;AACjB,4FAAMA,KAAN;AADiB,UAFnBC,UAEmB,GAFN,KAEM;;AAAA,UAuEnBC,MAvEmB,GAuEV,YAAM;AACb,UAAI,OAAO,MAAKF,KAAL,CAAWE,MAAlB,KAA6B,UAAjC,EAA6C;AAAA,0BASvC,MAAKC,KATkC;AAAA,YAEzCC,gBAFyC,eAEzCA,gBAFyC;AAAA,YAGzCC,eAHyC,eAGzCA,eAHyC;AAAA,YAIzCC,cAJyC,eAIzCA,cAJyC;AAAA,YAKzCC,aALyC,eAKzCA,aALyC;AAAA,YAMzCC,UANyC,eAMzCA,UANyC;AAAA,YAOzCC,aAPyC,eAOzCA,aAPyC;AAAA,YAQzCC,cARyC,eAQzCA,cARyC;;AAU3C,cAAKV,KAAL,CAAWE,MAAX,CAAkB;AAChBE,UAAAA,gBAAgB,EAAhBA,gBADgB;AAEhBC,UAAAA,eAAe,EAAfA,eAFgB;AAGhBC,UAAAA,cAAc,EAAdA,cAHgB;AAIhBC,UAAAA,aAAa,EAAbA,aAJgB;AAKhBC,UAAAA,UAAU,EAAVA,UALgB;AAMhBC,UAAAA,aAAa,EAAbA,aANgB;AAOhBC,UAAAA,cAAc,EAAdA;AAPgB,SAAlB;AASD;AACF,KA5FkB;;AAAA,UA8FnBC,OA9FmB,GA8FT,YAAM;AAAA,wBASV,MAAKX,KATK;AAAA,UAEZI,gBAFY,eAEZA,gBAFY;AAAA,UAGZC,eAHY,eAGZA,eAHY;AAAA,UAIZC,cAJY,eAIZA,cAJY;AAAA,UAKZC,aALY,eAKZA,aALY;AAAA,UAMZC,UANY,eAMZA,UANY;AAAA,UAOZC,aAPY,eAOZA,aAPY;AAAA,UAQZC,cARY,eAQZA,cARY;;AAUd,YAAKE,QAAL,CAAc;AACZR,QAAAA,gBAAgB,EAAhBA,gBADY;AAEZC,QAAAA,eAAe,EAAfA,eAFY;AAGZC,QAAAA,cAAc,EAAdA,cAHY;AAIZC,QAAAA,aAAa,EAAbA,aAJY;AAKZC,QAAAA,UAAU,EAAVA,UALY;AAMZC,QAAAA,aAAa,EAAbA,aANY;AAOZC,QAAAA,cAAc,EAAdA;AAPY,OAAd;AASD,KAjHkB;;AAAA,UAmHnBG,wBAnHmB,GAmHQ,UAACT,gBAAD,EAAsB;AAC/C,YAAKQ,QAAL,CAAc;AACZR,QAAAA,gBAAgB,EAAhBA;AADY,OAAd;AAGD,KAvHkB;;AAAA,UAyHnBU,uBAzHmB,GAyHO,UAACT,eAAD,EAAqB;AAC7C,YAAKO,QAAL,CAAc;AACZP,QAAAA,eAAe,EAAfA;AADY,OAAd;AAGD,KA7HkB;;AAAA,UA+HnBU,sBA/HmB,GA+HM,UAACT,cAAD,EAAoB;AAC3C,YAAKM,QAAL,CAAc;AACZN,QAAAA,cAAc,EAAdA;AADY,OAAd;AAGD,KAnIkB;;AAAA,UAqInBU,qBArImB,GAqIK,UAACT,aAAD,EAAmB;AACzC,YAAKK,QAAL,CAAc;AACZL,QAAAA,aAAa,EAAbA;AADY,OAAd;AAGD,KAzIkB;;AAAA,UA2InBU,kBA3ImB,GA2IE,UAACT,UAAD,EAAgB;AACnC,YAAKI,QAAL,CAAc;AACZJ,QAAAA,UAAU,EAAVA;AADY,OAAd;AAGD,KA/IkB;;AAAA,UAiJnBU,sBAjJmB,GAiJM,UAACC,MAAD,EAAY;AACnC,YAAKP,QAAL,CAAc;AACZF,QAAAA,cAAc,EAAES,MAAM,CAACC;AADX,OAAd;AAGD,KArJkB;;AAAA,UAuJnBC,qBAvJmB,GAuJK,UAACF,MAAD,EAAY;AAClC,YAAKP,QAAL,CAAc;AACZH,QAAAA,aAAa,EAAEU,MAAM,CAACC;AADV,OAAd;AAGD,KA3JkB;;AAAA,UA6JnBE,kBA7JmB,GA6JE,UAACH,MAAD,EAASI,KAAT,EAAmB;AAAA,yBACmC,MAAKvB,KADxC;AAAA,UAC9BwB,qBAD8B,gBAC9BA,qBAD8B;AAAA,UACPC,sBADO,gBACPA,sBADO;AAAA,UACiBC,aADjB,gBACiBA,aADjB;;AAEtC,UAAMC,OAAO,GAAGC,iBAAKC,SAAL,CAAe,SAAf,EAA0BH,aAA1B,CAAhB;;AACA,UAAIP,MAAM,CAACW,IAAP,KAAgB,YAAhB,IAAgCN,qBAAqB,CAACO,MAAtB,GAA+B,CAAnE,EAAsE;AACpE,eAAOZ,MAAM,CAACa,KAAP,cAAmBL,OAAnB,cAA8BJ,KAAK,GAAG,CAAtC,CAAP;AACD;;AACD,UAAIJ,MAAM,CAACW,IAAP,KAAgB,aAAhB,IAAiCL,sBAAsB,CAACM,MAAvB,GAAgC,CAArE,EAAwE;AACtE,eAAOZ,MAAM,CAACa,KAAP,cAAmBL,OAAnB,cAA8BJ,KAAK,GAAG,CAAtC,CAAP;AACD;;AACD,aAAOJ,MAAM,CAACa,KAAP,IAAgBL,OAAvB;AACD,KAvKkB;;AAAA,UA6KnBM,kBA7KmB,GA6KE,UAACC,KAAD,EAAW;AAAA,yBACoB,MAAKlC,KADzB;AAAA,UACtByB,sBADsB,gBACtBA,sBADsB;AAAA,UACEC,aADF,gBACEA,aADF;;AAE9B,UAAIQ,KAAK,KAAK,IAAd,EAAoB;AAClB,eAAON,iBAAKC,SAAL,CAAe,UAAf,EAA2BH,aAA3B,CAAP;AACD;;AACD,UAAMP,MAAM,GAAG,iBACb,UAAAA,MAAM;AAAA,eAAIA,MAAM,CAACC,QAAP,KAAoBc,KAAxB;AAAA,OADO,EAEbT,sBAFa,CAAf;;AAIA,UAAIE,OAAO,GAAGC,iBAAKC,SAAL,CAAe,SAAf,EAA0BH,aAA1B,CAAd;;AACA,UAAID,sBAAsB,CAACM,MAAvB,GAAgC,CAApC,EAAuC;AACrC,YAAMR,KAAK,GAAGE,sBAAsB,CAACU,OAAvB,CAA+BhB,MAA/B,CAAd;;AACA,YAAII,KAAK,IAAI,CAAb,EAAgB;AACdI,UAAAA,OAAO,aAAMA,OAAN,cAAiBJ,KAAK,GAAG,CAAzB,CAAP;AACD;AACF;;AACD,aAAOJ,MAAM,IAAIA,MAAM,CAACa,KAAjB,IAA0BL,OAAjC;AACD,KA9LkB;;AAAA,UAgMnBS,iBAhMmB,GAgMC,UAACF,KAAD,EAAW;AAAA,yBACoB,MAAKlC,KADzB;AAAA,UACrBwB,qBADqB,gBACrBA,qBADqB;AAAA,UACEE,aADF,gBACEA,aADF;;AAE7B,UAAIQ,KAAK,KAAK,IAAd,EAAoB;AAClB,eAAON,iBAAKC,SAAL,CAAe,UAAf,EAA2BH,aAA3B,CAAP;AACD;;AACD,UAAMP,MAAM,GAAG,iBACb,UAAAA,MAAM;AAAA,eAAIA,MAAM,CAACC,QAAP,KAAoBc,KAAxB;AAAA,OADO,EAEbV,qBAFa,CAAf;;AAIA,UAAIG,OAAO,GAAGC,iBAAKC,SAAL,CAAe,SAAf,EAA0BH,aAA1B,CAAd;;AACA,UAAIF,qBAAqB,CAACO,MAAtB,GAA+B,CAAnC,EAAsC;AACpC,YAAMR,KAAK,GAAGC,qBAAqB,CAACW,OAAtB,CAA8BhB,MAA9B,CAAd;;AACA,YAAII,KAAK,IAAI,CAAb,EAAgB;AACdI,UAAAA,OAAO,aAAMA,OAAN,cAAiBJ,KAAK,GAAG,CAAzB,CAAP;AACD;AACF;;AACD,aAAOJ,MAAM,IAAIA,MAAM,CAACa,KAAjB,IAA0BL,OAAjC;AACD,KAjNkB;;AAEjB,UAAKxB,KAAL,GAAa;AACXC,MAAAA,gBAAgB,EAAEJ,KAAK,CAACI,gBADb;AAEXC,MAAAA,eAAe,EAAEL,KAAK,CAACK,eAFZ;AAGXC,MAAAA,cAAc,EAAEN,KAAK,CAACM,cAHX;AAIXC,MAAAA,aAAa,EAAEP,KAAK,CAACO,aAJV;AAKXC,MAAAA,UAAU,EAAER,KAAK,CAACQ,UALP;AAMXC,MAAAA,aAAa,EAAET,KAAK,CAACS,aANV;AAOXC,MAAAA,cAAc,EAAEV,KAAK,CAACU;AAPX,KAAb;AAUA,UAAKT,UAAL,GAAkBoC,SAAS,CAACC,SAAV,CAAoBH,OAApB,CAA4B,SAA5B,IAAyC,CAAC,CAA5D;AAZiB;AAalB;;;;8CAEyBI,Q,EAAU;AAAA;;AAClC,UAAIA,QAAQ,CAACnC,gBAAT,KAA8B,KAAKJ,KAAL,CAAWI,gBAA7C,EAA+D;AAC7D,aAAKQ,QAAL,CAAc;AACZR,UAAAA,gBAAgB,EAAEmC,QAAQ,CAACnC;AADf,SAAd;AAGD;;AACD,UAAImC,QAAQ,CAAClC,eAAT,KAA6B,KAAKL,KAAL,CAAWK,eAA5C,EAA6D;AAC3D,aAAKO,QAAL,CAAc;AACZP,UAAAA,eAAe,EAAEkC,QAAQ,CAAClC;AADd,SAAd;AAGD;;AACD,UAAIkC,QAAQ,CAACjC,cAAT,KAA4B,KAAKN,KAAL,CAAWM,cAA3C,EAA2D;AACzD,aAAKM,QAAL,CAAc;AACZN,UAAAA,cAAc,EAAEiC,QAAQ,CAACjC;AADb,SAAd;AAGD;;AACD,UAAIiC,QAAQ,CAAChC,aAAT,KAA2B,KAAKP,KAAL,CAAWO,aAA1C,EAAyD;AACvD,aAAKK,QAAL,CAAc;AACZL,UAAAA,aAAa,EAAEgC,QAAQ,CAAChC;AADZ,SAAd;AAGD;;AACD,UAAIgC,QAAQ,CAAC/B,UAAT,KAAwB,KAAKR,KAAL,CAAWQ,UAAvC,EAAmD;AACjD,aAAKI,QAAL,CAAc;AACZJ,UAAAA,UAAU,EAAE+B,QAAQ,CAAC/B;AADT,SAAd;AAGD;;AACD,UAAI+B,QAAQ,CAAC9B,aAAT,KAA2B,KAAKT,KAAL,CAAWS,aAAtC,IAAuD,gBACzD,UAAAU,MAAM;AAAA,eAAIA,MAAM,CAACC,QAAP,KAAoB,MAAI,CAACjB,KAAL,CAAWM,aAAnC;AAAA,OADmD,EAEzD8B,QAAQ,CAACf,qBAFgD,CAA3D,EAGG;AACD,aAAKZ,QAAL,CAAc;AACZH,UAAAA,aAAa,EAAE8B,QAAQ,CAAC9B;AADZ,SAAd;AAGD;;AACD,UAAI8B,QAAQ,CAAC7B,cAAT,KAA4B,KAAKV,KAAL,CAAWU,cAAvC,IAAyD,gBAC3D,UAAAS,MAAM;AAAA,eAAIA,MAAM,CAACC,QAAP,KAAoB,MAAI,CAACjB,KAAL,CAAWO,cAAnC;AAAA,OADqD,EAE3D6B,QAAQ,CAACd,sBAFkD,CAA7D,EAGG;AACD,aAAKb,QAAL,CAAc;AACZF,UAAAA,cAAc,EAAE6B,QAAQ,CAAC7B;AADb,SAAd;AAGD;AACF;;;wCAEmB;AAClB,UAAI,CAAC,KAAKV,KAAL,CAAWwC,SAAhB,EAA2B;AACzB;AACD;;AACD,UACE,KAAKxC,KAAL,CAAWwB,qBAAX,CAAiCO,MAAjC,GAA0C,CAA1C,IACA,KAAK/B,KAAL,CAAWwB,qBAAX,CAAiC,CAAjC,EAAoCQ,KAApC,KAA8C,EAFhD,EAGE;AACA,aAAKhC,KAAL,CAAWyC,cAAX;AACD;AACF;;;sCAoGiBtB,M,EAAQ;AACxB,aAAOA,MAAM,CAACC,QAAd;AACD;;;gCAwCW;AAAA,UAERI,qBAFQ,GAGN,KAAKxB,KAHC,CAERwB,qBAFQ;AAKV,UAAIG,OAAO,GAAG,KAAd;;AAEA,UAAIH,qBAAqB,IAAIA,qBAAqB,CAACO,MAAnD,EAA2D;AACzDJ,QAAAA,OAAO,GAAGH,qBAAqB,CAAC,CAAD,CAArB,CAAyBQ,KAAzB,KAAmC,EAA7C;AACD,OAFD,MAEO;AACLL,QAAAA,OAAO,GAAG,KAAK1B,UAAf;AACD;;AAED,aAAO0B,OAAP;AACD;;;6BAEQ;AAAA;;AAAA,yBAaH,KAAK3B,KAbF;AAAA,UAEL0B,aAFK,gBAELA,aAFK;AAAA,UAGLgB,iBAHK,gBAGLA,iBAHK;AAAA,UAILC,SAJK,gBAILA,SAJK;AAAA,UAKLlB,sBALK,gBAKLA,sBALK;AAAA,UAMLD,qBANK,gBAMLA,qBANK;AAAA,UAOLoB,cAPK,gBAOLA,cAPK;AAAA,UAQLJ,SARK,gBAQLA,SARK;AAAA,UASLK,QATK,gBASLA,QATK;AAAA,UAULJ,cAVK,gBAULA,cAVK;AAAA,UAWLK,oBAXK,gBAWLA,oBAXK;AAAA,UAYLC,mBAZK,gBAYLA,mBAZK;AAAA,yBAsBH,KAAK5C,KAtBF;AAAA,UAeLC,gBAfK,gBAeLA,gBAfK;AAAA,UAgBLC,eAhBK,gBAgBLA,eAhBK;AAAA,UAiBLC,cAjBK,gBAiBLA,cAjBK;AAAA,UAkBLC,aAlBK,gBAkBLA,aAlBK;AAAA,UAmBLC,UAnBK,gBAmBLA,UAnBK;AAAA,UAoBLE,cApBK,gBAoBLA,cApBK;AAAA,UAqBLD,aArBK,gBAqBLA,aArBK;AAuBP,UAAMuC,UAAU,GACd,KAAKhD,KAAL,CAAWI,gBAAX,KAAgCA,gBAAhC,IACA,KAAKJ,KAAL,CAAWK,eAAX,KAA+BA,eAD/B,IAEA,KAAKL,KAAL,CAAWM,cAAX,KAA8BA,cAF9B,IAGA,KAAKN,KAAL,CAAWO,aAAX,KAA6BA,aAH7B,IAIA,KAAKP,KAAL,CAAWQ,UAAX,KAA0BA,UAJ1B,IAKA,KAAKR,KAAL,CAAWS,aAAX,KAA6BA,aAL7B,IAMA,KAAKT,KAAL,CAAWU,cAAX,KAA8BA,cAPhC,CAvBO,CAiCP;;AACA,UAAMuC,UAAU,GAAG,CAACT,SAAD,GACjB,gCAAC,oBAAD;AACE,QAAA,QAAQ,MADV;AAEE,QAAA,IAAI,EACF,gCAAC,kBAAD;AAAQ,UAAA,OAAO,EAAEC;AAAjB,WACGb,iBAAKC,SAAL,CAAe,oBAAf,CADH;AAHJ,SAOGD,iBAAKC,SAAL,CAAe,wBAAf,CAPH,CADiB,GAUf,IAVJ,CAlCO,CA8CP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,UAAMqB,oBAAoB,GAAGN,cAAc,GACzC,gCAAC,sBAAD;AACE,QAAA,KAAK,EACH,8CACGhB,iBAAKC,SAAL,CAAe,cAAf,EAA+BH,aAA/B,CADH,CAFJ;AAME,QAAA,QAAQ;AANV,SAOE,gCAAC,0BAAD;AACE,QAAA,SAAS,EAAEyB,mBAAOC,MADpB;AAEE,QAAA,QAAQ,EAAEN,oBAFZ;AAGE,QAAA,KAAK,EACHrB,sBAAsB,CAACM,MAAvB,GAAgCrB,cAAhC,GAAiD,IAJrD;AAME,QAAA,QAAQ,EAAE,KAAKQ,sBANjB;AAOE,QAAA,OAAO,EAAEO,sBAPX;AAQE,QAAA,aAAa,EAAC,MARhB;AASE,QAAA,cAAc,EAAE,KAAKH,kBATvB;AAUE,QAAA,aAAa,EAAE,KAAK+B,iBAVtB;AAWE,QAAA,WAAW,EAAE,KAAKpB,kBAXpB;AAYE,QAAA,YAAY;AAZd,QAPF,EAqBE;AACE,QAAA,SAAS,EAAEkB,mBAAOG,iBADpB;AAEE,QAAA,GAAG,EAAE,aAACA,iBAAD,EAAuB;AAC1B,UAAA,MAAI,CAACC,uBAAL,GAA+BD,iBAA/B;AACD;AAJH,QArBF,CADyC,GA6BvC,IA7BJ;AA+BA,UAAME,YAAY,GAAG,KAAKvD,UAAL,GACnB,gCAAC,sBAAD;AACE,QAAA,SAAS,EAAEkD,mBAAOM,kBADpB;AAEE,QAAA,KAAK,EACH,8CACG7B,iBAAKC,SAAL,CAAe,cAAf,EAA+BH,aAA/B,CADH,CAHJ;AAOE,QAAA,QAAQ;AAPV,SAQE;AAAK,QAAA,SAAS,EAAEyB,mBAAOO;AAAvB,SACG9B,iBAAKC,SAAL,CAAe,qBAAf,EAAsCH,aAAtC,CADH,CARF,CADmB,GAajBwB,oBAbJ;AAeA,UAAMS,YAAY,GAAG,KAAKC,SAAL,KACnB,gCAAC,UAAD;AACE,QAAA,SAAS,EAAC,QADZ;AAEE,QAAA,OAAO,EAAC,OAFV;AAGE,QAAA,KAAK,EAAE;AACLC,UAAAA,MAAM,EAAE,CAAC,CAAD,EAAI,EAAJ;AADH,SAHT;AAME,QAAA,OAAO,EAAEjC,iBAAKC,SAAL,CAAe,YAAf,EAA6BH,aAA7B,CANX;AAOE,QAAA,YAAY,EAAE;AAAK,UAAA,SAAS,EAAC;AAAf,UAPhB;AAQE,QAAA,mBAAmB,EAAE;AAAA,iBAAM,MAAI,CAACoC,sBAAX;AAAA;AARvB,SAUE,gCAAC,gBAAD;AAAU,QAAA,KAAK,EAAE,EAAjB;AAAqB,QAAA,MAAM,EAAE,EAA7B;AAAiC,QAAA,SAAS,EAAEX,mBAAOY;AAAnD,QAVF,CADmB,GAajB,IAbJ;AAcA,UAAMC,WAAW,GAAGpB,cAAc,GAChC,gCAAC,sBAAD;AACE,QAAA,KAAK,EACH,8CACGhB,iBAAKC,SAAL,CAAe,aAAf,EAA8BH,aAA9B,CADH,EAEGiC,YAFH,CAFJ;AAOE,QAAA,QAAQ;AAPV,SAQE,gCAAC,0BAAD;AACE,QAAA,SAAS,EAAER,mBAAOC,MADpB;AAEE,QAAA,QAAQ,EAAEL,mBAFZ;AAGE,QAAA,KAAK,EACHvB,qBAAqB,CAACO,MAAtB,GAA+BtB,aAA/B,GAA+C,IAJnD;AAME,QAAA,QAAQ,EAAE,KAAKY,qBANjB;AAOE,QAAA,OAAO,EAAEG,qBAPX;AAQE,QAAA,aAAa,EAAC,MARhB;AASE,QAAA,cAAc,EAAE,KAAKF,kBATvB;AAUE,QAAA,aAAa,EAAE,KAAK+B,iBAVtB;AAWE,QAAA,WAAW,EAAE,KAAKjB,iBAXpB;AAYE,QAAA,YAAY;AAZd,QARF,EAsBE;AACE,QAAA,SAAS,EAAEe,mBAAOG,iBADpB;AAEE,QAAA,GAAG,EAAE,aAACA,iBAAD,EAAuB;AAC1B,UAAA,MAAI,CAACQ,sBAAL,GAA8BR,iBAA9B;AACD;AAJH,QAtBF,CADgC,GA8B9B,IA9BJ;AAgCA,aACE;AAAK,QAAA,SAAS,EAAE,4BAAWH,mBAAOc,IAAlB,EAAwBtB,SAAxB;AAAhB,SACE,gCAAC,sBAAD;AAAY,QAAA,WAAW,EAAED;AAAzB,SACGd,iBAAKC,SAAL,CAAe,OAAf,EAAwBH,aAAxB,CADH,CADF,EAIE,gCAAC,iBAAD;AAAO,QAAA,SAAS,EAAEyB,mBAAOe;AAAzB,SASGV,YATH,EAUGQ,WAVH,EAWGf,UAXH,EAYE,gCAAC,sBAAD;AACE,QAAA,aAAa,EAAEvB,aADjB;AAEE,QAAA,OAAO,EAAE,KAAKxB,MAFhB;AAGE,QAAA,QAAQ,EAAE,CAAC8C;AAHb,QAZF,CAJF,CADF;AAyBD;;;;EAzZ6CmB,gB;;;AA4ZhD,IAAMC,cAAc,GAAG;AACrBhD,EAAAA,QAAQ,EAAEiD,sBAAUC,MAAV,CAAiBC,UADN;AAErBvC,EAAAA,KAAK,EAAEqC,sBAAUC,MAAV,CAAiBC;AAFH,CAAvB;AAKAxE,kBAAkB,CAACyE,SAAnB,GAA+B;AAC7B7B,EAAAA,SAAS,EAAE0B,sBAAUC,MADQ;AAE7B5C,EAAAA,aAAa,EAAE2C,sBAAUC,MAAV,CAAiBC,UAFH;AAG7BnE,EAAAA,gBAAgB,EAAEiE,sBAAUI,MAAV,CAAiBF,UAHN;AAI7BjE,EAAAA,cAAc,EAAE+D,sBAAUI,MAAV,CAAiBF,UAJJ;AAK7BhE,EAAAA,aAAa,EAAE8D,sBAAUK,IAAV,CAAeH,UALD;AAM7B/D,EAAAA,UAAU,EAAE6D,sBAAUI,MAAV,CAAiBF,UANA;AAO7BlE,EAAAA,eAAe,EAAEgE,sBAAUK,IAAV,CAAeH,UAPH;AAQ7B7B,EAAAA,iBAAiB,EAAE2B,sBAAUM,IAAV,CAAeJ,UARL;AAS7B/C,EAAAA,qBAAqB,EAAE6C,sBAAUO,OAAV,CAAkBP,sBAAUQ,KAAV,CAAgBT,cAAhB,CAAlB,EAAmDG,UAT7C;AAU7B9D,EAAAA,aAAa,EAAE4D,sBAAUC,MAAV,CAAiBC,UAVH;AAW7B9C,EAAAA,sBAAsB,EAAE4C,sBAAUO,OAAV,CAAkBP,sBAAUQ,KAAV,CAAgBT,cAAhB,CAAlB,EAAmDG,UAX9C;AAY7B7D,EAAAA,cAAc,EAAE2D,sBAAUC,MAAV,CAAiBC,UAZJ;AAa7B3B,EAAAA,cAAc,EAAEyB,sBAAUK,IAAV,CAAeH,UAbF;AAc7BrE,EAAAA,MAAM,EAAEmE,sBAAUM,IAAV,CAAeJ,UAdM;AAe7B/B,EAAAA,SAAS,EAAE6B,sBAAUK,IAAV,CAAeH,UAfG;AAgB7B1B,EAAAA,QAAQ,EAAEwB,sBAAUK,IAAV,CAAeH,UAhBI;AAiB7B9B,EAAAA,cAAc,EAAE4B,sBAAUM,IAAV,CAAeJ,UAjBF;AAkB7BzB,EAAAA,oBAAoB,EAAEuB,sBAAUK,IAlBH;AAmB7B3B,EAAAA,mBAAmB,EAAEsB,sBAAUK;AAnBF,CAA/B;AAsBA3E,kBAAkB,CAAC+E,YAAnB,GAAkC;AAChCnC,EAAAA,SAAS,EAAE,IADqB;AAEhCG,EAAAA,oBAAoB,EAAE,KAFU;AAGhCC,EAAAA,mBAAmB,EAAE;AAHW,CAAlC","sourcesContent":["import { all, find } from 'ramda';\nimport React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport classnames from 'classnames';\nimport Tooltip from 'rc-tooltip';\nimport InfoIcon from '../../assets/images/Info.svg';\nimport styles from './styles.scss';\nimport i18n from './i18n';\nimport BackHeader from '../BackHeader';\nimport Panel from '../Panel';\nimport InputField from '../InputField';\nimport Select from '../DropdownSelect';\nimport Button from '../Button';\nimport SaveButton from '../SaveButton';\nimport IconLine from '../IconLine';\n\nconst TooltipCom = typeof Tooltip === 'function' ? Tooltip : Tooltip.default;\n\n\nexport default class AudioSettingsPanel extends Component {\n  _isFirefox = false;\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      dialButtonVolume: props.dialButtonVolume,\n      dialButtonMuted: props.dialButtonMuted,\n      ringtoneVolume: props.ringtoneVolume,\n      ringtoneMuted: props.ringtoneMuted,\n      callVolume: props.callVolume,\n      inputDeviceId: props.inputDeviceId,\n      outputDeviceId: props.outputDeviceId,\n    };\n\n    this._isFirefox = navigator.userAgent.indexOf('Firefox') > -1;\n  }\n\n  componentWillReceiveProps(newProps) {\n    if (newProps.dialButtonVolume !== this.props.dialButtonVolume) {\n      this.setState({\n        dialButtonVolume: newProps.dialButtonVolume,\n      });\n    }\n    if (newProps.dialButtonMuted !== this.props.dialButtonMuted) {\n      this.setState({\n        dialButtonMuted: newProps.dialButtonMuted,\n      });\n    }\n    if (newProps.ringtoneVolume !== this.props.ringtoneVolume) {\n      this.setState({\n        ringtoneVolume: newProps.ringtoneVolume,\n      });\n    }\n    if (newProps.ringtoneMuted !== this.props.ringtoneMuted) {\n      this.setState({\n        ringtoneMuted: newProps.ringtoneMuted,\n      });\n    }\n    if (newProps.callVolume !== this.props.callVolume) {\n      this.setState({\n        callVolume: newProps.callVolume,\n      });\n    }\n    if (newProps.inputDeviceId !== this.props.inputDeviceId || all(\n      device => device.deviceId !== this.state.inputDeviceId,\n      newProps.availableInputDevices\n    )) {\n      this.setState({\n        inputDeviceId: newProps.inputDeviceId,\n      });\n    }\n    if (newProps.outputDeviceId !== this.props.outputDeviceId || all(\n      device => device.deviceId !== this.state.outputDeviceId,\n      newProps.availableOutputDevices\n    )) {\n      this.setState({\n        outputDeviceId: newProps.outputDeviceId,\n      });\n    }\n  }\n\n  componentDidMount() {\n    if (!this.props.userMedia) {\n      return;\n    }\n    if (\n      this.props.availableInputDevices.length > 0 &&\n      this.props.availableInputDevices[0].label === ''\n    ) {\n      this.props.checkUserMedia();\n    }\n  }\n\n  onSave = () => {\n    if (typeof this.props.onSave === 'function') {\n      const {\n        dialButtonVolume,\n        dialButtonMuted,\n        ringtoneVolume,\n        ringtoneMuted,\n        callVolume,\n        inputDeviceId,\n        outputDeviceId,\n      } = this.state;\n      this.props.onSave({\n        dialButtonVolume,\n        dialButtonMuted,\n        ringtoneVolume,\n        ringtoneMuted,\n        callVolume,\n        inputDeviceId,\n        outputDeviceId,\n      });\n    }\n  }\n\n  onReset = () => {\n    const {\n      dialButtonVolume,\n      dialButtonMuted,\n      ringtoneVolume,\n      ringtoneMuted,\n      callVolume,\n      inputDeviceId,\n      outputDeviceId,\n    } = this.props;\n    this.setState({\n      dialButtonVolume,\n      dialButtonMuted,\n      ringtoneVolume,\n      ringtoneMuted,\n      callVolume,\n      inputDeviceId,\n      outputDeviceId,\n    });\n  }\n\n  onDialButtonVolumeChange = (dialButtonVolume) => {\n    this.setState({\n      dialButtonVolume,\n    });\n  }\n\n  onDialButtonMutedChange = (dialButtonMuted) => {\n    this.setState({\n      dialButtonMuted,\n    });\n  }\n\n  onRingtoneVolumeChange = (ringtoneVolume) => {\n    this.setState({\n      ringtoneVolume,\n    });\n  }\n\n  onRingtoneMutedChange = (ringtoneMuted) => {\n    this.setState({\n      ringtoneMuted,\n    });\n  }\n\n  onCallVolumeChange = (callVolume) => {\n    this.setState({\n      callVolume,\n    });\n  }\n\n  onOutputDeviceIdChange = (device) => {\n    this.setState({\n      outputDeviceId: device.deviceId,\n    });\n  }\n\n  onInputDeviceIdChange = (device) => {\n    this.setState({\n      inputDeviceId: device.deviceId,\n    });\n  }\n\n  renderDeviceOption = (device, index) => {\n    const { availableInputDevices, availableOutputDevices, currentLocale } = this.props;\n    const noLabel = i18n.getString('noLabel', currentLocale);\n    if (device.kind === 'audioinput' && availableInputDevices.length > 1) {\n      return device.label || `${noLabel} ${index + 1}`;\n    }\n    if (device.kind === 'audiooutput' && availableOutputDevices.length > 1) {\n      return device.label || `${noLabel} ${index + 1}`;\n    }\n    return device.label || noLabel;\n  }\n\n  renderDeviceValue(device) {\n    return device.deviceId;\n  }\n\n  renderOutputDevice = (value) => {\n    const { availableOutputDevices, currentLocale } = this.props;\n    if (value === null) {\n      return i18n.getString('noDevice', currentLocale);\n    }\n    const device = find(\n      device => device.deviceId === value,\n      availableOutputDevices\n    );\n    let noLabel = i18n.getString('noLabel', currentLocale);\n    if (availableOutputDevices.length > 1) {\n      const index = availableOutputDevices.indexOf(device);\n      if (index >= 0) {\n        noLabel = `${noLabel} ${index + 1}`;\n      }\n    }\n    return device && device.label || noLabel;\n  }\n\n  renderInputDevice = (value) => {\n    const { availableInputDevices, currentLocale } = this.props;\n    if (value === null) {\n      return i18n.getString('noDevice', currentLocale);\n    }\n    const device = find(\n      device => device.deviceId === value,\n      availableInputDevices\n    );\n    let noLabel = i18n.getString('noLabel', currentLocale);\n    if (availableInputDevices.length > 1) {\n      const index = availableInputDevices.indexOf(device);\n      if (index >= 0) {\n        noLabel = `${noLabel} ${index + 1}`;\n      }\n    }\n    return device && device.label || noLabel;\n  }\n\n  isNoLabel() {\n    const {\n      availableInputDevices,\n    } = this.props;\n\n    let noLabel = false;\n\n    if (availableInputDevices && availableInputDevices.length) {\n      noLabel = availableInputDevices[0].label === '';\n    } else {\n      noLabel = this._isFirefox;\n    }\n\n    return noLabel;\n  }\n\n  render() {\n    const {\n      currentLocale,\n      onBackButtonClick,\n      className,\n      availableOutputDevices,\n      availableInputDevices,\n      supportDevices,\n      userMedia,\n      isWebRTC,\n      checkUserMedia,\n      outputDeviceDisabled,\n      inputDeviceDisabled,\n    } = this.props;\n    const {\n      dialButtonVolume,\n      dialButtonMuted,\n      ringtoneVolume,\n      ringtoneMuted,\n      callVolume,\n      outputDeviceId,\n      inputDeviceId,\n    } = this.state;\n    const hasChanges = (\n      this.props.dialButtonVolume !== dialButtonVolume ||\n      this.props.dialButtonMuted !== dialButtonMuted ||\n      this.props.ringtoneVolume !== ringtoneVolume ||\n      this.props.ringtoneMuted !== ringtoneMuted ||\n      this.props.callVolume !== callVolume ||\n      this.props.inputDeviceId !== inputDeviceId ||\n      this.props.outputDeviceId !== outputDeviceId\n    );\n\n    // TODO: improve UI\n    const permission = !userMedia ? (\n      <IconLine\n        noBorder\n        icon={(\n          <Button onClick={checkUserMedia}>\n            {i18n.getString('checkMicPermission')}\n          </Button>\n        )}>\n        {i18n.getString('micNoPermissionMessage')}\n      </IconLine>\n    ) : null;\n\n    // const webphoneVolume = isWebRTC ?\n    //   (\n    //     <div>\n    //       <InputField\n    //         label={i18n.getString('ringtoneVolume', currentLocale)}\n    //     >\n    //         {`${ringtoneVolume * 100}%`}\n    //       </InputField>\n    //       <InputField\n    //         label={i18n.getString('callVolume', currentLocale)}\n    //     >\n    //         {`${callVolume * 100}%`}\n    //       </InputField>\n    //     </div>\n    //   ) : null;\n\n    const outputDeviceDropdown = supportDevices ? (\n      <InputField\n        label={(\n          <span>\n            {i18n.getString('outputDevice', currentLocale)}\n          </span>\n        )}\n        noBorder>\n        <Select\n          className={styles.select}\n          disabled={outputDeviceDisabled}\n          value={\n            availableOutputDevices.length ? outputDeviceId : null\n          }\n          onChange={this.onOutputDeviceIdChange}\n          options={availableOutputDevices}\n          dropdownAlign=\"left\"\n          renderFunction={this.renderDeviceOption}\n          valueFunction={this.renderDeviceValue}\n          renderValue={this.renderOutputDevice}\n          titleEnabled\n        />\n        <div\n          className={styles.tooltipContainner}\n          ref={(tooltipContainner) => {\n            this.outputTooltipContainner = tooltipContainner;\n          }}\n        />\n      </InputField>\n    ) : null;\n\n    const outputDevice = this._isFirefox ? (\n      <InputField\n        className={styles.noHeightInputField}\n        label={(\n          <span>\n            {i18n.getString('outputDevice', currentLocale)}\n          </span>\n        )}\n        noBorder>\n        <div className={styles.fakeDropdownContainer}>\n          {i18n.getString('defaultOutputDevice', currentLocale)}\n        </div>\n      </InputField>\n    ) : outputDeviceDropdown;\n\n    const inputTooltip = this.isNoLabel() ? (\n      <TooltipCom\n        placement=\"bottom\"\n        trigger=\"click\"\n        align={{\n          offset: [0, 47],\n        }}\n        overlay={i18n.getString('noLabelTip', currentLocale)}\n        arrowContent={<div className=\"rc-tooltip-arrow-inner\" />}\n        getTooltipContainer={() => this.inputTooltipContainner}\n      >\n        <InfoIcon width={14} height={14} className={styles.infoIcon} />\n      </TooltipCom>\n    ) : null;\n    const inputDevice = supportDevices ? (\n      <InputField\n        label={(\n          <span>\n            {i18n.getString('inputDevice', currentLocale)}\n            {inputTooltip}\n          </span>\n        )}\n        noBorder>\n        <Select\n          className={styles.select}\n          disabled={inputDeviceDisabled}\n          value={\n            availableInputDevices.length ? inputDeviceId : null\n          }\n          onChange={this.onInputDeviceIdChange}\n          options={availableInputDevices}\n          dropdownAlign=\"left\"\n          renderFunction={this.renderDeviceOption}\n          valueFunction={this.renderDeviceValue}\n          renderValue={this.renderInputDevice}\n          titleEnabled\n        />\n        <div\n          className={styles.tooltipContainner}\n          ref={(tooltipContainner) => {\n            this.inputTooltipContainner = tooltipContainner;\n          }}\n        />\n      </InputField>\n    ) : null;\n\n    return (\n      <div className={classnames(styles.root, className)}>\n        <BackHeader onBackClick={onBackButtonClick}>\n          {i18n.getString('title', currentLocale)}\n        </BackHeader>\n        <Panel className={styles.content}>\n          {\n            // <InputField\n            //   label={i18n.getString('dialButtonVolume', currentLocale)}\n            // >\n            //   {`${dialButtonVolume * 100}%`}\n            // </InputField>\n            // webphoneVolume\n          }\n          {outputDevice}\n          {inputDevice}\n          {permission}\n          <SaveButton\n            currentLocale={currentLocale}\n            onClick={this.onSave}\n            disabled={!hasChanges}\n          />\n        </Panel>\n      </div>\n    );\n  }\n}\n\nconst devicePropType = {\n  deviceId: PropTypes.string.isRequired,\n  label: PropTypes.string.isRequired,\n};\n\nAudioSettingsPanel.propTypes = {\n  className: PropTypes.string,\n  currentLocale: PropTypes.string.isRequired,\n  dialButtonVolume: PropTypes.number.isRequired,\n  ringtoneVolume: PropTypes.number.isRequired,\n  ringtoneMuted: PropTypes.bool.isRequired,\n  callVolume: PropTypes.number.isRequired,\n  dialButtonMuted: PropTypes.bool.isRequired,\n  onBackButtonClick: PropTypes.func.isRequired,\n  availableInputDevices: PropTypes.arrayOf(PropTypes.shape(devicePropType)).isRequired,\n  inputDeviceId: PropTypes.string.isRequired,\n  availableOutputDevices: PropTypes.arrayOf(PropTypes.shape(devicePropType)).isRequired,\n  outputDeviceId: PropTypes.string.isRequired,\n  supportDevices: PropTypes.bool.isRequired,\n  onSave: PropTypes.func.isRequired,\n  userMedia: PropTypes.bool.isRequired,\n  isWebRTC: PropTypes.bool.isRequired,\n  checkUserMedia: PropTypes.func.isRequired,\n  outputDeviceDisabled: PropTypes.bool,\n  inputDeviceDisabled: PropTypes.bool,\n};\n\nAudioSettingsPanel.defaultProps = {\n  className: null,\n  outputDeviceDisabled: false,\n  inputDeviceDisabled: false,\n};\n"],"file":"index.js"}