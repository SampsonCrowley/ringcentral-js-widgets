{"version":3,"sources":["components/ActiveCallList/index.js"],"names":["isConferenceCall","normalizedCall","to","Array","isArray","phoneNumber","length","toName","ActiveCallList","calls","className","currentLocale","areaCode","countryCode","brand","showContactDisplayPlaceholder","formatPhone","onClickToSms","onCreateContact","onViewContact","outboundSmsPermission","internalSmsPermission","isLoggedContact","onLogCall","autoLog","loggingMap","webphoneAnswer","webphoneReject","webphoneHangup","webphoneResume","webphoneToVoicemail","enableContactFallback","title","sourceIcons","isSessionAConferenceCall","onCallItemClick","getAvatarUrl","conferenceCallParties","useV2","webphoneHold","showCallDetail","updateSessionMatchedContact","Component","ActiveCallItemV2","ActiveCallItem","styles","list","listTitle","marginBottom","map","call","isOnConferenceCall","webphoneSession","id","propTypes","PropTypes","string","isRequired","array","bool","func","object","arrayOf","defaultProps","undefined","i"],"mappings":"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","file":"index.js","sourcesContent":["import React from 'react';\nimport PropTypes from 'prop-types';\nimport classnames from 'classnames';\nimport ActiveCallItem from '../ActiveCallItem';\nimport ActiveCallItemV2 from '../ActiveCallItemV2';\nimport styles from './styles.scss';\n\nfunction isConferenceCall(normalizedCall) {\n  return normalizedCall\n    && normalizedCall.to\n    && Array.isArray(normalizedCall.to.phoneNumber)\n    && normalizedCall.to.phoneNumber.length === 0\n    && normalizedCall.toName === 'Conference';\n}\n\nfunction ActiveCallList({\n  calls,\n  className,\n  currentLocale,\n  areaCode,\n  countryCode,\n  brand,\n  showContactDisplayPlaceholder,\n  formatPhone,\n  onClickToSms,\n  onCreateContact,\n  onViewContact,\n  outboundSmsPermission,\n  internalSmsPermission,\n  isLoggedContact,\n  onLogCall,\n  autoLog,\n  loggingMap,\n  webphoneAnswer,\n  webphoneReject,\n  webphoneHangup,\n  webphoneResume,\n  webphoneToVoicemail,\n  enableContactFallback,\n  title,\n  sourceIcons,\n  isSessionAConferenceCall,\n  onCallItemClick,\n  getAvatarUrl,\n  conferenceCallParties,\n  useV2, // TODO: For compatibility, after replacing all ActiveCallItem with ActiveCallItemV2, we should remove this.\n  webphoneHold,\n  showCallDetail,\n  updateSessionMatchedContact,\n}) {\n  if (!calls.length) {\n    return null;\n  }\n  const Component = useV2 ? ActiveCallItemV2 : ActiveCallItem;\n\n  return (\n    <div className={classnames(styles.list, className)}>\n      <div\n        className={styles.listTitle}\n        style={{\n          marginBottom: useV2 && title ? '-5px' : null\n        }}\n      >\n        {title}\n      </div>\n      {\n        calls.map((call) => {\n          const isOnConferenceCall = call.webphoneSession\n          ? isSessionAConferenceCall(call.webphoneSession.id)\n          : isConferenceCall(call);// in case it's an other device call\n\n          return (\n            <Component\n              call={call}\n              key={call.id}\n              isOnConferenceCall={isOnConferenceCall}\n              currentLocale={currentLocale}\n              areaCode={areaCode}\n              countryCode={countryCode}\n              brand={brand}\n              showContactDisplayPlaceholder={showContactDisplayPlaceholder}\n              formatPhone={formatPhone}\n              onClickToSms={onClickToSms}\n              internalSmsPermission={internalSmsPermission}\n              outboundSmsPermission={outboundSmsPermission}\n              isLoggedContact={isLoggedContact}\n              onLogCall={onLogCall}\n              onViewContact={onViewContact}\n              onCreateContact={onCreateContact}\n              loggingMap={loggingMap}\n              webphoneAnswer={webphoneAnswer}\n              webphoneReject={webphoneReject}\n              webphoneHangup={webphoneHangup}\n              webphoneResume={webphoneResume}\n              webphoneToVoicemail={webphoneToVoicemail}\n              enableContactFallback={enableContactFallback}\n              autoLog={autoLog}\n              sourceIcons={sourceIcons}\n              hasActionMenu={!isOnConferenceCall}\n              onClick={() => onCallItemClick(call)}\n              getAvatarUrl={getAvatarUrl}\n              conferenceCallParties={conferenceCallParties}\n              webphoneHold={webphoneHold}\n              showCallDetail={showCallDetail}\n              updateSessionMatchedContact={updateSessionMatchedContact}\n            />\n          );\n        })\n      }\n    </div>\n  );\n}\n\nActiveCallList.propTypes = {\n  currentLocale: PropTypes.string.isRequired,\n  className: PropTypes.string,\n  title: PropTypes.string.isRequired,\n  calls: PropTypes.array.isRequired,\n  areaCode: PropTypes.string.isRequired,\n  countryCode: PropTypes.string.isRequired,\n  brand: PropTypes.string,\n  showContactDisplayPlaceholder: PropTypes.bool,\n  formatPhone: PropTypes.func.isRequired,\n  onClickToSms: PropTypes.func,\n  onCreateContact: PropTypes.func,\n  onViewContact: PropTypes.func,\n  outboundSmsPermission: PropTypes.bool,\n  internalSmsPermission: PropTypes.bool,\n  isLoggedContact: PropTypes.func,\n  onLogCall: PropTypes.func,\n  loggingMap: PropTypes.object,\n  webphoneAnswer: PropTypes.func,\n  webphoneReject: PropTypes.func,\n  webphoneHangup: PropTypes.func,\n  webphoneResume: PropTypes.func,\n  webphoneToVoicemail: PropTypes.func,\n  enableContactFallback: PropTypes.bool,\n  autoLog: PropTypes.bool,\n  sourceIcons: PropTypes.object,\n  isSessionAConferenceCall: PropTypes.func,\n  useV2: PropTypes.bool,\n  onCallItemClick: PropTypes.func,\n  getAvatarUrl: PropTypes.func,\n  conferenceCallParties: PropTypes.arrayOf(PropTypes.object),\n  webphoneHold: PropTypes.func,\n  showCallDetail: PropTypes.bool,\n  updateSessionMatchedContact: PropTypes.func,\n};\n\nActiveCallList.defaultProps = {\n  className: undefined,\n  brand: 'RingCentral',\n  showContactDisplayPlaceholder: true,\n  onCreateContact: undefined,\n  onClickToSms: undefined,\n  outboundSmsPermission: true,\n  internalSmsPermission: true,\n  isLoggedContact: undefined,\n  onLogCall: undefined,\n  loggingMap: {},\n  webphoneAnswer: undefined,\n  webphoneReject: undefined,\n  webphoneHangup: undefined,\n  webphoneResume: undefined,\n  enableContactFallback: undefined,\n  autoLog: false,\n  onViewContact: undefined,\n  webphoneToVoicemail: undefined,\n  sourceIcons: undefined,\n  isSessionAConferenceCall: () => false,\n  useV2: false,\n  onCallItemClick: i => i,\n  getAvatarUrl: i => i,\n  conferenceCallParties: [],\n  webphoneHold: i => i,\n  showCallDetail: false,\n  updateSessionMatchedContact: i => i,\n};\n\nexport default ActiveCallList;\n"]}