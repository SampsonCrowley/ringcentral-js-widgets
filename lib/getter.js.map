{"version":3,"sources":["lib/getter.js"],"names":["WRAPPER","Symbol","getter","prototype","property","initializer","value","get","configurable","enumerable","targetSymbol"],"mappings":";;;;;;;;;;;;;AAAA,IAAMA,OAAO,GAAGC,MAAM,CAAC,SAAD,CAAtB;AAEA;;;;;AAIe,SAASC,MAAT,CACbC,SADa,EAEbC,QAFa,QAIb;AAAA,MADEC,WACF,QADEA,WACF;AAAA,MADeC,KACf,QADeA,KACf;AAAA,MADsBC,IACtB,QADsBA,GACtB;AACA,SAAO;AACLC,IAAAA,YAAY,EAAE,IADT;AAELC,IAAAA,UAAU,EAAE,IAFP;AAGLF,IAAAA,GAHK,iBAGC;AAAA;;AACJ,UAAI,CAAC,KAAKP,OAAL,CAAL,EAAoB;AAClB,aAAKA,OAAL,IAAgB,EAAhB;AACD;;AACD,UAAI,CAAC,KAAKA,OAAL,EAAcI,QAAd,CAAL,EAA8B;AAC5B,YAAMM,YAAY,GAAGT,MAAM,WAAIG,QAAJ,aAA3B;AAEA,aAAKM,YAAL,IAAqBL,WAAW,GAASA,WAAN,WAAH,GAAyBC,KAAK,IAAIC,IAAlE;AAEA,aAAKP,OAAL,EAAcI,QAAd,IACE,OAAO,KAAKM,YAAL,CAAP,KAA8B,UAA9B,GACI;AAAA,iBAAM,KAAI,CAACA,YAAD,CAAJ,EAAN;AAAA,SADJ,GAEI;AAAA,iBAAM,KAAI,CAACA,YAAD,CAAV;AAAA,SAHN;AAID;;AACD,aAAO,KAAKV,OAAL,EAAcI,QAAd,GAAP;AACD;AAlBI,GAAP;AAoBD","sourcesContent":["const WRAPPER = Symbol('wrapper');\n\n/**\n * @function\n * @description Decorator function that convert a class method to a getter\n */\nexport default function getter(\n  prototype,\n  property,\n  { initializer, value, get },\n) {\n  return {\n    configurable: true,\n    enumerable: true,\n    get() {\n      if (!this[WRAPPER]) {\n        this[WRAPPER] = {};\n      }\n      if (!this[WRAPPER][property]) {\n        const targetSymbol = Symbol(`${property}-target`);\n\n        this[targetSymbol] = initializer ? this::initializer() : value || get;\n\n        this[WRAPPER][property] =\n          typeof this[targetSymbol] === 'function'\n            ? () => this[targetSymbol]()\n            : () => this[targetSymbol];\n      }\n      return this[WRAPPER][property]();\n    },\n  };\n}\n"],"file":"getter.js"}