{"version":3,"sources":["components/ActiveCallPad/index.js"],"names":["DisplayButtonNumber","ACTIONS_CTRL_MAP","muteCtrl","keypadCtrl","holdCtrl","mergeOrAddCtrl","recordCtrl","transferCtrl","flipCtrl","MoreActionItem","title","Icon","icon","disabled","onClick","iconClassName","styles","buttonIcon","buttonDisabled","buttonActive","buttonItem","buttonName","propTypes","PropTypes","string","isRequired","func","bool","ActiveCallPad","props","moreButton","dropdown","toggleMore","state","expandMore","current","e","dom","contains","target","setState","prevState","document","body","addEventListener","removeEventListener","nextProps","nextState","showUpdate","p","Object","prototype","hasOwnProperty","val","buttons","push","isOnMute","MuteIcon","id","i18n","getString","currentLocale","isOnHold","onUnmute","UnmuteIcon","onMute","KeypadIcon","onShowKeyPad","layout","callCtrlLayouts","conferenceCtrl","HoldIcon","iconWidth","iconHeight","iconX","iconY","active","onUnhold","onHold","conferenceCallEquipped","showMerge","mergeCtrl","normalCtrl","hasConferenceCall","MergeIcon","mergeDisabled","onMerge","showRipple","CombineIcon","addDisabled","onAdd","RecordIcon","recordStatus","recording","pending","noAccess","onStopRecord","onRecord","disabledTransfer","TransferIcon","onToggleTransferPanel","disabledFlip","flipNumbers","length","FlipIcon","onShowFlipPanel","actions","moreActions","moreButtonContainer","callButton","MoreIcon","buttonPopup","slice","map","opts","isLessBtn","root","className","callCtrlButtonGroup","biggerButton","buttonRow","stopButtonGroup","button","stopButton","onHangup","EndIcon","Component","array","defaultProps","undefined"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA;;AACA;;AACA;;AACA;;AACA;;AAEA;;AACA;;AACA;;AACA;;AACA;;AACA;;AACA;;AAEA;;AAEA;;AACA;;AACA;;AACA;;AACA;;AACA;;AACA;;AACA;;AAEA;;AACA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAEA,IAAMA,mBAAmB,GAAG,CAA5B;AAEO,IAAMC,gBAAgB,GAAG;AAC9BC,EAAAA,QAAQ,EAAE,UADoB;AAE9BC,EAAAA,UAAU,EAAE,YAFkB;AAG9BC,EAAAA,QAAQ,EAAE,UAHoB;AAI9BC,EAAAA,cAAc,EAAE,gBAJc;AAK9BC,EAAAA,UAAU,EAAE,YALkB;AAM9BC,EAAAA,YAAY,EAAE,cANgB;AAO9BC,EAAAA,QAAQ,EAAE;AAPoB,CAAzB;;;AAUA,SAASC,cAAT,OAKJ;AAAA,MAJDC,KAIC,QAJDA,KAIC;AAAA,MAHKC,IAGL,QAHDC,IAGC;AAAA,MAFDC,QAEC,QAFDA,QAEC;AAAA,MADDC,OACC,QADDA,OACC;AACD,MAAMC,aAAa,GAAG,yBACpBC,gBAAOC,UADa,EAEpBJ,QAAQ,GAAGG,gBAAOE,cAAV,GAA2BF,gBAAOG,YAFtB,CAAtB;AAIA,SACE;AACE,IAAA,SAAS,EAAEH,gBAAOI,UADpB;AAEE,IAAA,OAAO,EAAEP,QAAQ,GAAG,IAAH,GAAUC;AAF7B,KAGE;AAAK,IAAA,SAAS,EAAEC;AAAhB,KACG,6BAAC,IAAD,OADH,CAHF,EAME;AAAK,IAAA,SAAS,EAAEC,gBAAOK;AAAvB,KACGX,KADH,CANF,CADF;AAYD;;AAEDD,cAAc,CAACa,SAAf,GAA2B;AACzBZ,EAAAA,KAAK,EAAEa,mBAAUC,MAAV,CAAiBC,UADC;AAEzBb,EAAAA,IAAI,EAAEW,mBAAUG,IAAV,CAAeD,UAFI;AAGzBZ,EAAAA,QAAQ,EAAEU,mBAAUI,IAAV,CAAeF,UAHA;AAIzBX,EAAAA,OAAO,EAAES,mBAAUG,IAAV,CAAeD;AAJC,CAA3B;;IAOMG,a;;;;;AACJ,yBAAYC,KAAZ,EAAmB;AAAA;;AAAA;;AAAA;;AACjB,uFAAMA,KAAN;AACA,UAAKC,UAAL,GAAkB,uBAAlB;AACA,UAAKC,QAAL,GAAgB,uBAAhB;AACA,UAAKjB,OAAL,sEAAsB,MAAKA,OAA3B;AACA,UAAKkB,UAAL,sEAAyB,MAAKA,UAA9B;AACA,UAAKC,KAAL,GAAa;AACXC,MAAAA,UAAU,EAAEL,KAAK,CAACK,UADP;AAEXJ,MAAAA,UAAU,EAAE,MAAKA,UAAL,IAAmB,MAAKA,UAAL,CAAgBK;AAFpC,KAAb;AANiB;AAUlB;;;;4BAEOC,C,EAAG;AACT,UAAI,uBAAS,KAAKL,QAAd,KAA2B,uBAAS,KAAKA,QAAL,CAAcI,OAAvB,CAA/B,EAAgE;AAAA,YAC/CA,OAD+C,GACjC,KAAKJ,QAAL,CAAcI,OADmB,CACtDE,GADsD,CAC/CF,OAD+C;;AAG9D,YACE,CAACA,OAAO,CAACG,QAAR,CAAiBF,CAAC,CAACG,MAAnB,CAAD,IACG,CAAC,KAAKT,UAAL,CAAgBK,OAAhB,CAAwBG,QAAxB,CAAiCF,CAAC,CAACG,MAAnC,CADJ,IAEG,KAAKN,KAAL,CAAWC,UAHhB,EAIE;AACA,eAAKM,QAAL,CAAc;AACZN,YAAAA,UAAU,EAAE;AADA,WAAd;AAGD;AACF;AACF;;;iCAEY;AACX,WAAKM,QAAL,CAAc,UAAAC,SAAS;AAAA,eAAK;AAC1BP,UAAAA,UAAU,EAAE,CAACO,SAAS,CAACP;AADG,SAAL;AAAA,OAAvB;AAGD;;;wCAEmB;AAClBQ,MAAAA,QAAQ,CAACC,IAAT,CAAcC,gBAAd,CAA+B,OAA/B,EAAwC,KAAK9B,OAA7C;AACA,WAAK0B,QAAL,CAAc;AACZV,QAAAA,UAAU,EAAE,KAAKA,UAAL,IAAmB,KAAKA,UAAL,CAAgBK;AADnC,OAAd;AAGD;;;gDAE2B;AAC1B,WAAKK,QAAL,CAAc;AACZV,QAAAA,UAAU,EAAE,KAAKA,UAAL,IAAmB,KAAKA,UAAL,CAAgBK;AADnC,OAAd;AAGD;;;2CAEsB;AACrBO,MAAAA,QAAQ,CAACC,IAAT,CAAcE,mBAAd,CAAkC,OAAlC,EAA2C,KAAK/B,OAAhD;AACD;;;0CAEqBgC,S,EAAWC,S,EAAW;AAC1C,UAAIA,SAAS,KAAK,KAAKd,KAAvB,EAA8B;AAC5B,eAAO,IAAP;AACD;;AAED,UAAIe,UAAU,GAAG,KAAjB;;AAEA,WAAK,IAAMC,CAAX,IAAgBH,SAAhB,EAA2B;AACzB,YAAeI,MAAM,CAACC,SAAP,CAAiBC,cAA5B,MAAAN,SAAS,EAAkCG,CAAlC,CAAb,EAAmD;AACjD,cAAMI,GAAG,GAAGP,SAAS,CAACG,CAAD,CAArB;;AAEA,cACEI,GAAG,KAAK,KAAKxB,KAAL,CAAWoB,CAAX,CAAR,IACG,OAAOI,GAAP,KAAe,UAFpB,EAGE;AACAL,YAAAA,UAAU,GAAG,IAAb;AACA;AACD;AACF;AACF;;AACD,aAAOA,UAAP;AACD;;;6BAEQ;AACP,UAAIM,OAAO,GAAG,EAAd;AACA;;AACAA,MAAAA,OAAO,CAACC,IAAR,CAAa,KAAK1B,KAAL,CAAW2B,QAAX,GACT;AACA5C,QAAAA,IAAI,EAAE6C,aADN;AAEAC,QAAAA,EAAE,EAAEzD,gBAAgB,CAACC,QAFrB;AAGAQ,QAAAA,KAAK,EAAEiD,cAAKC,SAAL,CAAe,QAAf,EAAyB,KAAK/B,KAAL,CAAWgC,aAApC,CAHP;AAIAhD,QAAAA,QAAQ,EAAE,KAAKgB,KAAL,CAAWiC,QAJrB;AAKAhD,QAAAA,OAAO,EAAE,KAAKe,KAAL,CAAWkC;AALpB,OADS,GAQT;AACAnD,QAAAA,IAAI,EAAEoD,eADN;AAEAN,QAAAA,EAAE,EAAEzD,gBAAgB,CAACC,QAFrB;AAGAQ,QAAAA,KAAK,EAAEiD,cAAKC,SAAL,CAAe,MAAf,EAAuB,KAAK/B,KAAL,CAAWgC,aAAlC,CAHP;AAIAhD,QAAAA,QAAQ,EAAE,KAAKgB,KAAL,CAAWiC,QAJrB;AAKAhD,QAAAA,OAAO,EAAE,KAAKe,KAAL,CAAWoC;AALpB,OARJ;AAiBA;;AACAX,MAAAA,OAAO,CAACC,IAAR,CACE;AACE3C,QAAAA,IAAI,EAAEsD,gBADR;AAEER,QAAAA,EAAE,EAAEzD,gBAAgB,CAACE,UAFvB;AAGEO,QAAAA,KAAK,EAAEiD,cAAKC,SAAL,CAAe,QAAf,EAAyB,KAAK/B,KAAL,CAAWgC,aAApC,CAHT;AAIE/C,QAAAA,OAAO,EAAE,KAAKe,KAAL,CAAWsC,YAJtB;AAKEtD,QAAAA,QAAQ,EAAE,KAAKgB,KAAL,CAAWuC,MAAX,KAAsBC,yBAAgBC;AALlD,OADF;AAUA;;AACAhB,MAAAA,OAAO,CAACC,IAAR,CACE;AACE3C,QAAAA,IAAI,EAAE2D,aADR;AAEEb,QAAAA,EAAE,EAAEzD,gBAAgB,CAACG,QAFvB;AAGEoE,QAAAA,SAAS,EAAE,GAHb;AAIEC,QAAAA,UAAU,EAAE,GAJd;AAKEC,QAAAA,KAAK,EAAE,GALT;AAMEC,QAAAA,KAAK,EAAE,GANT;AAOEjE,QAAAA,KAAK,EAAE,KAAKmB,KAAL,CAAWiC,QAAX,GACHH,cAAKC,SAAL,CAAe,QAAf,EAAyB,KAAK/B,KAAL,CAAWgC,aAApC,CADG,GAEHF,cAAKC,SAAL,CAAe,MAAf,EAAuB,KAAK/B,KAAL,CAAWgC,aAAlC,CATN;AAUEe,QAAAA,MAAM,EAAE,KAAK/C,KAAL,CAAWiC,QAVrB;AAWEhD,QAAAA,OAAO,EAAE,KAAKe,KAAL,CAAWiC,QAAX,GACL,KAAKjC,KAAL,CAAWgD,QADN,GAEL,KAAKhD,KAAL,CAAWiD;AAbjB,OADF;AAkBA;;AACA,UAAI,KAAKjD,KAAL,CAAWkD,sBAAf,EAAuC;AACrC,YAAMC,SAAS,GACb,KAAKnD,KAAL,CAAWuC,MAAX,KAAsBC,yBAAgBY,SAAtC,IACC,KAAKpD,KAAL,CAAWuC,MAAX,KAAsBC,yBAAgBa,UAAtC,IAAoD,KAAKrD,KAAL,CAAWsD,iBAFlE;AAIA7B,QAAAA,OAAO,CAACC,IAAR,CAAayB,SAAS,GAClB;AACApE,UAAAA,IAAI,EAAEwE,gCADN;AAEA1B,UAAAA,EAAE,EAAEzD,gBAAgB,CAACI,cAFrB;AAGAK,UAAAA,KAAK,EAAEiD,cAAKC,SAAL,CAAe,mBAAf,EAAoC,KAAK/B,KAAL,CAAWgC,aAA/C,CAHP;AAIAhD,UAAAA,QAAQ,EAAE,KAAKgB,KAAL,CAAWwD,aAJrB;AAKAvE,UAAAA,OAAO,EAAE,KAAKe,KAAL,CAAWyD,OALpB;AAMAC,UAAAA,UAAU,EAAE,CAAC,KAAK1D,KAAL,CAAWwD;AANxB,SADkB,GASlB;AACAzE,UAAAA,IAAI,EAAE4E,gBADN;AAEA9B,UAAAA,EAAE,EAAEzD,gBAAgB,CAACI,cAFrB;AAGAK,UAAAA,KAAK,EAAEiD,cAAKC,SAAL,CAAe,KAAf,EAAsB,KAAK/B,KAAL,CAAWgC,aAAjC,CAHP;AAIAhD,UAAAA,QAAQ,EAAE,KAAKgB,KAAL,CAAW4D,WAJrB;AAKA3E,UAAAA,OAAO,EAAE,KAAKe,KAAL,CAAW6D;AALpB,SATJ;AAiBD;AAED;;;AACApC,MAAAA,OAAO,CAACC,IAAR,CACE;AACE3C,QAAAA,IAAI,EAAE+E,eADR;AAEEjC,QAAAA,EAAE,EAAEzD,gBAAgB,CAACK,UAFvB;AAGEI,QAAAA,KAAK,EAAE,KAAKmB,KAAL,CAAW+D,YAAX,KAA4BA,sBAAaC,SAAzC,GACHlC,cAAKC,SAAL,CAAe,YAAf,EAA6B,KAAK/B,KAAL,CAAWgC,aAAxC,CADG,GAEHF,cAAKC,SAAL,CAAe,QAAf,EAAyB,KAAK/B,KAAL,CAAWgC,aAApC,CALN;AAMEe,QAAAA,MAAM,EAAE,KAAK/C,KAAL,CAAW+D,YAAX,KAA4BA,sBAAaC,SANnD;AAOEhF,QAAAA,QAAQ,EACN,KAAKgB,KAAL,CAAWiC,QAAX,IACG,KAAKjC,KAAL,CAAW+D,YAAX,KAA4BA,sBAAaE,OAD5C,IAEG,KAAKjE,KAAL,CAAWuC,MAAX,KAAsBC,yBAAgBY,SAFzC,IAGG,KAAKpD,KAAL,CAAW+D,YAAX,KAA4BA,sBAAaG,QAXhD;AAaEjF,QAAAA,OAAO,EAAE,KAAKe,KAAL,CAAW+D,YAAX,KAA4BA,sBAAaC,SAAzC,GACL,KAAKhE,KAAL,CAAWmE,YADN,GAEL,KAAKnE,KAAL,CAAWoE;AAfjB,OADF;AAoBA;;AACA,UAAMC,gBAAgB,GACpB,KAAKrE,KAAL,CAAWuC,MAAX,KAAsBC,yBAAgBa,UADxC;AAGA5B,MAAAA,OAAO,CAACC,IAAR,CACE;AACE3C,QAAAA,IAAI,EAAEuF,iBADR;AAEEzC,QAAAA,EAAE,EAAEzD,gBAAgB,CAACM,YAFvB;AAGEG,QAAAA,KAAK,EAAEiD,cAAKC,SAAL,CAAe,UAAf,EAA2B,KAAK/B,KAAL,CAAWgC,aAAtC,CAHT;AAIEhD,QAAAA,QAAQ,EAAEqF,gBAJZ;AAKEpF,QAAAA,OAAO,EAAE,KAAKe,KAAL,CAAWuE;AALtB,OADF;AAUA;;AACA,UAAMC,YAAY,GAChB,KAAKxE,KAAL,CAAWyE,WAAX,CAAuBC,MAAvB,KAAkC,CAAlC,IACG,KAAK1E,KAAL,CAAWiC,QADd,IAEG,KAAKjC,KAAL,CAAWuC,MAAX,KAAsBC,yBAAgBa,UAH3C;AAKA5B,MAAAA,OAAO,CAACC,IAAR,CACE;AACE3C,QAAAA,IAAI,EAAE4F,aADR;AAEE9C,QAAAA,EAAE,EAAEzD,gBAAgB,CAACO,QAFvB;AAGEE,QAAAA,KAAK,EAAEiD,cAAKC,SAAL,CAAe,MAAf,EAAuB,KAAK/B,KAAL,CAAWgC,aAAlC,CAHT;AAIEhD,QAAAA,QAAQ,EAAEwF,YAJZ;AAKEvF,QAAAA,OAAO,EAAE,KAAKe,KAAL,CAAW4E;AALtB,OADF,EApHO,CA8HP;;AA9HO,UA+HCC,OA/HD,GA+Ha,KAAK7E,KA/HlB,CA+HC6E,OA/HD;;AAgIP,UAAIA,OAAO,CAACH,MAAR,GAAiB,CAArB,EAAwB;AACtBjD,QAAAA,OAAO,GAAG,yBAAaoD,OAAb,EAAsBpD,OAAtB,CAAV;AACD;AAED;;;AACA,UAAIqD,WAAW,GAAG,IAAlB;;AACA,UAAIrD,OAAO,CAACiD,MAAR,GAAiBvG,mBAArB,EAA0C;AACxC2G,QAAAA,WAAW,GACT;AACE,UAAA,SAAS,EAAE3F,gBAAO4F,mBADpB;AAEE,UAAA,GAAG,EAAE,KAAK9E;AAFZ,WAIE,6BAAC,yBAAD;AACE,UAAA,OAAO,EAAE,KAAKE,UADhB;AAEE,UAAA,KAAK,EAAE2B,cAAKC,SAAL,CAAe,MAAf,EAAuB,KAAK/B,KAAL,CAAWgC,aAAlC,CAFT;AAGE,UAAA,MAAM,EAAE,KAAK5B,KAAL,CAAWC,UAHrB;AAIE,UAAA,SAAS,EAAE,yBAAWlB,gBAAOc,UAAlB,EAA8Bd,gBAAO6F,UAArC,CAJb;AAKE,UAAA,QAAQ,EAAER,YAAY,IAAIH,gBAL5B;AAME,UAAA,IAAI,EAAEY;AANR,UAJF,EAWE,6BAAC,gBAAD;AACE,UAAA,KAAK,EAAE,KADT;AAEE,UAAA,IAAI,EAAE,KAAK7E,KAAL,CAAWC,UAFnB;AAGE,UAAA,SAAS,EAAC,KAHZ;AAIE,UAAA,GAAG,EAAE,KAAKH,QAJZ;AAKE,UAAA,UAAU,EAAE,KAAKE,KAAL,CAAWH;AALzB,WAME;AAAK,UAAA,SAAS,EAAEd,gBAAO+F;AAAvB,WAEIzD,OAAO,CAAC0D,KAAR,CAAchH,mBAAmB,GAAG,CAApC,EAAuCiH,GAAvC,CAA2C;AAAA,cACzCvD,EADyC,SACzCA,EADyC;AAAA,cAEtCwD,IAFsC;;AAAA,iBAGpC,6BAAC,cAAD;AACL,YAAA,GAAG,EAAExD;AADA,aAEDwD,IAFC,EAHoC;AAAA,SAA3C,CAFJ,CANF,CAXF,CADF;AAgCD;;AAED,UAAMC,SAAS,GAAI7D,OAAO,CAACiD,MAAR,IAAkB,CAAnB,IAAyBI,WAAW,KAAK,IAA3D;AACA,aACE;AAAK,QAAA,SAAS,EAAE,yBAAW3F,gBAAOoG,IAAlB,EAAwB,KAAKvF,KAAL,CAAWwF,SAAnC;AAAhB,SACE;AAAK,QAAA,SAAS,EAAE,yBAAWrG,gBAAOsG,mBAAlB,EAAuCH,SAAS,IAAInG,gBAAOuG,YAA3D;AAAhB,SACE;AAAK,QAAA,SAAS,EAAEvG,gBAAOwG;AAAvB,SAEIlE,OAAO,CAAC0D,KAAR,CAAc,CAAd,EAAiBhH,mBAAmB,IAAI2G,WAAW,GAAG,CAAH,GAAO,CAAtB,CAApC,EAA8DM,GAA9D,CAAkE,UAAAC,IAAI;AAAA,eACpE,6BAAC,yBAAD;AACE,UAAA,GAAG,EAAEA,IAAI,CAACxG,KADZ;AAEE,UAAA,SAAS,EAAEM,gBAAO6F;AAFpB,WAGMK,IAHN,EADoE;AAAA,OAAtE,CAFJ,EAUGP,WAVH,CADF,CADF,EAeE;AAAK,QAAA,SAAS,EAAE,yBAAW3F,gBAAOwG,SAAlB,EAA6BxG,gBAAOyG,eAApC;AAAhB,SACE;AAAK,QAAA,SAAS,EAAEzG,gBAAO0G;AAAvB,SACE,6BAAC,qBAAD;AACE,QAAA,SAAS,EAAE1G,gBAAO2G,UADpB;AAEE,QAAA,OAAO,EAAE,KAAK9F,KAAL,CAAW+F,QAFtB;AAGE,QAAA,IAAI,EAAEC,YAHR;AAIE,QAAA,UAAU,EAAE,KAJd;AAKE,QAAA,SAAS,EAAE,GALb;AAME,QAAA,KAAK,EAAE,GANT;AAOE,QAAA,QAAQ,EAAC;AAPX,QADF,CADF,CAfF,CADF;AA+BD;;;;EApRyBC,gB;;AAuR5BlG,aAAa,CAACN,SAAd,GAA0B;AACxBuC,EAAAA,aAAa,EAAEtC,mBAAUC,MAAV,CAAiBC,UADR;AAExB4F,EAAAA,SAAS,EAAE9F,mBAAUC,MAFG;AAGxBgC,EAAAA,QAAQ,EAAEjC,mBAAUI,IAHI;AAIxBmC,EAAAA,QAAQ,EAAEvC,mBAAUI,IAJI;AAKxBiE,EAAAA,YAAY,EAAErE,mBAAUC,MAAV,CAAiBC,UALP;AAMxBwC,EAAAA,MAAM,EAAE1C,mBAAUG,IAAV,CAAeD,UANC;AAOxBsC,EAAAA,QAAQ,EAAExC,mBAAUG,IAAV,CAAeD,UAPD;AAQxBqD,EAAAA,MAAM,EAAEvD,mBAAUG,IAAV,CAAeD,UARC;AASxBoD,EAAAA,QAAQ,EAAEtD,mBAAUG,IAAV,CAAeD,UATD;AAUxBwE,EAAAA,QAAQ,EAAE1E,mBAAUG,IAAV,CAAeD,UAVD;AAWxBuE,EAAAA,YAAY,EAAEzE,mBAAUG,IAAV,CAAeD,UAXL;AAYxBmG,EAAAA,QAAQ,EAAErG,mBAAUG,IAAV,CAAeD,UAZD;AAaxB;AACA0C,EAAAA,YAAY,EAAE5C,mBAAUG,IAAV,CAAeD,UAdL;AAexBiE,EAAAA,KAAK,EAAEnE,mBAAUG,IAfO;AAgBxB4D,EAAAA,OAAO,EAAE/D,mBAAUG,IAhBK;AAiBxB+E,EAAAA,eAAe,EAAElF,mBAAUG,IAAV,CAAeD,UAjBR;AAkBxB2E,EAAAA,qBAAqB,EAAE7E,mBAAUG,IAAV,CAAeD,UAlBd;AAmBxB6E,EAAAA,WAAW,EAAE/E,mBAAUwG,KAAV,CAAgBtG,UAnBL;AAoBxB2C,EAAAA,MAAM,EAAE7C,mBAAUC,MApBM;AAqBxBiE,EAAAA,WAAW,EAAElE,mBAAUI,IArBC;AAsBxB0D,EAAAA,aAAa,EAAE9D,mBAAUI,IAtBD;AAuBxBoD,EAAAA,sBAAsB,EAAExD,mBAAUI,IAvBV;AAwBxBwD,EAAAA,iBAAiB,EAAE5D,mBAAUI,IAxBL;AAyBxBO,EAAAA,UAAU,EAAEX,mBAAUI,IAzBE;AA0BxB+E,EAAAA,OAAO,EAAEnF,mBAAUwG;AA1BK,CAA1B;AA6BAnG,aAAa,CAACoG,YAAd,GAA6B;AAC3BX,EAAAA,SAAS,EAAE,IADgB;AAE3B7D,EAAAA,QAAQ,EAAE,KAFiB;AAG3BM,EAAAA,QAAQ,EAAE,KAHiB;AAI3BM,EAAAA,MAAM,EAAEC,yBAAgBa,UAJG;AAK3BO,EAAAA,WAAW,EAAE,KALc;AAM3BJ,EAAAA,aAAa,EAAE,KANY;AAO3BN,EAAAA,sBAAsB,EAAE,KAPG;AAQ3BI,EAAAA,iBAAiB,EAAE,KARQ;AAS3BO,EAAAA,KAAK,EAAEuC,SAToB;AAU3B3C,EAAAA,OAAO,EAAE2C,SAVkB;AAW3B/F,EAAAA,UAAU,EAAE,KAXe;AAY3BwE,EAAAA,OAAO,EAAE;AAZkB,CAA7B;eAee9E,a","sourcesContent":["import React, { Component, createRef } from 'react';\nimport PropTypes from 'prop-types';\nimport classnames from 'classnames';\nimport recordStatus from 'ringcentral-integration/modules/Webphone/recordStatus';\nimport { isObject } from 'ringcentral-integration/lib/di/utils/is_type';\n\nimport CircleButton from '../CircleButton';\nimport Tooltip from '../Tooltip';\nimport ActiveCallButton from '../ActiveCallButton';\nimport MuteIcon from '../../assets/images/Mute.svg';\nimport UnmuteIcon from '../../assets/images/Unmute.svg';\nimport KeypadIcon from '../../assets/images/Dialpad.svg';\nimport HoldIcon from '../../assets/images/Hold.svg';\n// import ParkIcon from '../../assets/images/Park.svg';\nimport RecordIcon from '../../assets/images/Record.svg';\n// import AddIcon from '../../assets/images/AddCall.svg';\nimport MoreIcon from '../../assets/images/MoreIcon.svg';\nimport TransferIcon from '../../assets/images/Transfer.svg';\nimport FlipIcon from '../../assets/images/Flip.svg';\nimport EndIcon from '../../assets/images/End.svg';\nimport CombineIcon from '../../assets/images/Combine.svg';\nimport MergeIcon from '../../assets/images/MergeIntoConferenceIcon.svg';\nimport callCtrlLayouts from '../../enums/callCtrlLayouts';\nimport { pickElements } from './utils';\n\nimport styles from './styles.scss';\nimport i18n from './i18n';\n\nconst DisplayButtonNumber = 6;\n\nexport const ACTIONS_CTRL_MAP = {\n  muteCtrl: 'muteCtrl',\n  keypadCtrl: 'keypadCtrl',\n  holdCtrl: 'holdCtrl',\n  mergeOrAddCtrl: 'mergeOrAddCtrl',\n  recordCtrl: 'recordCtrl',\n  transferCtrl: 'transferCtrl',\n  flipCtrl: 'flipCtrl'\n};\n\nexport function MoreActionItem({\n  title,\n  icon: Icon,\n  disabled,\n  onClick,\n}) {\n  const iconClassName = classnames(\n    styles.buttonIcon,\n    disabled ? styles.buttonDisabled : styles.buttonActive\n  );\n  return (\n    <div\n      className={styles.buttonItem}\n      onClick={disabled ? null : onClick}>\n      <div className={iconClassName}>\n        {<Icon />}\n      </div>\n      <div className={styles.buttonName}>\n        {title}\n      </div>\n    </div>\n  );\n}\n\nMoreActionItem.propTypes = {\n  title: PropTypes.string.isRequired,\n  icon: PropTypes.func.isRequired,\n  disabled: PropTypes.bool.isRequired,\n  onClick: PropTypes.func.isRequired,\n};\n\nclass ActiveCallPad extends Component {\n  constructor(props) {\n    super(props);\n    this.moreButton = createRef();\n    this.dropdown = createRef();\n    this.onClick = this:: this.onClick;\n    this.toggleMore = this:: this.toggleMore;\n    this.state = {\n      expandMore: props.expandMore,\n      moreButton: this.moreButton && this.moreButton.current,\n    };\n  }\n\n  onClick(e) {\n    if (isObject(this.dropdown) && isObject(this.dropdown.current)) {\n      const { dom: { current } } = this.dropdown.current;\n\n      if (\n        !current.contains(e.target)\n        && !this.moreButton.current.contains(e.target)\n        && this.state.expandMore\n      ) {\n        this.setState({\n          expandMore: false,\n        });\n      }\n    }\n  }\n\n  toggleMore() {\n    this.setState(prevState => ({\n      expandMore: !prevState.expandMore\n    }));\n  }\n\n  componentDidMount() {\n    document.body.addEventListener('click', this.onClick);\n    this.setState({\n      moreButton: this.moreButton && this.moreButton.current,\n    });\n  }\n\n  componentWillReceiveProps() {\n    this.setState({\n      moreButton: this.moreButton && this.moreButton.current,\n    });\n  }\n\n  componentWillUnmount() {\n    document.body.removeEventListener('click', this.onClick);\n  }\n\n  shouldComponentUpdate(nextProps, nextState) {\n    if (nextState !== this.state) {\n      return true;\n    }\n\n    let showUpdate = false;\n\n    for (const p in nextProps) {\n      if (nextProps::Object.prototype.hasOwnProperty(p)) {\n        const val = nextProps[p];\n\n        if (\n          val !== this.props[p] &&\n            (typeof val !== 'function')\n        ) {\n          showUpdate = true;\n          break;\n        }\n      }\n    }\n    return showUpdate;\n  }\n\n  render() {\n    let buttons = [];\n    /* --------------------- Mute/Unmute --------------------------- */\n    buttons.push(this.props.isOnMute\n      ? {\n        icon: MuteIcon,\n        id: ACTIONS_CTRL_MAP.muteCtrl,\n        title: i18n.getString('unmute', this.props.currentLocale),\n        disabled: this.props.isOnHold,\n        onClick: this.props.onUnmute,\n      }\n      : {\n        icon: UnmuteIcon,\n        id: ACTIONS_CTRL_MAP.muteCtrl,\n        title: i18n.getString('mute', this.props.currentLocale),\n        disabled: this.props.isOnHold,\n        onClick: this.props.onMute,\n      }\n    );\n\n    /* --------------------- keyPad --------------------------- */\n    buttons.push(\n      {\n        icon: KeypadIcon,\n        id: ACTIONS_CTRL_MAP.keypadCtrl,\n        title: i18n.getString('keypad', this.props.currentLocale),\n        onClick: this.props.onShowKeyPad,\n        disabled: this.props.layout === callCtrlLayouts.conferenceCtrl,\n      }\n    );\n\n    /* --------------------- Hold/Unhold --------------------------- */\n    buttons.push(\n      {\n        icon: HoldIcon,\n        id: ACTIONS_CTRL_MAP.holdCtrl,\n        iconWidth: 120,\n        iconHeight: 160,\n        iconX: 190,\n        iconY: 165,\n        title: this.props.isOnHold\n          ? i18n.getString('onHold', this.props.currentLocale)\n          : i18n.getString('hold', this.props.currentLocale),\n        active: this.props.isOnHold,\n        onClick: this.props.isOnHold\n          ? this.props.onUnhold\n          : this.props.onHold,\n      }\n    );\n\n    /* --------------------- Add/Merge --------------------------- */\n    if (this.props.conferenceCallEquipped) {\n      const showMerge = (\n        this.props.layout === callCtrlLayouts.mergeCtrl ||\n        (this.props.layout === callCtrlLayouts.normalCtrl && this.props.hasConferenceCall)\n      );\n      buttons.push(showMerge\n        ? {\n          icon: MergeIcon,\n          id: ACTIONS_CTRL_MAP.mergeOrAddCtrl,\n          title: i18n.getString('mergeToConference', this.props.currentLocale),\n          disabled: this.props.mergeDisabled,\n          onClick: this.props.onMerge,\n          showRipple: !this.props.mergeDisabled,\n        }\n        : {\n          icon: CombineIcon,\n          id: ACTIONS_CTRL_MAP.mergeOrAddCtrl,\n          title: i18n.getString('add', this.props.currentLocale),\n          disabled: this.props.addDisabled,\n          onClick: this.props.onAdd,\n        }\n      );\n    }\n\n    /* --------------------- Record/Stop --------------------------- */\n    buttons.push(\n      {\n        icon: RecordIcon,\n        id: ACTIONS_CTRL_MAP.recordCtrl,\n        title: this.props.recordStatus === recordStatus.recording\n          ? i18n.getString('stopRecord', this.props.currentLocale)\n          : i18n.getString('record', this.props.currentLocale),\n        active: this.props.recordStatus === recordStatus.recording,\n        disabled: (\n          this.props.isOnHold\n          || this.props.recordStatus === recordStatus.pending\n          || this.props.layout === callCtrlLayouts.mergeCtrl\n          || this.props.recordStatus === recordStatus.noAccess\n        ),\n        onClick: this.props.recordStatus === recordStatus.recording\n          ? this.props.onStopRecord\n          : this.props.onRecord,\n      }\n    );\n\n    /* --------------------- Transfer --------------------------- */\n    const disabledTransfer = (\n      this.props.layout !== callCtrlLayouts.normalCtrl\n    );\n    buttons.push(\n      {\n        icon: TransferIcon,\n        id: ACTIONS_CTRL_MAP.transferCtrl,\n        title: i18n.getString('transfer', this.props.currentLocale),\n        disabled: disabledTransfer,\n        onClick: this.props.onToggleTransferPanel,\n      }\n    );\n\n    /* --------------------- Flip --------------------------- */\n    const disabledFlip = (\n      this.props.flipNumbers.length === 0\n      || this.props.isOnHold\n      || this.props.layout !== callCtrlLayouts.normalCtrl\n    );\n    buttons.push(\n      {\n        icon: FlipIcon,\n        id: ACTIONS_CTRL_MAP.flipCtrl,\n        title: i18n.getString('flip', this.props.currentLocale),\n        disabled: disabledFlip,\n        onClick: this.props.onShowFlipPanel,\n      }\n    );\n\n    // filter actions\n    const { actions } = this.props;\n    if (actions.length > 0) {\n      buttons = pickElements(actions, buttons);\n    }\n\n    /* --------------------- More Actions --------------------------- */\n    let moreActions = null;\n    if (buttons.length > DisplayButtonNumber) {\n      moreActions = (\n        <span\n          className={styles.moreButtonContainer}\n          ref={this.moreButton}\n        >\n          <ActiveCallButton\n            onClick={this.toggleMore}\n            title={i18n.getString('more', this.props.currentLocale)}\n            active={this.state.expandMore}\n            className={classnames(styles.moreButton, styles.callButton)}\n            disabled={disabledFlip && disabledTransfer}\n            icon={MoreIcon} />\n          <Tooltip\n            fixed={false}\n            open={this.state.expandMore}\n            direction=\"top\"\n            ref={this.dropdown}\n            triggerElm={this.state.moreButton}>\n            <div className={styles.buttonPopup}>\n              {\n                buttons.slice(DisplayButtonNumber - 1).map(({\n                  id,\n                  ...opts\n                }) => (<MoreActionItem\n                  key={id}\n                  {...opts}\n                />))\n              }\n            </div>\n          </Tooltip>\n        </span>\n      );\n    }\n\n    const isLessBtn = (buttons.length <= 3) && moreActions === null;\n    return (\n      <div className={classnames(styles.root, this.props.className)}>\n        <div className={classnames(styles.callCtrlButtonGroup, isLessBtn && styles.biggerButton)}>\n          <div className={styles.buttonRow}>\n            {\n              buttons.slice(0, DisplayButtonNumber - (moreActions ? 1 : 0)).map(opts => (\n                <ActiveCallButton\n                  key={opts.title}\n                  className={styles.callButton}\n                  {...opts}\n                />\n              ))\n            }\n            {moreActions}\n          </div>\n        </div>\n        <div className={classnames(styles.buttonRow, styles.stopButtonGroup)}>\n          <div className={styles.button}>\n            <CircleButton\n              className={styles.stopButton}\n              onClick={this.props.onHangup}\n              icon={EndIcon}\n              showBorder={false}\n              iconWidth={250}\n              iconX={125}\n              dataSign=\"hangup\"\n            />\n          </div>\n        </div>\n      </div>\n    );\n  }\n}\n\nActiveCallPad.propTypes = {\n  currentLocale: PropTypes.string.isRequired,\n  className: PropTypes.string,\n  isOnMute: PropTypes.bool,\n  isOnHold: PropTypes.bool,\n  recordStatus: PropTypes.string.isRequired,\n  onMute: PropTypes.func.isRequired,\n  onUnmute: PropTypes.func.isRequired,\n  onHold: PropTypes.func.isRequired,\n  onUnhold: PropTypes.func.isRequired,\n  onRecord: PropTypes.func.isRequired,\n  onStopRecord: PropTypes.func.isRequired,\n  onHangup: PropTypes.func.isRequired,\n  // onPark: PropTypes.func.isRequired,\n  onShowKeyPad: PropTypes.func.isRequired,\n  onAdd: PropTypes.func,\n  onMerge: PropTypes.func,\n  onShowFlipPanel: PropTypes.func.isRequired,\n  onToggleTransferPanel: PropTypes.func.isRequired,\n  flipNumbers: PropTypes.array.isRequired,\n  layout: PropTypes.string,\n  addDisabled: PropTypes.bool,\n  mergeDisabled: PropTypes.bool,\n  conferenceCallEquipped: PropTypes.bool,\n  hasConferenceCall: PropTypes.bool,\n  expandMore: PropTypes.bool,\n  actions: PropTypes.array\n};\n\nActiveCallPad.defaultProps = {\n  className: null,\n  isOnMute: false,\n  isOnHold: false,\n  layout: callCtrlLayouts.normalCtrl,\n  addDisabled: false,\n  mergeDisabled: false,\n  conferenceCallEquipped: false,\n  hasConferenceCall: false,\n  onAdd: undefined,\n  onMerge: undefined,\n  expandMore: false,\n  actions: []\n};\n\nexport default ActiveCallPad;\n"],"file":"index.js"}