{"version":3,"sources":["lib/Analytics/segment.js"],"names":["init","window","analytics","initialize","console","log","invoked","error","methods","factory","method","pushMethod","args","unshift","push","forEach","load","key","document","undefined","script","createElement","type","async","src","first","getElementsByTagName","parentNode","insertBefore","SNIPPET_VERSION"],"mappings":";;;;;;;;;;;AAAe,SAASA,IAAT,GAAgB;AAC7B,MAAI,OAAOC,MAAP,KAAkB,WAAtB,EAAmC;AACjCA,IAAAA,MAAM,CAACC,SAAP,GAAmBD,MAAM,CAACC,SAAP,IAAoB,EAAvC;AADiC,kBAEXD,MAFW;AAAA,QAEzBC,SAFyB,WAEzBA,SAFyB;;AAGjC,QAAIA,SAAS,CAACC,UAAd,EAA0B;AACxB,UAAIF,MAAM,CAACG,OAAP,IAAkBA,OAAO,CAACC,GAA9B,EAAmC;AACjCD,QAAAA,OAAO,CAACC,GAAR,CAAY,sBAAZ;AACD;AACF,KAJD,MAIO,IAAIH,SAAS,CAACI,OAAd,EAAuB;AAC5B;AACA,UAAIL,MAAM,CAACG,OAAP,IAAkBA,OAAO,CAACG,KAA9B,EAAqC;AACnCH,QAAAA,OAAO,CAACG,KAAR,CAAc,iCAAd;AACD;AACF,KALM,MAKA;AACL;AACA;AACAL,MAAAA,SAAS,CAACI,OAAV,GAAoB,IAApB,CAHK,CAKL;;AACAJ,MAAAA,SAAS,CAACM,OAAV,GAAoB,CAClB,aADkB,EAElB,YAFkB,EAGlB,WAHkB,EAIlB,WAJkB,EAKlB,UALkB,EAMlB,UANkB,EAOlB,OAPkB,EAQlB,OARkB,EASlB,OATkB,EAUlB,OAVkB,EAWlB,OAXkB,EAYlB,OAZkB,EAalB,MAbkB,EAclB,MAdkB,EAelB,KAfkB,EAgBlB,IAhBkB,CAApB;;AAmBAN,MAAAA,SAAS,CAACO,OAAV,GAAoB,SAASA,OAAT,CAAiBC,MAAjB,EAAyB;AAC3C;AACA,eAAO,SAASC,UAAT,GAA6B;AAAA,4CAANC,IAAM;AAANA,YAAAA,IAAM;AAAA;;AAClCA,UAAAA,IAAI,CAACC,OAAL,CAAaH,MAAb;AACAR,UAAAA,SAAS,CAACY,IAAV,CAAeF,IAAf;AACA,iBAAOV,SAAP;AACD,SAJD;AAKD,OAPD;;AASAA,MAAAA,SAAS,CAACM,OAAV,CAAkBO,OAAlB,CAA0B,UAACL,MAAD,EAAY;AACpCR,QAAAA,SAAS,CAACQ,MAAD,CAAT,GAAoBR,SAAS,CAACO,OAAV,CAAkBC,MAAlB,CAApB;AACD,OAFD;;AAIAR,MAAAA,SAAS,CAACc,IAAV,GAAiB,SAASA,IAAT,CAAcC,GAAd,EAAmB;AAClC,YAAIC,QAAQ,KAAKC,SAAjB,EAA4B;AAC1B,cAAMC,MAAM,GAAGF,QAAQ,CAACG,aAAT,CAAuB,QAAvB,CAAf;AACAD,UAAAA,MAAM,CAACE,IAAP,GAAc,iBAAd;AACAF,UAAAA,MAAM,CAACG,KAAP,GAAe,IAAf;AACAH,UAAAA,MAAM,CAACI,GAAP,qDAAwDP,GAAxD,uBAJ0B,CAK1B;;AACA,cAAMQ,KAAK,GAAGP,QAAQ,CAACQ,oBAAT,CAA8B,MAA9B,EAAsC,CAAtC,CAAd;;AACA,cAAID,KAAK,IAAIA,KAAK,CAACE,UAAnB,EAA+B;AAC7BF,YAAAA,KAAK,CAACE,UAAN,CAAiBC,YAAjB,CAA8BR,MAA9B,EAAsCK,KAAtC;AACD;AACF;AACF,OAZD;;AAcAvB,MAAAA,SAAS,CAAC2B,eAAV,GAA4B,OAA5B;AACD;;AACD,WAAO3B,SAAP;AACD;;AACD,SAAO,EAAP;AACD","sourcesContent":["export default function init() {\n  if (typeof window !== 'undefined') {\n    window.analytics = window.analytics || [];\n    const { analytics } = window;\n    if (analytics.initialize) {\n      if (window.console && console.log) {\n        console.log('Segment initialized!');\n      }\n    } else if (analytics.invoked) {\n      // If the snippet was invoked already show an error.\n      if (window.console && console.error) {\n        console.error('Segment snippet included twice.');\n      }\n    } else {\n      // Invoked flag, to make sure the snippet\n      // is never invoked twice.\n      analytics.invoked = true;\n\n      // A list of the methods in Analytics.js to stub.\n      analytics.methods = [\n        'trackSubmit',\n        'trackClick',\n        'trackLink',\n        'trackForm',\n        'pageview',\n        'identify',\n        'reset',\n        'group',\n        'track',\n        'ready',\n        'alias',\n        'debug',\n        'page',\n        'once',\n        'off',\n        'on',\n      ];\n\n      analytics.factory = function factory(method) {\n        // console.debug(method);\n        return function pushMethod(...args) {\n          args.unshift(method);\n          analytics.push(args);\n          return analytics;\n        };\n      };\n\n      analytics.methods.forEach((method) => {\n        analytics[method] = analytics.factory(method);\n      });\n\n      analytics.load = function load(key) {\n        if (document !== undefined) {\n          const script = document.createElement('script');\n          script.type = 'text/javascript';\n          script.async = true;\n          script.src = `https://cdn.segment.com/analytics.js/v1/${key}/analytics.min.js`;\n          // Insert our script next to the first script element.\n          const first = document.getElementsByTagName('meta')[0];\n          if (first && first.parentNode) {\n            first.parentNode.insertBefore(script, first);\n          }\n        }\n      };\n\n      analytics.SNIPPET_VERSION = '4.0.0';\n    }\n    return analytics;\n  }\n  return [];\n}\n"],"file":"segment.js"}