{"version":3,"sources":["components/CallMonitorBar/index.js"],"names":["CallInfoBar","label","onClick","currentLocale","shouldDisplayViewCallsBtn","styles","bar","currentCallInfo","viewCallsBtn","i18n","getString","propTypes","PropTypes","string","func","bool","defaultProps","undefined","CallMonitorBar","props","state","hoverBar","showBtn","currentCalls","length","setState","hideBtn","ringingCalls","onHoldCalls","onCurrentCallBtnClick","onViewCallBtnClick","shouldDisplayCurrentCallBtn","numberOfIncomingCalls","numberOfOnHoldCalls","box","numberOf","duration","startTime","currentCallBtn","Component","array","isRequired"],"mappings":";;;;;;;;;;;;;;;;;;AAAA;;AACA;;AACA;;AAEA;;AACA;;AACA;;AACA;;AACA;;;;;;;;;;;;;;;;;;;;;;;;AAEO,SAASA,WAAT,OAKJ;AAAA,MAJDC,KAIC,QAJDA,KAIC;AAAA,MAHDC,OAGC,QAHDA,OAGC;AAAA,MAFDC,aAEC,QAFDA,aAEC;AAAA,MADDC,yBACC,QADDA,yBACC;AACD,SACE;AAAK,IAAA,SAAS,EAAEC,gBAAOC;AAAvB,KACE;AAAK,IAAA,SAAS,EAAED,gBAAOE,eAAvB;AAAwC,IAAA,OAAO,EAAEL;AAAjD,KACGD,KADH,CADF,EAKIG,yBAAyB,GACvB,6BAAC,eAAD;AACE,IAAA,SAAS,EAAEC,gBAAOG,YADpB;AAEE,IAAA,OAAO,EAAEN;AAFX,KAIGO,cAAKC,SAAL,CAAe,WAAf,EAA4BP,aAA5B,CAJH,CADuB,GAOrB,IAZR,CADF;AAiBD;;AACDH,WAAW,CAACW,SAAZ,GAAwB;AACtBV,EAAAA,KAAK,EAAEW,mBAAUC,MADK;AAEtBX,EAAAA,OAAO,EAAEU,mBAAUE,IAFG;AAGtBX,EAAAA,aAAa,EAAES,mBAAUC,MAHH;AAItBT,EAAAA,yBAAyB,EAAEQ,mBAAUG;AAJf,CAAxB;AAMAf,WAAW,CAACgB,YAAZ,GAA2B;AACzBf,EAAAA,KAAK,EAAE,EADkB;AAEzBC,EAAAA,OAAO,EAAEe,SAFgB;AAGzBd,EAAAA,aAAa,EAAE,EAHU;AAIzBC,EAAAA,yBAAyB,EAAE;AAJF,CAA3B;;IAOqBc,c;;;;;AACnB,0BAAYC,KAAZ,EAAmB;AAAA;;AAAA;;AACjB,wFAAMA,KAAN;AACA,UAAKC,KAAL,GAAa;AACXC,MAAAA,QAAQ,EAAE;AADC,KAAb;;AAGA,UAAKC,OAAL,GAAe,YAAM;AACnB,UAAI,MAAKH,KAAL,CAAWI,YAAX,CAAwBC,MAAxB,GAAiC,CAArC,EAAwC;AACtC,cAAKC,QAAL,CAAc;AACZJ,UAAAA,QAAQ,EAAE;AADE,SAAd;AAGD;AACF,KAND;;AAOA,UAAKK,OAAL,GAAe,YAAM;AACnB,YAAKD,QAAL,CAAc;AACZJ,QAAAA,QAAQ,EAAE;AADE,OAAd;AAGD,KAJD;;AAZiB;AAiBlB;;;;6BAEQ;AAAA,wBAUH,KAAKF,KAVF;AAAA,UAELQ,YAFK,eAELA,YAFK;AAAA,UAGLC,WAHK,eAGLA,WAHK;AAAA,UAILL,YAJK,eAILA,YAJK;AAAA,UAKLpB,aALK,eAKLA,aALK;AAAA,UAML0B,qBANK,eAMLA,qBANK;AAAA,UAOLC,kBAPK,eAOLA,kBAPK;AAAA,UAQLC,2BARK,eAQLA,2BARK;AAAA,UASL3B,yBATK,eASLA,yBATK;AAYP,UAAM4B,qBAAqB,GAAGL,YAAY,CAACH,MAA3C;AACA,UAAMS,mBAAmB,GAAGL,WAAW,CAACJ,MAAxC;AAEA,aACE;AAAK,QAAA,SAAS,EAAEnB,gBAAOC,GAAvB;AAA4B,QAAA,WAAW,EAAE,KAAKgB,OAA9C;AAAuD,QAAA,YAAY,EAAE,KAAKI;AAA1E,SACE;AAAK,QAAA,SAAS,EAAErB,gBAAO6B;AAAvB,SACE,6BAAC,qBAAD;AAAc,QAAA,QAAQ,EAAE,KAAKd,KAAL,CAAWC;AAAnC,SAEIY,mBAAmB,GAAG,CAAtB,GACE,6BAAC,WAAD;AACE,QAAA,KAAK,EACHA,mBAAmB,KAAK,CAAxB,GACE,4BAAcxB,cAAKC,SAAL,CAAe,YAAf,EAA6BP,aAA7B,CAAd,EAA2D;AAAEgC,UAAAA,QAAQ,EAAEF;AAAZ,SAA3D,CADF,GAEE,4BAAcxB,cAAKC,SAAL,CAAe,aAAf,EAA8BP,aAA9B,CAAd,EAA4D;AAAEgC,UAAAA,QAAQ,EAAEF;AAAZ,SAA5D,CAJN;AAME,QAAA,aAAa,EAAE9B,aANjB;AAOE,QAAA,OAAO,EAAE2B,kBAPX;AAQE,QAAA,yBAAyB,EAAE1B;AAR7B,QADF,GAWI,IAbR,EAgBI4B,qBAAqB,GAAG,CAAxB,GACE,6BAAC,WAAD;AACE,QAAA,KAAK,EACHA,qBAAqB,KAAK,CAA1B,GACE,4BAAcvB,cAAKC,SAAL,CAAe,cAAf,EAA+BP,aAA/B,CAAd,EAA6D;AAAEgC,UAAAA,QAAQ,EAAEH;AAAZ,SAA7D,CADF,GAEE,4BAAcvB,cAAKC,SAAL,CAAe,eAAf,EAAgCP,aAAhC,CAAd,EAA8D;AAAEgC,UAAAA,QAAQ,EAAEH;AAAZ,SAA9D,CAJN;AAME,QAAA,aAAa,EAAE7B,aANjB;AAOE,QAAA,OAAO,EAAE2B,kBAPX;AAQE,QAAA,yBAAyB,EAAE1B;AAR7B,QADF,GAWI,IA3BR,EA6BGmB,YAAY,CAACC,MAAb,GAAsB,CAAtB,GACC;AAAK,QAAA,SAAS,EAAEnB,gBAAOC;AAAvB,SACE;AAAK,QAAA,SAAS,EAAED,gBAAO+B,QAAvB;AAAiC,QAAA,OAAO,EAAEP;AAA1C,SACE,6BAAC,wBAAD;AACE,QAAA,SAAS,EAAEN,YAAY,CAAC,CAAD,CAAZ,CAAgBc;AAD7B,QADF,CADF,EAOIN,2BAA2B,IAAIF,qBAA/B,GACE,6BAAC,eAAD;AACE,QAAA,SAAS,EAAExB,gBAAOiC,cADpB;AAEE,QAAA,OAAO,EAAET;AAFX,SAIGpB,cAAKC,SAAL,CAAe,aAAf,EAA8BP,aAA9B,CAJH,CADF,GAOI,IAdR,CADD,GAkBG,IA/CN,CADF,CADF,CADF;AAwDD;;;;EA3FyCoC,gB;;;AA6F5CrB,cAAc,CAACP,SAAf,GAA2B;AACzBgB,EAAAA,YAAY,EAAEf,mBAAU4B,KADC;AAEzBjB,EAAAA,YAAY,EAAEX,mBAAU4B,KAFC;AAGzBZ,EAAAA,WAAW,EAAEhB,mBAAU4B,KAHE;AAIzBrC,EAAAA,aAAa,EAAES,mBAAUC,MAAV,CAAiB4B,UAJP;AAKzBZ,EAAAA,qBAAqB,EAAEjB,mBAAUE,IALR;AAMzBgB,EAAAA,kBAAkB,EAAElB,mBAAUE,IANL;AAOzBiB,EAAAA,2BAA2B,EAAEnB,mBAAUG,IAPd;AAQzBX,EAAAA,yBAAyB,EAAEQ,mBAAUG;AARZ,CAA3B;AAUAG,cAAc,CAACF,YAAf,GAA8B;AAC5BW,EAAAA,YAAY,EAAE,EADc;AAE5BJ,EAAAA,YAAY,EAAE,EAFc;AAG5BK,EAAAA,WAAW,EAAE,EAHe;AAI5BC,EAAAA,qBAAqB,EAAEZ,SAJK;AAK5Ba,EAAAA,kBAAkB,EAAEb,SALQ;AAM5Bc,EAAAA,2BAA2B,EAAE,KAND;AAO5B3B,EAAAA,yBAAyB,EAAE;AAPC,CAA9B","sourcesContent":["import React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport formatMessage from 'format-message';\n\nimport DurationCounter from '../DurationCounter';\nimport Button from '../Button';\nimport CarrouselBar from '../CarrouselBar';\nimport i18n from './i18n';\nimport styles from './styles.scss';\n\nexport function CallInfoBar({\n  label,\n  onClick,\n  currentLocale,\n  shouldDisplayViewCallsBtn\n}) {\n  return (\n    <div className={styles.bar}>\n      <div className={styles.currentCallInfo} onClick={onClick}>\n        {label}\n      </div>\n      {\n        shouldDisplayViewCallsBtn ?\n          <Button\n            className={styles.viewCallsBtn}\n            onClick={onClick}\n          >\n            {i18n.getString('viewCalls', currentLocale)}\n          </Button>\n          : null\n      }\n    </div>\n  );\n}\nCallInfoBar.propTypes = {\n  label: PropTypes.string,\n  onClick: PropTypes.func,\n  currentLocale: PropTypes.string,\n  shouldDisplayViewCallsBtn: PropTypes.bool,\n};\nCallInfoBar.defaultProps = {\n  label: '',\n  onClick: undefined,\n  currentLocale: '',\n  shouldDisplayViewCallsBtn: false\n};\n\nexport default class CallMonitorBar extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      hoverBar: false\n    };\n    this.showBtn = () => {\n      if (this.props.currentCalls.length > 0) {\n        this.setState({\n          hoverBar: true\n        });\n      }\n    };\n    this.hideBtn = () => {\n      this.setState({\n        hoverBar: false\n      });\n    };\n  }\n\n  render() {\n    const {\n      ringingCalls,\n      onHoldCalls,\n      currentCalls,\n      currentLocale,\n      onCurrentCallBtnClick,\n      onViewCallBtnClick,\n      shouldDisplayCurrentCallBtn,\n      shouldDisplayViewCallsBtn\n    } = this.props;\n\n    const numberOfIncomingCalls = ringingCalls.length;\n    const numberOfOnHoldCalls = onHoldCalls.length;\n\n    return (\n      <div className={styles.bar} onMouseOver={this.showBtn} onMouseLeave={this.hideBtn}>\n        <div className={styles.box}>\n          <CarrouselBar hoverBar={this.state.hoverBar} >\n            {\n              numberOfOnHoldCalls > 0 ? (\n                <CallInfoBar\n                  label={\n                    numberOfOnHoldCalls === 1 ?\n                      formatMessage(i18n.getString('callOnHold', currentLocale), { numberOf: numberOfOnHoldCalls }) :\n                      formatMessage(i18n.getString('callsOnHold', currentLocale), { numberOf: numberOfOnHoldCalls })\n                  }\n                  currentLocale={currentLocale}\n                  onClick={onViewCallBtnClick}\n                  shouldDisplayViewCallsBtn={shouldDisplayViewCallsBtn}\n                />\n              ) : null\n            }\n            {\n              numberOfIncomingCalls > 0 ? (\n                <CallInfoBar\n                  label={\n                    numberOfIncomingCalls === 1 ?\n                      formatMessage(i18n.getString('incomingCall', currentLocale), { numberOf: numberOfIncomingCalls }) :\n                      formatMessage(i18n.getString('incomingCalls', currentLocale), { numberOf: numberOfIncomingCalls })\n                  }\n                  currentLocale={currentLocale}\n                  onClick={onViewCallBtnClick}\n                  shouldDisplayViewCallsBtn={shouldDisplayViewCallsBtn}\n                />\n              ) : null\n            }\n            {currentCalls.length > 0 ? (\n              <div className={styles.bar} >\n                <div className={styles.duration} onClick={onCurrentCallBtnClick}>\n                  <DurationCounter\n                    startTime={currentCalls[0].startTime}\n                  />\n                </div>\n                {\n                  shouldDisplayCurrentCallBtn && onCurrentCallBtnClick ?\n                    <Button\n                      className={styles.currentCallBtn}\n                      onClick={onCurrentCallBtnClick}\n                    >\n                      {i18n.getString('currentCall', currentLocale)}\n                    </Button>\n                    : null\n                }\n              </div>\n            ) : null\n            }\n          </CarrouselBar>\n        </div>\n      </div>\n    );\n  }\n}\nCallMonitorBar.propTypes = {\n  ringingCalls: PropTypes.array,\n  currentCalls: PropTypes.array,\n  onHoldCalls: PropTypes.array,\n  currentLocale: PropTypes.string.isRequired,\n  onCurrentCallBtnClick: PropTypes.func,\n  onViewCallBtnClick: PropTypes.func,\n  shouldDisplayCurrentCallBtn: PropTypes.bool,\n  shouldDisplayViewCallsBtn: PropTypes.bool\n};\nCallMonitorBar.defaultProps = {\n  ringingCalls: [],\n  currentCalls: [],\n  onHoldCalls: [],\n  onCurrentCallBtnClick: undefined,\n  onViewCallBtnClick: undefined,\n  shouldDisplayCurrentCallBtn: false,\n  shouldDisplayViewCallsBtn: false\n};\n\n"],"file":"index.js"}