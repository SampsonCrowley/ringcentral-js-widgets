{"version":3,"sources":["lib/format/index.js"],"names":["formatTypes","local","international","e164","format","phoneNumber","countryCode","areaCode","type","removeExtension","extensionDelimeter","input","number","extension","parsedCountry","parsedNumber","isExtension","isServiceNumber","isValid","hasPlus","isUSCA","finalType","formattedNumber","length"],"mappings":";;;;;;;;;;AAAA;;AACA;;;;AAEA,IAAMA,WAAW,GAAG;AAClBC,EAAAA,KAAK,EAAE,OADW;AAElBC,EAAAA,aAAa,EAAE,eAFG;AAGlBC,EAAAA,IAAI,EAAE;AAHY,CAApB;;;AAQe,SAASC,MAAT,OAOZ;AAAA,MANDC,WAMC,QANDA,WAMC;AAAA,8BALDC,WAKC;AAAA,MALDA,WAKC,iCALa,IAKb;AAAA,2BAJDC,QAIC;AAAA,MAJDA,QAIC,8BAJU,EAIV;AAAA,uBAHDC,IAGC;AAAA,MAHDA,IAGC,0BAHMR,WAAW,CAACC,KAGlB;AAAA,kCAFDQ,eAEC;AAAA,MAFDA,eAEC,qCAFiB,KAEjB;AAAA,mCADDC,kBACC;AAAA,MADDA,kBACC,sCADoB,KACpB;;AAAA,eAUG,qBAAM;AAAEC,IAAAA,KAAK,EAAEN,WAAT;AAAsBC,IAAAA,WAAW,EAAXA;AAAtB,GAAN,CAVH;AAAA,MAEcM,MAFd,UAECP,WAFD;AAAA,MAGCQ,SAHD,UAGCA,SAHD;AAAA,MAICC,aAJD,UAICA,aAJD;AAAA,MAKCC,YALD,UAKCA,YALD;AAAA,MAMCC,WAND,UAMCA,WAND;AAAA,MAOCC,eAPD,UAOCA,eAPD;AAAA,MAQCC,OARD,UAQCA,OARD;AAAA,MASCC,OATD,UASCA,OATD;;AAYD,MAAI,CAACD,OAAL,EAAc;AACZ,WAAO,EAAP;AACD;;AACD,MACED,eAAe,IACfD,WAFF,EAGE;AACA,WAAOJ,MAAP;AACD;;AACD,MAAMQ,MAAM,GAAGd,WAAW,KAAK,IAAhB,IAAwBA,WAAW,KAAK,IAAvD;AACA,MAAIe,SAAJ;;AACA,MAAIb,IAAI,KAAKR,WAAW,CAACG,IAAzB,EAA+B;AAC7BkB,IAAAA,SAAS,GAAG,OAAZ;AACD,GAFD,MAEO,IAAIb,IAAI,KAAKR,WAAW,CAACE,aAAzB,EAAwC;AAC7CmB,IAAAA,SAAS,GAAG,eAAZ;AACD,GAFM,MAEA;AACLA,IAAAA,SAAS,GACP;AACA,KAACP,aAAD,IACA;AACAM,IAAAA,MAAM,KAAKN,aAAa,KAAK,IAAlB,IAA0BA,aAAa,KAAK,IAAjD,CAFN,IAGAA,aAAa,KAAKR,WALR,GAOV,UAPU,GAQV,eARF;AASD;;AAED,MAAIgB,eAAJ;;AACA,MAAI,CAACH,OAAD,IAAYC,MAAZ,IAAsBb,QAAtB,IAAkCA,QAAQ,KAAK,EAA/C,IAAqDK,MAAM,CAACW,MAAP,KAAkB,CAA3E,EAA8E;AAC5ED,IAAAA,eAAe,GAAG,8CACbf,QADa,SACFK,MADE,GAEhBE,aAAa,IAAIR,WAFD,EAGhBe,SAHgB,CAAlB;AAKD,GAND,MAMO,IAAIN,YAAJ,EAAkB;AACvBO,IAAAA,eAAe,GAAG,oCAChBP,YADgB,EAEhBD,aAAa,IAAIR,WAFD,EAGhBe,SAHgB,CAAlB;AAKD,GANM,MAMA,IAAI,CAACF,OAAL,EAAc;AACnBG,IAAAA,eAAe,GAAG,oCAChBV,MADgB,EAEhBN,WAFgB,EAGhBe,SAHgB,CAAlB;AAKD,GANM,MAMA;AACLC,IAAAA,eAAe,GAAGV,MAAlB;AACD;;AACD,SAAOC,SAAS,IAAI,CAACJ,eAAd,aACFa,eADE,SACgBZ,kBADhB,SACqCG,SADrC,IAELS,eAFF;AAGD","sourcesContent":["import { formatNumber } from 'libphonenumber-js';\nimport parse from '../parse';\n\nconst formatTypes = {\n  local: 'local',\n  international: 'international',\n  e164: 'e164'\n};\n\nexport { formatTypes };\n\nexport default function format({\n  phoneNumber,\n  countryCode = 'US',\n  areaCode = '',\n  type = formatTypes.local,\n  removeExtension = false,\n  extensionDelimeter = ' * ',\n}) {\n  const {\n    phoneNumber: number,\n    extension,\n    parsedCountry,\n    parsedNumber,\n    isExtension,\n    isServiceNumber,\n    isValid,\n    hasPlus,\n  } = parse({ input: phoneNumber, countryCode });\n\n  if (!isValid) {\n    return '';\n  }\n  if (\n    isServiceNumber ||\n    isExtension\n  ) {\n    return number;\n  }\n  const isUSCA = countryCode === 'CA' || countryCode === 'US';\n  let finalType;\n  if (type === formatTypes.e164) {\n    finalType = 'E.164';\n  } else if (type === formatTypes.international) {\n    finalType = 'International';\n  } else {\n    finalType = (\n      // assume local\n      !parsedCountry ||\n      // ignore US/CA difference\n      isUSCA && (parsedCountry === 'US' || parsedCountry === 'CA') ||\n      parsedCountry === countryCode\n    ) ?\n      'National' :\n      'International';\n  }\n\n  let formattedNumber;\n  if (!hasPlus && isUSCA && areaCode && areaCode !== '' && number.length === 7) {\n    formattedNumber = formatNumber(\n      `${areaCode}${number}`,\n      parsedCountry || countryCode,\n      finalType,\n    );\n  } else if (parsedNumber) {\n    formattedNumber = formatNumber(\n      parsedNumber,\n      parsedCountry || countryCode,\n      finalType,\n    );\n  } else if (!hasPlus) {\n    formattedNumber = formatNumber(\n      number,\n      countryCode,\n      finalType,\n    );\n  } else {\n    formattedNumber = number;\n  }\n  return extension && !removeExtension ?\n    `${formattedNumber}${extensionDelimeter}${extension}` :\n    formattedNumber;\n}\n"],"file":"index.js"}