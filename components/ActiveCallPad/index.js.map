{"version":3,"sources":["components/ActiveCallPad/index.js"],"names":["DisplayButtonNumber","ACTIONS_CTRL_MAP","muteCtrl","keypadCtrl","holdCtrl","mergeOrAddCtrl","recordCtrl","transferCtrl","flipCtrl","MoreActionItem","title","Icon","icon","disabled","onClick","iconClassName","styles","buttonIcon","buttonDisabled","buttonActive","buttonItem","buttonName","propTypes","PropTypes","string","isRequired","func","bool","ActiveCallPad","props","moreButton","dropdown","toggleMore","state","expandMore","current","e","dom","contains","target","setState","prevState","document","body","addEventListener","removeEventListener","nextProps","nextState","showUpdate","p","Object","prototype","hasOwnProperty","val","controlBusy","buttons","push","isOnMute","MuteIcon","id","i18n","getString","currentLocale","isOnHold","onUnmute","UnmuteIcon","onMute","KeypadIcon","onShowKeyPad","layout","callCtrlLayouts","conferenceCtrl","HoldIcon","iconWidth","iconHeight","iconX","iconY","active","onUnhold","onHold","conferenceCallEquipped","showMerge","mergeCtrl","normalCtrl","hasConferenceCall","MergeIcon","mergeDisabled","onMerge","showRipple","CombineIcon","addDisabled","onAdd","RecordIcon","recordStatus","recording","pending","noAccess","onStopRecord","onRecord","disabledTransfer","TransferIcon","onToggleTransferPanel","disabledFlip","flipNumbers","length","FlipIcon","onShowFlipPanel","actions","moreActions","moreButtonContainer","callButton","MoreIcon","buttonPopup","slice","map","opts","isLessBtn","root","className","callCtrlButtonGroup","biggerButton","buttonRow","stopButtonGroup","button","stopButton","onHangup","EndIcon","Component","array","defaultProps","undefined"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA;;AACA;;AACA;;AACA;;AACA;;AAEA;;AACA;;AACA;;AACA;;AACA;;AACA;;AACA;;AAEA;;AAEA;;AACA;;AACA;;AACA;;AACA;;AACA;;AACA;;AACA;;AAEA;;AACA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAEA,IAAMA,mBAAmB,GAAG,CAA5B;AAEO,IAAMC,gBAAgB,GAAG;AAC9BC,EAAAA,QAAQ,EAAE,UADoB;AAE9BC,EAAAA,UAAU,EAAE,YAFkB;AAG9BC,EAAAA,QAAQ,EAAE,UAHoB;AAI9BC,EAAAA,cAAc,EAAE,gBAJc;AAK9BC,EAAAA,UAAU,EAAE,YALkB;AAM9BC,EAAAA,YAAY,EAAE,cANgB;AAO9BC,EAAAA,QAAQ,EAAE;AAPoB,CAAzB;;;AAUA,SAASC,cAAT,OAKJ;AAAA,MAJDC,KAIC,QAJDA,KAIC;AAAA,MAHKC,IAGL,QAHDC,IAGC;AAAA,MAFDC,QAEC,QAFDA,QAEC;AAAA,MADDC,OACC,QADDA,OACC;AACD,MAAMC,aAAa,GAAG,yBACpBC,gBAAOC,UADa,EAEpBJ,QAAQ,GAAGG,gBAAOE,cAAV,GAA2BF,gBAAOG,YAFtB,CAAtB;AAIA,SACE;AACE,IAAA,SAAS,EAAEH,gBAAOI,UADpB;AAEE,IAAA,OAAO,EAAEP,QAAQ,GAAG,IAAH,GAAUC;AAF7B,KAGE;AAAK,IAAA,SAAS,EAAEC;AAAhB,KACG,6BAAC,IAAD,OADH,CAHF,EAME;AAAK,IAAA,SAAS,EAAEC,gBAAOK;AAAvB,KACGX,KADH,CANF,CADF;AAYD;;AAEDD,cAAc,CAACa,SAAf,GAA2B;AACzBZ,EAAAA,KAAK,EAAEa,mBAAUC,MAAV,CAAiBC,UADC;AAEzBb,EAAAA,IAAI,EAAEW,mBAAUG,IAAV,CAAeD,UAFI;AAGzBZ,EAAAA,QAAQ,EAAEU,mBAAUI,IAAV,CAAeF,UAHA;AAIzBX,EAAAA,OAAO,EAAES,mBAAUG,IAAV,CAAeD;AAJC,CAA3B;;IAOMG,a;;;;;AACJ,yBAAYC,KAAZ,EAAmB;AAAA;;AAAA;;AAAA;;AACjB,uFAAMA,KAAN;AACA,UAAKC,UAAL,GAAkB,uBAAlB;AACA,UAAKC,QAAL,GAAgB,uBAAhB;AACA,UAAKjB,OAAL,sEAAsB,MAAKA,OAA3B;AACA,UAAKkB,UAAL,sEAAyB,MAAKA,UAA9B;AACA,UAAKC,KAAL,GAAa;AACXC,MAAAA,UAAU,EAAEL,KAAK,CAACK,UADP;AAEXJ,MAAAA,UAAU,EAAE,MAAKA,UAAL,IAAmB,MAAKA,UAAL,CAAgBK;AAFpC,KAAb;AANiB;AAUlB;;;;4BAEOC,C,EAAG;AACT,UAAI,uBAAS,KAAKL,QAAd,KAA2B,uBAAS,KAAKA,QAAL,CAAcI,OAAvB,CAA/B,EAAgE;AAAA,YAC/CA,OAD+C,GACjC,KAAKJ,QAAL,CAAcI,OADmB,CACtDE,GADsD,CAC/CF,OAD+C;;AAG9D,YACE,CAACA,OAAO,CAACG,QAAR,CAAiBF,CAAC,CAACG,MAAnB,CAAD,IACA,CAAC,KAAKT,UAAL,CAAgBK,OAAhB,CAAwBG,QAAxB,CAAiCF,CAAC,CAACG,MAAnC,CADD,IAEA,KAAKN,KAAL,CAAWC,UAHb,EAIE;AACA,eAAKM,QAAL,CAAc;AACZN,YAAAA,UAAU,EAAE;AADA,WAAd;AAGD;AACF;AACF;;;iCAEY;AACX,WAAKM,QAAL,CAAc,UAAAC,SAAS;AAAA,eAAK;AAC1BP,UAAAA,UAAU,EAAE,CAACO,SAAS,CAACP;AADG,SAAL;AAAA,OAAvB;AAGD;;;wCAEmB;AAClBQ,MAAAA,QAAQ,CAACC,IAAT,CAAcC,gBAAd,CAA+B,OAA/B,EAAwC,KAAK9B,OAA7C;AACA,WAAK0B,QAAL,CAAc;AACZV,QAAAA,UAAU,EAAE,KAAKA,UAAL,IAAmB,KAAKA,UAAL,CAAgBK;AADnC,OAAd;AAGD;;;gDAE2B;AAC1B,WAAKK,QAAL,CAAc;AACZV,QAAAA,UAAU,EAAE,KAAKA,UAAL,IAAmB,KAAKA,UAAL,CAAgBK;AADnC,OAAd;AAGD;;;2CAEsB;AACrBO,MAAAA,QAAQ,CAACC,IAAT,CAAcE,mBAAd,CAAkC,OAAlC,EAA2C,KAAK/B,OAAhD;AACD;;;0CAEqBgC,S,EAAWC,S,EAAW;AAC1C,UAAIA,SAAS,KAAK,KAAKd,KAAvB,EAA8B;AAC5B,eAAO,IAAP;AACD;;AAED,UAAIe,UAAU,GAAG,KAAjB;;AAEA,WAAK,IAAMC,CAAX,IAAgBH,SAAhB,EAA2B;AACzB,YAAeI,MAAM,CAACC,SAAP,CAAiBC,cAA5B,MAAAN,SAAS,EAAkCG,CAAlC,CAAb,EAAmD;AACjD,cAAMI,GAAG,GAAGP,SAAS,CAACG,CAAD,CAArB;;AAEA,cACEI,GAAG,KAAK,KAAKxB,KAAL,CAAWoB,CAAX,CAAR,IACG,OAAOI,GAAP,KAAe,UAFpB,EAGE;AACAL,YAAAA,UAAU,GAAG,IAAb;AACA;AACD;AACF;AACF;;AACD,aAAOA,UAAP;AACD;;;6BAEQ;AAAA,UAELM,WAFK,GAGH,KAAKzB,KAHF,CAELyB,WAFK;AAKP,UAAIC,OAAO,GAAG,EAAd;AACA;;AACAA,MAAAA,OAAO,CAACC,IAAR,CAAa,KAAK3B,KAAL,CAAW4B,QAAX,GACT;AACA7C,QAAAA,IAAI,EAAE8C,aADN;AAEAC,QAAAA,EAAE,EAAE1D,gBAAgB,CAACC,QAFrB;AAGAQ,QAAAA,KAAK,EAAEkD,cAAKC,SAAL,CAAe,QAAf,EAAyB,KAAKhC,KAAL,CAAWiC,aAApC,CAHP;AAIAjD,QAAAA,QAAQ,EAAE,KAAKgB,KAAL,CAAWkC,QAAX,IAAuBT,WAJjC;AAKAxC,QAAAA,OAAO,EAAE,KAAKe,KAAL,CAAWmC;AALpB,OADS,GAQT;AACApD,QAAAA,IAAI,EAAEqD,eADN;AAEAN,QAAAA,EAAE,EAAE1D,gBAAgB,CAACC,QAFrB;AAGAQ,QAAAA,KAAK,EAAEkD,cAAKC,SAAL,CAAe,MAAf,EAAuB,KAAKhC,KAAL,CAAWiC,aAAlC,CAHP;AAIAjD,QAAAA,QAAQ,EAAE,KAAKgB,KAAL,CAAWkC,QAAX,IAAuBT,WAJjC;AAKAxC,QAAAA,OAAO,EAAE,KAAKe,KAAL,CAAWqC;AALpB,OARJ;AAiBA;;AACAX,MAAAA,OAAO,CAACC,IAAR,CACE;AACE5C,QAAAA,IAAI,EAAEuD,gBADR;AAEER,QAAAA,EAAE,EAAE1D,gBAAgB,CAACE,UAFvB;AAGEO,QAAAA,KAAK,EAAEkD,cAAKC,SAAL,CAAe,QAAf,EAAyB,KAAKhC,KAAL,CAAWiC,aAApC,CAHT;AAIEhD,QAAAA,OAAO,EAAE,KAAKe,KAAL,CAAWuC,YAJtB;AAKEvD,QAAAA,QAAQ,EAAE,KAAKgB,KAAL,CAAWwC,MAAX,KAAsBC,yBAAgBC;AALlD,OADF;AAUA;;AACAhB,MAAAA,OAAO,CAACC,IAAR,CACE;AACE5C,QAAAA,IAAI,EAAE4D,aADR;AAEEb,QAAAA,EAAE,EAAE1D,gBAAgB,CAACG,QAFvB;AAGEqE,QAAAA,SAAS,EAAE,GAHb;AAIEC,QAAAA,UAAU,EAAE,GAJd;AAKEC,QAAAA,KAAK,EAAE,GALT;AAMEC,QAAAA,KAAK,EAAE,GANT;AAOElE,QAAAA,KAAK,EAAE,KAAKmB,KAAL,CAAWkC,QAAX,GACHH,cAAKC,SAAL,CAAe,QAAf,EAAyB,KAAKhC,KAAL,CAAWiC,aAApC,CADG,GAEHF,cAAKC,SAAL,CAAe,MAAf,EAAuB,KAAKhC,KAAL,CAAWiC,aAAlC,CATN;AAUEe,QAAAA,MAAM,EAAE,KAAKhD,KAAL,CAAWkC,QAVrB;AAWEjD,QAAAA,OAAO,EAAE,KAAKe,KAAL,CAAWkC,QAAX,GACL,KAAKlC,KAAL,CAAWiD,QADN,GAEL,KAAKjD,KAAL,CAAWkD,MAbjB;AAcElE,QAAAA,QAAQ,EAAEyC;AAdZ,OADF;AAmBA;;AACA,UAAI,KAAKzB,KAAL,CAAWmD,sBAAf,EAAuC;AACrC,YAAMC,SAAS,GACb,KAAKpD,KAAL,CAAWwC,MAAX,KAAsBC,yBAAgBY,SAAtC,IACC,KAAKrD,KAAL,CAAWwC,MAAX,KAAsBC,yBAAgBa,UAAtC,IAAoD,KAAKtD,KAAL,CAAWuD,iBAFlE;AAIA7B,QAAAA,OAAO,CAACC,IAAR,CAAayB,SAAS,GAClB;AACArE,UAAAA,IAAI,EAAEyE,gCADN;AAEA1B,UAAAA,EAAE,EAAE1D,gBAAgB,CAACI,cAFrB;AAGAK,UAAAA,KAAK,EAAEkD,cAAKC,SAAL,CAAe,mBAAf,EAAoC,KAAKhC,KAAL,CAAWiC,aAA/C,CAHP;AAIAjD,UAAAA,QAAQ,EAAE,KAAKgB,KAAL,CAAWyD,aAAX,IAA4BhC,WAJtC;AAKAxC,UAAAA,OAAO,EAAE,KAAKe,KAAL,CAAW0D,OALpB;AAMAC,UAAAA,UAAU,EAAE,CAAC,KAAK3D,KAAL,CAAWyD;AANxB,SADkB,GASlB;AACA1E,UAAAA,IAAI,EAAE6E,gBADN;AAEA9B,UAAAA,EAAE,EAAE1D,gBAAgB,CAACI,cAFrB;AAGAK,UAAAA,KAAK,EAAEkD,cAAKC,SAAL,CAAe,KAAf,EAAsB,KAAKhC,KAAL,CAAWiC,aAAjC,CAHP;AAIAjD,UAAAA,QAAQ,EAAE,KAAKgB,KAAL,CAAW6D,WAAX,IAA0BpC,WAJpC;AAKAxC,UAAAA,OAAO,EAAE,KAAKe,KAAL,CAAW8D;AALpB,SATJ;AAiBD;AAED;;;AACApC,MAAAA,OAAO,CAACC,IAAR,CACE;AACE5C,QAAAA,IAAI,EAAEgF,eADR;AAEEjC,QAAAA,EAAE,EAAE1D,gBAAgB,CAACK,UAFvB;AAGEI,QAAAA,KAAK,EAAE,KAAKmB,KAAL,CAAWgE,YAAX,KAA4BA,sBAAaC,SAAzC,GACHlC,cAAKC,SAAL,CAAe,YAAf,EAA6B,KAAKhC,KAAL,CAAWiC,aAAxC,CADG,GAEHF,cAAKC,SAAL,CAAe,QAAf,EAAyB,KAAKhC,KAAL,CAAWiC,aAApC,CALN;AAMEe,QAAAA,MAAM,EAAE,KAAKhD,KAAL,CAAWgE,YAAX,KAA4BA,sBAAaC,SANnD;AAOEjF,QAAAA,QAAQ,EACN,KAAKgB,KAAL,CAAWkC,QAAX,IACG,KAAKlC,KAAL,CAAWgE,YAAX,KAA4BA,sBAAaE,OAD5C,IAEG,KAAKlE,KAAL,CAAWwC,MAAX,KAAsBC,yBAAgBY,SAFzC,IAGG,KAAKrD,KAAL,CAAWgE,YAAX,KAA4BA,sBAAaG,QAH5C,IAIG1C,WAZP;AAcExC,QAAAA,OAAO,EAAE,KAAKe,KAAL,CAAWgE,YAAX,KAA4BA,sBAAaC,SAAzC,GACL,KAAKjE,KAAL,CAAWoE,YADN,GAEL,KAAKpE,KAAL,CAAWqE;AAhBjB,OADF;AAqBA;;AACA,UAAMC,gBAAgB,GACpB,KAAKtE,KAAL,CAAWwC,MAAX,KAAsBC,yBAAgBa,UADxC;AAGA5B,MAAAA,OAAO,CAACC,IAAR,CACE;AACE5C,QAAAA,IAAI,EAAEwF,iBADR;AAEEzC,QAAAA,EAAE,EAAE1D,gBAAgB,CAACM,YAFvB;AAGEG,QAAAA,KAAK,EAAEkD,cAAKC,SAAL,CAAe,UAAf,EAA2B,KAAKhC,KAAL,CAAWiC,aAAtC,CAHT;AAIEjD,QAAAA,QAAQ,EAAEsF,gBAAgB,IAAI7C,WAJhC;AAKExC,QAAAA,OAAO,EAAE,KAAKe,KAAL,CAAWwE;AALtB,OADF;AAUA;;AACA,UAAMC,YAAY,GAChB,KAAKzE,KAAL,CAAW0E,WAAX,CAAuBC,MAAvB,KAAkC,CAAlC,IACG,KAAK3E,KAAL,CAAWkC,QADd,IAEG,KAAKlC,KAAL,CAAWwC,MAAX,KAAsBC,yBAAgBa,UAH3C;AAKA5B,MAAAA,OAAO,CAACC,IAAR,CACE;AACE5C,QAAAA,IAAI,EAAE6F,aADR;AAEE9C,QAAAA,EAAE,EAAE1D,gBAAgB,CAACO,QAFvB;AAGEE,QAAAA,KAAK,EAAEkD,cAAKC,SAAL,CAAe,MAAf,EAAuB,KAAKhC,KAAL,CAAWiC,aAAlC,CAHT;AAIEjD,QAAAA,QAAQ,EAAEyF,YAAY,IAAIhD,WAJ5B;AAKExC,QAAAA,OAAO,EAAE,KAAKe,KAAL,CAAW6E;AALtB,OADF,EA1HO,CAoIP;;AApIO,UAqICC,OArID,GAqIa,KAAK9E,KArIlB,CAqIC8E,OArID;;AAsIP,UAAIA,OAAO,CAACH,MAAR,GAAiB,CAArB,EAAwB;AACtBjD,QAAAA,OAAO,GAAG,yBAAaoD,OAAb,EAAsBpD,OAAtB,CAAV;AACD;AAED;;;AACA,UAAIqD,WAAW,GAAG,IAAlB;;AACA,UAAIrD,OAAO,CAACiD,MAAR,GAAiBxG,mBAArB,EAA0C;AACxC4G,QAAAA,WAAW,GACT;AACE,UAAA,SAAS,EAAE5F,gBAAO6F,mBADpB;AAEE,UAAA,GAAG,EAAE,KAAK/E;AAFZ,WAIE,6BAAC,yBAAD;AACE,UAAA,OAAO,EAAE,KAAKE,UADhB;AAEE,UAAA,KAAK,EAAE4B,cAAKC,SAAL,CAAe,MAAf,EAAuB,KAAKhC,KAAL,CAAWiC,aAAlC,CAFT;AAGE,UAAA,MAAM,EAAE,KAAK7B,KAAL,CAAWC,UAHrB;AAIE,UAAA,SAAS,EAAE,yBAAWlB,gBAAOc,UAAlB,EAA8Bd,gBAAO8F,UAArC,CAJb;AAKE,UAAA,QAAQ,EAAER,YAAY,IAAIH,gBAAhB,IAAoC7C,WALhD;AAME,UAAA,IAAI,EAAEyD;AANR,UAJF,EAWE,6BAAC,gBAAD;AACE,UAAA,KAAK,EAAE,KADT;AAEE,UAAA,IAAI,EAAE,KAAK9E,KAAL,CAAWC,UAFnB;AAGE,UAAA,SAAS,EAAC,KAHZ;AAIE,UAAA,GAAG,EAAE,KAAKH,QAJZ;AAKE,UAAA,UAAU,EAAE,KAAKE,KAAL,CAAWH;AALzB,WAME;AAAK,UAAA,SAAS,EAAEd,gBAAOgG;AAAvB,WAEIzD,OAAO,CAAC0D,KAAR,CAAcjH,mBAAmB,GAAG,CAApC,EAAuCkH,GAAvC,CAA2C;AAAA,cACzCvD,EADyC,SACzCA,EADyC;AAAA,cAEtCwD,IAFsC;;AAAA,iBAGpC,6BAAC,cAAD;AACL,YAAA,GAAG,EAAExD;AADA,aAEDwD,IAFC,EAHoC;AAAA,SAA3C,CAFJ,CANF,CAXF,CADF;AAgCD;;AAED,UAAMC,SAAS,GAAI7D,OAAO,CAACiD,MAAR,IAAkB,CAAnB,IAAyBI,WAAW,KAAK,IAA3D;AACA,aACE;AAAK,QAAA,SAAS,EAAE,yBAAW5F,gBAAOqG,IAAlB,EAAwB,KAAKxF,KAAL,CAAWyF,SAAnC;AAAhB,SACE;AAAK,QAAA,SAAS,EAAE,yBAAWtG,gBAAOuG,mBAAlB,EAAuCH,SAAS,IAAIpG,gBAAOwG,YAA3D;AAAhB,SACE;AAAK,QAAA,SAAS,EAAExG,gBAAOyG;AAAvB,SAEIlE,OAAO,CAAC0D,KAAR,CAAc,CAAd,EAAiBjH,mBAAmB,IAAI4G,WAAW,GAAG,CAAH,GAAO,CAAtB,CAApC,EAA8DM,GAA9D,CAAkE,UAAAC,IAAI;AAAA,eACpE,6BAAC,yBAAD;AACE,UAAA,GAAG,EAAEA,IAAI,CAACzG,KADZ;AAEE,UAAA,SAAS,EAAEM,gBAAO8F;AAFpB,WAGMK,IAHN,EADoE;AAAA,OAAtE,CAFJ,EAUGP,WAVH,CADF,CADF,EAeE;AAAK,QAAA,SAAS,EAAE,yBAAW5F,gBAAOyG,SAAlB,EAA6BzG,gBAAO0G,eAApC;AAAhB,SACE;AAAK,QAAA,SAAS,EAAE1G,gBAAO2G;AAAvB,SACE,6BAAC,qBAAD;AACE,QAAA,SAAS,EAAE,yBACT3G,gBAAO4G,UADE,EAETtE,WAAW,IAAItC,gBAAOH,QAFb,CADb;AAKE,QAAA,OAAO,EAAE,KAAKgB,KAAL,CAAWgG,QALtB;AAME,QAAA,IAAI,EAAEC,YANR;AAOE,QAAA,UAAU,EAAE,KAPd;AAQE,QAAA,SAAS,EAAE,GARb;AASE,QAAA,KAAK,EAAE,GATT;AAUE,QAAA,QAAQ,EAAC,QAVX;AAWE,QAAA,QAAQ,EAAExE;AAXZ,QADF,CADF,CAfF,CADF;AAmCD;;;;EA9RyByE,gB;;AAiS5BnG,aAAa,CAACN,SAAd,GAA0B;AACxBwC,EAAAA,aAAa,EAAEvC,mBAAUC,MAAV,CAAiBC,UADR;AAExB6F,EAAAA,SAAS,EAAE/F,mBAAUC,MAFG;AAGxBiC,EAAAA,QAAQ,EAAElC,mBAAUI,IAHI;AAIxBoC,EAAAA,QAAQ,EAAExC,mBAAUI,IAJI;AAKxBkE,EAAAA,YAAY,EAAEtE,mBAAUC,MAAV,CAAiBC,UALP;AAMxByC,EAAAA,MAAM,EAAE3C,mBAAUG,IAAV,CAAeD,UANC;AAOxBuC,EAAAA,QAAQ,EAAEzC,mBAAUG,IAAV,CAAeD,UAPD;AAQxBsD,EAAAA,MAAM,EAAExD,mBAAUG,IAAV,CAAeD,UARC;AASxBqD,EAAAA,QAAQ,EAAEvD,mBAAUG,IAAV,CAAeD,UATD;AAUxByE,EAAAA,QAAQ,EAAE3E,mBAAUG,IAAV,CAAeD,UAVD;AAWxBwE,EAAAA,YAAY,EAAE1E,mBAAUG,IAAV,CAAeD,UAXL;AAYxBoG,EAAAA,QAAQ,EAAEtG,mBAAUG,IAAV,CAAeD,UAZD;AAaxB;AACA2C,EAAAA,YAAY,EAAE7C,mBAAUG,IAAV,CAAeD,UAdL;AAexBkE,EAAAA,KAAK,EAAEpE,mBAAUG,IAfO;AAgBxB6D,EAAAA,OAAO,EAAEhE,mBAAUG,IAhBK;AAiBxBgF,EAAAA,eAAe,EAAEnF,mBAAUG,IAAV,CAAeD,UAjBR;AAkBxB4E,EAAAA,qBAAqB,EAAE9E,mBAAUG,IAAV,CAAeD,UAlBd;AAmBxB8E,EAAAA,WAAW,EAAEhF,mBAAUyG,KAAV,CAAgBvG,UAnBL;AAoBxB4C,EAAAA,MAAM,EAAE9C,mBAAUC,MApBM;AAqBxBkE,EAAAA,WAAW,EAAEnE,mBAAUI,IArBC;AAsBxB2D,EAAAA,aAAa,EAAE/D,mBAAUI,IAtBD;AAuBxBqD,EAAAA,sBAAsB,EAAEzD,mBAAUI,IAvBV;AAwBxByD,EAAAA,iBAAiB,EAAE7D,mBAAUI,IAxBL;AAyBxBO,EAAAA,UAAU,EAAEX,mBAAUI,IAzBE;AA0BxBgF,EAAAA,OAAO,EAAEpF,mBAAUyG;AA1BK,CAA1B;AA6BApG,aAAa,CAACqG,YAAd,GAA6B;AAC3BX,EAAAA,SAAS,EAAE,IADgB;AAE3B7D,EAAAA,QAAQ,EAAE,KAFiB;AAG3BM,EAAAA,QAAQ,EAAE,KAHiB;AAI3BM,EAAAA,MAAM,EAAEC,yBAAgBa,UAJG;AAK3BO,EAAAA,WAAW,EAAE,KALc;AAM3BJ,EAAAA,aAAa,EAAE,KANY;AAO3BN,EAAAA,sBAAsB,EAAE,KAPG;AAQ3BI,EAAAA,iBAAiB,EAAE,KARQ;AAS3BO,EAAAA,KAAK,EAAEuC,SAToB;AAU3B3C,EAAAA,OAAO,EAAE2C,SAVkB;AAW3BhG,EAAAA,UAAU,EAAE,KAXe;AAY3ByE,EAAAA,OAAO,EAAE;AAZkB,CAA7B;eAee/E,a","sourcesContent":["import React, { Component, createRef } from 'react';\nimport PropTypes from 'prop-types';\nimport classnames from 'classnames';\nimport recordStatus from 'ringcentral-integration/modules/Webphone/recordStatus';\nimport { isObject } from 'ringcentral-integration/lib/di/utils/is_type';\n\nimport CircleButton from '../CircleButton';\nimport Tooltip from '../Tooltip';\nimport ActiveCallButton from '../ActiveCallButton';\nimport MuteIcon from '../../assets/images/Mute.svg';\nimport UnmuteIcon from '../../assets/images/Unmute.svg';\nimport KeypadIcon from '../../assets/images/Dialpad.svg';\nimport HoldIcon from '../../assets/images/Hold.svg';\n// import ParkIcon from '../../assets/images/Park.svg';\nimport RecordIcon from '../../assets/images/Record.svg';\n// import AddIcon from '../../assets/images/AddCall.svg';\nimport MoreIcon from '../../assets/images/MoreIcon.svg';\nimport TransferIcon from '../../assets/images/Transfer.svg';\nimport FlipIcon from '../../assets/images/Flip.svg';\nimport EndIcon from '../../assets/images/End.svg';\nimport CombineIcon from '../../assets/images/Combine.svg';\nimport MergeIcon from '../../assets/images/MergeIntoConferenceIcon.svg';\nimport callCtrlLayouts from '../../enums/callCtrlLayouts';\nimport { pickElements } from './utils';\n\nimport styles from './styles.scss';\nimport i18n from './i18n';\n\nconst DisplayButtonNumber = 6;\n\nexport const ACTIONS_CTRL_MAP = {\n  muteCtrl: 'muteCtrl',\n  keypadCtrl: 'keypadCtrl',\n  holdCtrl: 'holdCtrl',\n  mergeOrAddCtrl: 'mergeOrAddCtrl',\n  recordCtrl: 'recordCtrl',\n  transferCtrl: 'transferCtrl',\n  flipCtrl: 'flipCtrl'\n};\n\nexport function MoreActionItem({\n  title,\n  icon: Icon,\n  disabled,\n  onClick,\n}) {\n  const iconClassName = classnames(\n    styles.buttonIcon,\n    disabled ? styles.buttonDisabled : styles.buttonActive\n  );\n  return (\n    <div\n      className={styles.buttonItem}\n      onClick={disabled ? null : onClick}>\n      <div className={iconClassName}>\n        {<Icon />}\n      </div>\n      <div className={styles.buttonName}>\n        {title}\n      </div>\n    </div>\n  );\n}\n\nMoreActionItem.propTypes = {\n  title: PropTypes.string.isRequired,\n  icon: PropTypes.func.isRequired,\n  disabled: PropTypes.bool.isRequired,\n  onClick: PropTypes.func.isRequired,\n};\n\nclass ActiveCallPad extends Component {\n  constructor(props) {\n    super(props);\n    this.moreButton = createRef();\n    this.dropdown = createRef();\n    this.onClick = this:: this.onClick;\n    this.toggleMore = this:: this.toggleMore;\n    this.state = {\n      expandMore: props.expandMore,\n      moreButton: this.moreButton && this.moreButton.current,\n    };\n  }\n\n  onClick(e) {\n    if (isObject(this.dropdown) && isObject(this.dropdown.current)) {\n      const { dom: { current } } = this.dropdown.current;\n\n      if (\n        !current.contains(e.target) &&\n        !this.moreButton.current.contains(e.target) &&\n        this.state.expandMore\n      ) {\n        this.setState({\n          expandMore: false,\n        });\n      }\n    }\n  }\n\n  toggleMore() {\n    this.setState(prevState => ({\n      expandMore: !prevState.expandMore\n    }));\n  }\n\n  componentDidMount() {\n    document.body.addEventListener('click', this.onClick);\n    this.setState({\n      moreButton: this.moreButton && this.moreButton.current,\n    });\n  }\n\n  componentWillReceiveProps() {\n    this.setState({\n      moreButton: this.moreButton && this.moreButton.current,\n    });\n  }\n\n  componentWillUnmount() {\n    document.body.removeEventListener('click', this.onClick);\n  }\n\n  shouldComponentUpdate(nextProps, nextState) {\n    if (nextState !== this.state) {\n      return true;\n    }\n\n    let showUpdate = false;\n\n    for (const p in nextProps) {\n      if (nextProps::Object.prototype.hasOwnProperty(p)) {\n        const val = nextProps[p];\n\n        if (\n          val !== this.props[p] &&\n            (typeof val !== 'function')\n        ) {\n          showUpdate = true;\n          break;\n        }\n      }\n    }\n    return showUpdate;\n  }\n\n  render() {\n    const {\n      controlBusy,\n    } = this.props;\n\n    let buttons = [];\n    /* --------------------- Mute/Unmute --------------------------- */\n    buttons.push(this.props.isOnMute\n      ? {\n        icon: MuteIcon,\n        id: ACTIONS_CTRL_MAP.muteCtrl,\n        title: i18n.getString('unmute', this.props.currentLocale),\n        disabled: this.props.isOnHold || controlBusy,\n        onClick: this.props.onUnmute,\n      }\n      : {\n        icon: UnmuteIcon,\n        id: ACTIONS_CTRL_MAP.muteCtrl,\n        title: i18n.getString('mute', this.props.currentLocale),\n        disabled: this.props.isOnHold || controlBusy,\n        onClick: this.props.onMute,\n      }\n    );\n\n    /* --------------------- keyPad --------------------------- */\n    buttons.push(\n      {\n        icon: KeypadIcon,\n        id: ACTIONS_CTRL_MAP.keypadCtrl,\n        title: i18n.getString('keypad', this.props.currentLocale),\n        onClick: this.props.onShowKeyPad,\n        disabled: this.props.layout === callCtrlLayouts.conferenceCtrl,\n      }\n    );\n\n    /* --------------------- Hold/Unhold --------------------------- */\n    buttons.push(\n      {\n        icon: HoldIcon,\n        id: ACTIONS_CTRL_MAP.holdCtrl,\n        iconWidth: 120,\n        iconHeight: 160,\n        iconX: 190,\n        iconY: 165,\n        title: this.props.isOnHold\n          ? i18n.getString('onHold', this.props.currentLocale)\n          : i18n.getString('hold', this.props.currentLocale),\n        active: this.props.isOnHold,\n        onClick: this.props.isOnHold\n          ? this.props.onUnhold\n          : this.props.onHold,\n        disabled: controlBusy,\n      }\n    );\n\n    /* --------------------- Add/Merge --------------------------- */\n    if (this.props.conferenceCallEquipped) {\n      const showMerge = (\n        this.props.layout === callCtrlLayouts.mergeCtrl ||\n        (this.props.layout === callCtrlLayouts.normalCtrl && this.props.hasConferenceCall)\n      );\n      buttons.push(showMerge\n        ? {\n          icon: MergeIcon,\n          id: ACTIONS_CTRL_MAP.mergeOrAddCtrl,\n          title: i18n.getString('mergeToConference', this.props.currentLocale),\n          disabled: this.props.mergeDisabled || controlBusy,\n          onClick: this.props.onMerge,\n          showRipple: !this.props.mergeDisabled,\n        }\n        : {\n          icon: CombineIcon,\n          id: ACTIONS_CTRL_MAP.mergeOrAddCtrl,\n          title: i18n.getString('add', this.props.currentLocale),\n          disabled: this.props.addDisabled || controlBusy,\n          onClick: this.props.onAdd,\n        }\n      );\n    }\n\n    /* --------------------- Record/Stop --------------------------- */\n    buttons.push(\n      {\n        icon: RecordIcon,\n        id: ACTIONS_CTRL_MAP.recordCtrl,\n        title: this.props.recordStatus === recordStatus.recording\n          ? i18n.getString('stopRecord', this.props.currentLocale)\n          : i18n.getString('record', this.props.currentLocale),\n        active: this.props.recordStatus === recordStatus.recording,\n        disabled: (\n          this.props.isOnHold\n          || this.props.recordStatus === recordStatus.pending\n          || this.props.layout === callCtrlLayouts.mergeCtrl\n          || this.props.recordStatus === recordStatus.noAccess\n          || controlBusy\n        ),\n        onClick: this.props.recordStatus === recordStatus.recording\n          ? this.props.onStopRecord\n          : this.props.onRecord,\n      }\n    );\n\n    /* --------------------- Transfer --------------------------- */\n    const disabledTransfer = (\n      this.props.layout !== callCtrlLayouts.normalCtrl\n    );\n    buttons.push(\n      {\n        icon: TransferIcon,\n        id: ACTIONS_CTRL_MAP.transferCtrl,\n        title: i18n.getString('transfer', this.props.currentLocale),\n        disabled: disabledTransfer || controlBusy,\n        onClick: this.props.onToggleTransferPanel,\n      }\n    );\n\n    /* --------------------- Flip --------------------------- */\n    const disabledFlip = (\n      this.props.flipNumbers.length === 0\n      || this.props.isOnHold\n      || this.props.layout !== callCtrlLayouts.normalCtrl\n    );\n    buttons.push(\n      {\n        icon: FlipIcon,\n        id: ACTIONS_CTRL_MAP.flipCtrl,\n        title: i18n.getString('flip', this.props.currentLocale),\n        disabled: disabledFlip || controlBusy,\n        onClick: this.props.onShowFlipPanel,\n      }\n    );\n\n    // filter actions\n    const { actions } = this.props;\n    if (actions.length > 0) {\n      buttons = pickElements(actions, buttons);\n    }\n\n    /* --------------------- More Actions --------------------------- */\n    let moreActions = null;\n    if (buttons.length > DisplayButtonNumber) {\n      moreActions = (\n        <span\n          className={styles.moreButtonContainer}\n          ref={this.moreButton}\n        >\n          <ActiveCallButton\n            onClick={this.toggleMore}\n            title={i18n.getString('more', this.props.currentLocale)}\n            active={this.state.expandMore}\n            className={classnames(styles.moreButton, styles.callButton)}\n            disabled={disabledFlip && disabledTransfer || controlBusy}\n            icon={MoreIcon} />\n          <Tooltip\n            fixed={false}\n            open={this.state.expandMore}\n            direction=\"top\"\n            ref={this.dropdown}\n            triggerElm={this.state.moreButton}>\n            <div className={styles.buttonPopup}>\n              {\n                buttons.slice(DisplayButtonNumber - 1).map(({\n                  id,\n                  ...opts\n                }) => (<MoreActionItem\n                  key={id}\n                  {...opts}\n                />))\n              }\n            </div>\n          </Tooltip>\n        </span>\n      );\n    }\n\n    const isLessBtn = (buttons.length <= 3) && moreActions === null;\n    return (\n      <div className={classnames(styles.root, this.props.className)}>\n        <div className={classnames(styles.callCtrlButtonGroup, isLessBtn && styles.biggerButton)}>\n          <div className={styles.buttonRow}>\n            {\n              buttons.slice(0, DisplayButtonNumber - (moreActions ? 1 : 0)).map(opts => (\n                <ActiveCallButton\n                  key={opts.title}\n                  className={styles.callButton}\n                  {...opts}\n                />\n              ))\n            }\n            {moreActions}\n          </div>\n        </div>\n        <div className={classnames(styles.buttonRow, styles.stopButtonGroup)}>\n          <div className={styles.button}>\n            <CircleButton\n              className={classnames(\n                styles.stopButton,\n                controlBusy && styles.disabled,\n              )}\n              onClick={this.props.onHangup}\n              icon={EndIcon}\n              showBorder={false}\n              iconWidth={250}\n              iconX={125}\n              dataSign=\"hangup\"\n              disabled={controlBusy}\n            />\n          </div>\n        </div>\n      </div>\n    );\n  }\n}\n\nActiveCallPad.propTypes = {\n  currentLocale: PropTypes.string.isRequired,\n  className: PropTypes.string,\n  isOnMute: PropTypes.bool,\n  isOnHold: PropTypes.bool,\n  recordStatus: PropTypes.string.isRequired,\n  onMute: PropTypes.func.isRequired,\n  onUnmute: PropTypes.func.isRequired,\n  onHold: PropTypes.func.isRequired,\n  onUnhold: PropTypes.func.isRequired,\n  onRecord: PropTypes.func.isRequired,\n  onStopRecord: PropTypes.func.isRequired,\n  onHangup: PropTypes.func.isRequired,\n  // onPark: PropTypes.func.isRequired,\n  onShowKeyPad: PropTypes.func.isRequired,\n  onAdd: PropTypes.func,\n  onMerge: PropTypes.func,\n  onShowFlipPanel: PropTypes.func.isRequired,\n  onToggleTransferPanel: PropTypes.func.isRequired,\n  flipNumbers: PropTypes.array.isRequired,\n  layout: PropTypes.string,\n  addDisabled: PropTypes.bool,\n  mergeDisabled: PropTypes.bool,\n  conferenceCallEquipped: PropTypes.bool,\n  hasConferenceCall: PropTypes.bool,\n  expandMore: PropTypes.bool,\n  actions: PropTypes.array\n};\n\nActiveCallPad.defaultProps = {\n  className: null,\n  isOnMute: false,\n  isOnHold: false,\n  layout: callCtrlLayouts.normalCtrl,\n  addDisabled: false,\n  mergeDisabled: false,\n  conferenceCallEquipped: false,\n  hasConferenceCall: false,\n  onAdd: undefined,\n  onMerge: undefined,\n  expandMore: false,\n  actions: []\n};\n\nexport default ActiveCallPad;\n"],"file":"index.js"}