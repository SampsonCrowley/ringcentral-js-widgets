{"version":3,"sources":["components/CallAlert/index.js"],"names":["TELUS_ID","CallAlert","message","id","payload","brand","onAreaCodeLinkClick","currentLocale","callErrors","specialNumber","phoneNumber","i18n","getString","noAreaCode","areaCode","areaCodeLink","styles","link","e","preventDefault","alertId","noInternational","fullName","propTypes","PropTypes","func","shape","string","isRequired","object","defaultProps","undefined","handleMessage","noToNumber","connectFailed","internalError","notAnExtension","networkError","noRingoutEnable"],"mappings":";;;;;;;;;;;AAAA;;AACA;;AACA;;AACA;;AACA;;AACA;;;;AAEA,IAAMA,QAAQ,GAAG,MAAjB;;AACe,SAASC,SAAT,OASZ;AAAA,0BARDC,OAQC;AAAA,MAPCC,EAOD,gBAPCA,EAOD;AAAA,MANCD,OAMD,gBANCA,OAMD;AAAA,MALCE,OAKD,gBALCA,OAKD;AAAA,MAHDC,KAGC,QAHDA,KAGC;AAAA,MAFDC,mBAEC,QAFDA,mBAEC;AAAA,MADDC,aACC,QADDA,aACC;;AACD;AACA;AACA,MACEF,KAAK,IAAIA,KAAK,CAACF,EAAN,KAAaH,QAAtB,IACAE,OAAO,KAAKM,oBAAWC,aADvB,IAEAL,OAFA,IAEWA,OAAO,CAACM,WAAR,KAAwB,KAHrC,EAIE;AACA,WAAQ,2CAAOC,cAAKC,SAAL,CAAe,UAAf,EAA2BL,aAA3B,CAAP,CAAR;AACD;;AACD,MAAIL,OAAO,KAAKM,oBAAWK,UAA3B,EAAuC;AACrC,QAAMC,QAAQ,GAAGH,cAAKC,SAAL,CAAe,UAAf,EAA2BL,aAA3B,CAAjB;;AACA,QAAMQ,YAAY,GAAGT,mBAAmB,GAEpC;AACE,MAAA,SAAS,EAAEU,gBAAOC,IADpB;AAEE,MAAA,OAAO,EAAE,iBAACC,CAAD,EAAO;AACdA,QAAAA,CAAC,CAACC,cAAF;AACAb,QAAAA,mBAAmB,CAAC;AAAEc,UAAAA,OAAO,EAAEjB;AAAX,SAAD,CAAnB;AACD;AALH,OAMGW,QANH,CAFoC,GAWtCA,QAXF;AAYA,WACE,6BAAC,yBAAD;AACE,MAAA,OAAO,EAAEH,cAAKC,SAAL,CAAeV,OAAf,EAAwBK,aAAxB,CADX;AAEE,MAAA,MAAM,EAAE;AAAEQ,QAAAA,YAAY,EAAZA;AAAF;AAFV,MADF;AAKD;;AACD,MAAIb,OAAO,KAAKM,oBAAWa,eAA3B,EAA4C;AAC1C,WACE,6BAAC,yBAAD;AACE,MAAA,OAAO,EAAEV,cAAKC,SAAL,CAAeV,OAAf,EAAwBK,aAAxB,CADX;AAEE,MAAA,MAAM,EAAE;AAAEF,QAAAA,KAAK,EAAEA,KAAK,CAACiB;AAAf;AAFV,MADF;AAKD;;AACD,SACE,2CAAOX,cAAKC,SAAL,CAAeV,OAAf,EAAwBK,aAAxB,CAAP,CADF;AAGD;;AAEDN,SAAS,CAACsB,SAAV,GAAsB;AACpBjB,EAAAA,mBAAmB,EAAEkB,mBAAUC,IADX;AAEpBvB,EAAAA,OAAO,EAAEsB,mBAAUE,KAAV,CAAgB;AACvBxB,IAAAA,OAAO,EAAEsB,mBAAUG,MAAV,CAAiBC;AADH,GAAhB,EAENA,UAJiB;AAKpBvB,EAAAA,KAAK,EAAEmB,mBAAUK,MAAV,CAAiBD,UALJ;AAMpBrB,EAAAA,aAAa,EAAEiB,mBAAUG,MAAV,CAAiBC;AANZ,CAAtB;AAQA3B,SAAS,CAAC6B,YAAV,GAAyB;AACvBxB,EAAAA,mBAAmB,EAAEyB;AADE,CAAzB;;AAIA9B,SAAS,CAAC+B,aAAV,GAA0B;AAAA,MAAG9B,OAAH,SAAGA,OAAH;AAAA,SACxBA,OAAO,KAAKM,oBAAWyB,UAAvB,IACA/B,OAAO,KAAKM,oBAAWK,UADvB,IAEAX,OAAO,KAAKM,oBAAWC,aAFvB,IAGAP,OAAO,KAAKM,oBAAW0B,aAHvB,IAIAhC,OAAO,KAAKM,oBAAW2B,aAJvB,IAKAjC,OAAO,KAAKM,oBAAW4B,cALvB,IAMAlC,OAAO,KAAKM,oBAAW6B,YANvB,IAOAnC,OAAO,KAAKM,oBAAWa,eAPvB,IAQAnB,OAAO,KAAKM,oBAAW8B,eATC;AAAA,CAA1B","sourcesContent":["import React from 'react';\nimport PropTypes from 'prop-types';\nimport callErrors from 'ringcentral-integration/modules/Call/callErrors';\nimport FormattedMessage from '../FormattedMessage';\nimport styles from './styles.scss';\nimport i18n from './i18n';\n\nconst TELUS_ID = '7310';\nexport default function CallAlert({\n  message: {\n    id,\n    message,\n    payload,\n  },\n  brand,\n  onAreaCodeLinkClick,\n  currentLocale,\n}) {\n  // If brand is Telus and special number is 911,\n  // show messages of its own version.\n  if (\n    brand && brand.id === TELUS_ID &&\n    message === callErrors.specialNumber &&\n    payload && payload.phoneNumber === '911'\n  ) {\n    return (<span>{i18n.getString('telus911', currentLocale)}</span>);\n  }\n  if (message === callErrors.noAreaCode) {\n    const areaCode = i18n.getString('areaCode', currentLocale);\n    const areaCodeLink = onAreaCodeLinkClick ?\n      (\n        <a\n          className={styles.link}\n          onClick={(e) => {\n            e.preventDefault();\n            onAreaCodeLinkClick({ alertId: id });\n          }} >\n          {areaCode}\n        </a>\n      ) :\n      areaCode;\n    return (\n      <FormattedMessage\n        message={i18n.getString(message, currentLocale)}\n        values={{ areaCodeLink }} />\n    );\n  }\n  if (message === callErrors.noInternational) {\n    return (\n      <FormattedMessage\n        message={i18n.getString(message, currentLocale)}\n        values={{ brand: brand.fullName }} />\n    );\n  }\n  return (\n    <span>{i18n.getString(message, currentLocale)}</span>\n  );\n}\n\nCallAlert.propTypes = {\n  onAreaCodeLinkClick: PropTypes.func,\n  message: PropTypes.shape({\n    message: PropTypes.string.isRequired,\n  }).isRequired,\n  brand: PropTypes.object.isRequired,\n  currentLocale: PropTypes.string.isRequired,\n};\nCallAlert.defaultProps = {\n  onAreaCodeLinkClick: undefined\n};\n\nCallAlert.handleMessage = ({ message }) => (\n  message === callErrors.noToNumber ||\n  message === callErrors.noAreaCode ||\n  message === callErrors.specialNumber ||\n  message === callErrors.connectFailed ||\n  message === callErrors.internalError ||\n  message === callErrors.notAnExtension ||\n  message === callErrors.networkError ||\n  message === callErrors.noInternational ||\n  message === callErrors.noRingoutEnable\n);\n"],"file":"index.js"}