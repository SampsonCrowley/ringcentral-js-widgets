{"version":3,"sources":["components/ActiveCallPad/index.js"],"names":["MoreActionItem","DisplayButtonNumber","title","Icon","icon","disabled","onClick","iconClassName","styles","buttonIcon","buttonDisabled","buttonActive","buttonItem","buttonName","propTypes","PropTypes","string","isRequired","func","bool","ActiveCallPad","props","moreButton","dropdown","toggleMore","state","expandMore","current","e","dom","contains","target","setState","prevState","document","body","addEventListener","removeEventListener","buttons","push","isOnMute","MuteIcon","i18n","getString","currentLocale","isOnHold","onUnmute","UnmuteIcon","onMute","KeypadIcon","onShowKeyPad","layout","callCtrlLayouts","conferenceCtrl","HoldIcon","iconWidth","iconHeight","iconX","iconY","active","onUnhold","onHold","conferenceCallEquipped","showMerge","mergeCtrl","normalCtrl","hasConferenceCall","MergeIcon","mergeDisabled","onMerge","showRipple","CombineIcon","addDisabled","onAdd","RecordIcon","recordStatus","recording","pending","noAccess","onStopRecord","onRecord","disabledTransfer","TransferIcon","onToggleTransferPanel","disabledFlip","flipNumbers","length","FlipIcon","onShowFlipPanel","moreActions","moreButtonContainer","callButton","MoreIcon","buttonPopup","slice","map","opts","root","className","callCtrlButtonGroup","buttonRow","stopButtonGroup","button","stopButton","onHangup","EndIcon","Component","array","defaultProps","undefined"],"mappings":"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","file":"index.js","sourcesContent":["import React, { Component, createRef } from 'react';\nimport PropTypes from 'prop-types';\nimport classnames from 'classnames';\nimport recordStatus from 'ringcentral-integration/modules/Webphone/recordStatus';\nimport { isObject } from 'ringcentral-integration/lib/di/utils/is_type';\n\nimport CircleButton from '../CircleButton';\nimport Tooltip from '../Tooltip';\nimport ActiveCallButton from '../ActiveCallButton';\nimport MuteIcon from '../../assets/images/Mute.svg';\nimport UnmuteIcon from '../../assets/images/Unmute.svg';\nimport KeypadIcon from '../../assets/images/Dialpad.svg';\nimport HoldIcon from '../../assets/images/Hold.svg';\n// import ParkIcon from '../../assets/images/Park.svg';\nimport RecordIcon from '../../assets/images/Record.svg';\n// import AddIcon from '../../assets/images/AddCall.svg';\nimport MoreIcon from '../../assets/images/MoreIcon.svg';\nimport TransferIcon from '../../assets/images/Transfer.svg';\nimport FlipIcon from '../../assets/images/Flip.svg';\nimport EndIcon from '../../assets/images/End.svg';\nimport CombineIcon from '../../assets/images/Combine.svg';\nimport MergeIcon from '../../assets/images/MergeIntoConferenceIcon.svg';\nimport callCtrlLayouts from '../../enums/callCtrlLayouts';\nimport styles from './styles.scss';\nimport i18n from './i18n';\n\nconst DisplayButtonNumber = 6;\n\nexport function MoreActionItem({\n  title,\n  icon: Icon,\n  disabled,\n  onClick,\n}) {\n  const iconClassName = classnames(\n    styles.buttonIcon,\n    disabled ? styles.buttonDisabled : styles.buttonActive\n  );\n  return (\n    <div\n      className={styles.buttonItem}\n      onClick={disabled ? null : onClick}>\n      <div className={iconClassName}>\n        {<Icon />}\n      </div>\n      <div className={styles.buttonName}>\n        {title}\n      </div>\n    </div>\n  );\n}\n\nMoreActionItem.propTypes = {\n  title: PropTypes.string.isRequired,\n  icon: PropTypes.func.isRequired,\n  disabled: PropTypes.bool.isRequired,\n  onClick: PropTypes.func.isRequired,\n};\n\nclass ActiveCallPad extends Component {\n  constructor(props) {\n    super(props);\n    this.moreButton = createRef();\n    this.dropdown = createRef();\n    this.onClick = this:: this.onClick;\n    this.toggleMore = this:: this.toggleMore;\n    this.state = {\n      expandMore: props.expandMore,\n      moreButton: this.moreButton && this.moreButton.current,\n    };\n  }\n\n  onClick(e) {\n    if (isObject(this.dropdown) && isObject(this.dropdown.current)) {\n      const { dom: { current } } = this.dropdown.current;\n\n      if (\n        !current.contains(e.target)\n        && !this.moreButton.current.contains(e.target)\n        && this.state.expandMore\n      ) {\n        this.setState({\n          expandMore: false,\n        });\n      }\n    }\n  }\n\n  toggleMore() {\n    this.setState(prevState => ({\n      expandMore: !prevState.expandMore\n    }));\n  }\n\n  componentDidMount() {\n    document.body.addEventListener('click', this.onClick);\n    this.setState({\n      moreButton: this.moreButton && this.moreButton.current,\n    });\n  }\n\n  componentWillReceiveProps() {\n    this.setState({\n      moreButton: this.moreButton && this.moreButton.current,\n    });\n  }\n\n  componentWillUnmount() {\n    document.body.removeEventListener('click', this.onClick);\n  }\n\n  render() {\n    const buttons = [];\n    /* --------------------- Mute/Unmute --------------------------- */\n    buttons.push(this.props.isOnMute\n      ? {\n        icon: MuteIcon,\n        title: i18n.getString('unmute', this.props.currentLocale),\n        disabled: this.props.isOnHold,\n        onClick: this.props.onUnmute,\n      }\n      : {\n        icon: UnmuteIcon,\n        title: i18n.getString('mute', this.props.currentLocale),\n        disabled: this.props.isOnHold,\n        onClick: this.props.onMute,\n      }\n    );\n\n    /* --------------------- keyPad --------------------------- */\n    buttons.push(\n      {\n        icon: KeypadIcon,\n        title: i18n.getString('keypad', this.props.currentLocale),\n        onClick: this.props.onShowKeyPad,\n        disabled: this.props.layout === callCtrlLayouts.conferenceCtrl,\n      }\n    );\n\n    /* --------------------- Hold/Unhold --------------------------- */\n    buttons.push(\n      {\n        icon: HoldIcon,\n        iconWidth: 120,\n        iconHeight: 160,\n        iconX: 190,\n        iconY: 165,\n        title: this.props.isOnHold\n          ? i18n.getString('onHold', this.props.currentLocale)\n          : i18n.getString('hold', this.props.currentLocale),\n        active: this.props.isOnHold,\n        onClick: this.props.isOnHold\n          ? this.props.onUnhold\n          : this.props.onHold,\n      }\n    );\n\n    /* --------------------- Add/Merge --------------------------- */\n    if (this.props.conferenceCallEquipped) {\n      const showMerge = (\n        this.props.layout === callCtrlLayouts.mergeCtrl ||\n        (this.props.layout === callCtrlLayouts.normalCtrl && this.props.hasConferenceCall)\n      );\n      buttons.push(showMerge\n        ? {\n          icon: MergeIcon,\n          title: i18n.getString('mergeToConference', this.props.currentLocale),\n          disabled: this.props.mergeDisabled,\n          onClick: this.props.onMerge,\n          showRipple: !this.props.mergeDisabled,\n        }\n        : {\n          icon: CombineIcon,\n          title: i18n.getString('add', this.props.currentLocale),\n          disabled: this.props.addDisabled,\n          onClick: this.props.onAdd,\n        }\n      );\n    }\n\n    /* --------------------- Record/Stop --------------------------- */\n    buttons.push(\n      {\n        icon: RecordIcon,\n        title: this.props.recordStatus === recordStatus.recording\n          ? i18n.getString('stopRecord', this.props.currentLocale)\n          : i18n.getString('record', this.props.currentLocale),\n        active: this.props.recordStatus === recordStatus.recording,\n        disabled: (\n          this.props.isOnHold\n          || this.props.recordStatus === recordStatus.pending\n          || this.props.layout === callCtrlLayouts.mergeCtrl\n          || this.props.recordStatus === recordStatus.noAccess\n        ),\n        onClick: this.props.recordStatus === recordStatus.recording\n          ? this.props.onStopRecord\n          : this.props.onRecord,\n      }\n    );\n\n    /* --------------------- Transfer --------------------------- */\n    const disabledTransfer = (\n      this.props.layout !== callCtrlLayouts.normalCtrl\n    );\n    buttons.push(\n      {\n        icon: TransferIcon,\n        title: i18n.getString('transfer', this.props.currentLocale),\n        disabled: disabledTransfer,\n        onClick: this.props.onToggleTransferPanel,\n      }\n    );\n\n    /* --------------------- Flip --------------------------- */\n    const disabledFlip = (\n      this.props.flipNumbers.length === 0\n      || this.props.isOnHold\n      || this.props.layout !== callCtrlLayouts.normalCtrl\n    );\n    buttons.push(\n      {\n        icon: FlipIcon,\n        title: i18n.getString('flip', this.props.currentLocale),\n        disabled: disabledFlip,\n        onClick: this.props.onShowFlipPanel,\n      }\n    );\n\n    /* --------------------- More Actions --------------------------- */\n    let moreActions = null;\n    if (buttons.length > DisplayButtonNumber) {\n      moreActions = (\n        <span\n          className={styles.moreButtonContainer}\n          ref={this.moreButton}\n        >\n          <ActiveCallButton\n            onClick={this.toggleMore}\n            title={i18n.getString('more', this.props.currentLocale)}\n            active={this.state.expandMore}\n            className={classnames(styles.moreButton, styles.callButton)}\n            disabled={disabledFlip && disabledTransfer}\n            icon={MoreIcon} />\n          <Tooltip\n            fixed={false}\n            open={this.state.expandMore}\n            direction=\"top\"\n            ref={this.dropdown}\n            triggerElm={this.state.moreButton}>\n            <div className={styles.buttonPopup}>\n              {\n                buttons.slice(DisplayButtonNumber - 1).map(({\n                  title,\n                  ...opts\n                }) => (<MoreActionItem\n                  key={title}\n                  title={title}\n                  {...opts}\n                />))\n              }\n            </div>\n          </Tooltip>\n        </span>\n      );\n    }\n\n    return (\n      <div className={classnames(styles.root, this.props.className)}>\n        <div className={styles.callCtrlButtonGroup}>\n          <div className={styles.buttonRow}>\n            {\n              buttons.slice(0, DisplayButtonNumber - (moreActions ? 1 : 0)).map(opts => (\n                <ActiveCallButton\n                  key={opts.title}\n                  className={styles.callButton}\n                  {...opts}\n                />\n              ))\n            }\n            {moreActions}\n          </div>\n        </div>\n        <div className={classnames(styles.buttonRow, styles.stopButtonGroup)}>\n          <div className={styles.button}>\n            <CircleButton\n              className={styles.stopButton}\n              onClick={this.props.onHangup}\n              icon={EndIcon}\n              showBorder={false}\n              iconWidth={250}\n              iconX={125}\n            />\n          </div>\n        </div>\n      </div>\n    );\n  }\n}\n\nActiveCallPad.propTypes = {\n  currentLocale: PropTypes.string.isRequired,\n  className: PropTypes.string,\n  isOnMute: PropTypes.bool,\n  isOnHold: PropTypes.bool,\n  recordStatus: PropTypes.string.isRequired,\n  onMute: PropTypes.func.isRequired,\n  onUnmute: PropTypes.func.isRequired,\n  onHold: PropTypes.func.isRequired,\n  onUnhold: PropTypes.func.isRequired,\n  onRecord: PropTypes.func.isRequired,\n  onStopRecord: PropTypes.func.isRequired,\n  onHangup: PropTypes.func.isRequired,\n  // onPark: PropTypes.func.isRequired,\n  onShowKeyPad: PropTypes.func.isRequired,\n  onAdd: PropTypes.func,\n  onMerge: PropTypes.func,\n  onShowFlipPanel: PropTypes.func.isRequired,\n  onToggleTransferPanel: PropTypes.func.isRequired,\n  flipNumbers: PropTypes.array.isRequired,\n  layout: PropTypes.string,\n  addDisabled: PropTypes.bool,\n  mergeDisabled: PropTypes.bool,\n  conferenceCallEquipped: PropTypes.bool,\n  hasConferenceCall: PropTypes.bool,\n  expandMore: PropTypes.bool,\n};\n\nActiveCallPad.defaultProps = {\n  className: null,\n  isOnMute: false,\n  isOnHold: false,\n  layout: callCtrlLayouts.normalCtrl,\n  addDisabled: false,\n  mergeDisabled: false,\n  conferenceCallEquipped: false,\n  hasConferenceCall: false,\n  onAdd: undefined,\n  onMerge: undefined,\n  expandMore: false,\n};\n\nexport default ActiveCallPad;\n"]}