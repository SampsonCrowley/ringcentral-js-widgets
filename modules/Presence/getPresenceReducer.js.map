{"version":3,"sources":["modules/Presence/getPresenceReducer.js"],"names":["getDndStatusReducer","types","state","type","dndStatus","notification","fetchSuccess","updateSuccess","updateError","update","resetSuccess","getLastNotDisturbDndStatusReducer","lastDndStatus","dndStatuses","doNotAcceptAnyCalls","getPresenceStatusReducer","presenceStatus","getUserStatusReducer","userStatus","getMessageReducer","message","getPresenceReducer","reducers","status"],"mappings":"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","sourcesContent":["import { combineReducers } from 'redux';\nimport getModuleStatusReducer from '../../lib/getModuleStatusReducer';\nimport dndStatuses from './dndStatus';\n\nexport function getDndStatusReducer(types) {\n  return (state = null, { type, dndStatus = state }) => {\n    switch (type) {\n      case types.notification:\n      case types.fetchSuccess:\n      case types.updateSuccess:\n      case types.updateError:\n      case types.update:\n        return dndStatus;\n      case types.resetSuccess:\n        return null;\n      default:\n        return state;\n    }\n  };\n}\n\nexport function getLastNotDisturbDndStatusReducer(types) {\n  return (state = null, { type, dndStatus, lastDndStatus = state }) => {\n    switch (type) {\n      case types.notification:\n      case types.fetchSuccess:\n      case types.updateSuccess:\n      case types.update:\n        if (\n          lastDndStatus !== dndStatuses.doNotAcceptAnyCalls &&\n          lastDndStatus !== dndStatus\n        ) {\n          return lastDndStatus;\n        }\n        return state;\n      case types.resetSuccess:\n        return null;\n      default:\n        return state;\n    }\n  };\n}\n\nexport function getPresenceStatusReducer(types) {\n  return (state = null, { type, presenceStatus = state }) => {\n    switch (type) {\n      case types.notification:\n      case types.fetchSuccess:\n      case types.updateSuccess:\n        return presenceStatus;\n      case types.resetSuccess:\n        return null;\n      default:\n        return state;\n    }\n  };\n}\n\nexport function getUserStatusReducer(types) {\n  return (state = null, { type, userStatus = state }) => {\n    switch (type) {\n      case types.notification:\n      case types.fetchSuccess:\n      case types.updateSuccess:\n      case types.update:\n      case types.updateError:\n        return userStatus;\n      case types.resetSuccess:\n        return null;\n      default:\n        return state;\n    }\n  };\n}\n\nexport function getMessageReducer(types) {\n  return (state = null, { type, message = state }) => {\n    switch (type) {\n      case types.notification:\n      case types.fetchSuccess:\n      case types.updateSuccess:\n        return message;\n      case types.resetSuccess:\n        return null;\n      default:\n        return state;\n    }\n  };\n}\n\nexport default function getPresenceReducer(types, reducers = {}) {\n  return combineReducers({\n    ...reducers,\n    status: getModuleStatusReducer(types),\n    dndStatus: getDndStatusReducer(types),\n    presenceStatus: getPresenceStatusReducer(types),\n    userStatus: getUserStatusReducer(types),\n    message: getMessageReducer(types),\n  });\n}\n"],"file":"getPresenceReducer.js"}