{"version":3,"sources":["containers/TransferPage/index.js"],"names":["mapToProps","_","phone","locale","activeCallControl","currentLocale","activeSession","searchContactList","isOnTransfer","disablePage","mapToFunctions","regionSettings","routerInteraction","onTransfer","transferNumber","sessionIdRgx","sessionId","currentPath","match","transfer","toggleTransferPanel","push","formatPhone","phoneNumber","areaCode","countryCode","searchContact","TransferPage","TransferPanel","default"],"mappings":";;;;;;;AACA;;AACA;;;;AACA;;;;AACA;;;;AAEA,SAASA,UAAT,CAAoBC,CAApB,QAEG;AAAA,MADDC,KACC,QADDA,KACC;AAAA,MAECC,MAFD,GAIGD,KAJH,CAECC,MAFD;AAAA,MAGCC,iBAHD,GAIGF,KAJH,CAGCE,iBAHD;AAAA,MAMCC,aAND,GAOGF,MAPH,CAMCE,aAND;AAAA,MASCC,aATD,GAUGF,iBAVH,CASCE,aATD;;;AAYD,SAAO;AACLD,gCADK;AAELE,uBAAmB,EAFd;AAGLC,kBAAc,KAHT;AAILF,gCAJK;AAKLG,iBAAa;AALR,GAAP;AAOD;;AAED,SAASC,cAAT,CAAwBT,CAAxB,SAEG;AAAA,MADDC,KACC,SADDA,KACC;AAAA,MAECS,cAFD,GAKGT,KALH,CAECS,cAFD;AAAA,MAGCC,iBAHD,GAKGV,KALH,CAGCU,iBAHD;AAAA,MAICR,iBAJD,GAKGF,KALH,CAICE,iBAJD;;AAMD,SAAO;AACLS,cADK,sBACMC,cADN,EACsB;AACzB,UAAMC,eAAe,MAArB;AACA,UAAMC,YAAYJ,kBAAkBK,WAAlB,CAA8BC,KAA9B,CAAoCH,YAApC,CAAlB;AACA,UAAIC,SAAJ,EAAe;AACbZ,0BAAkBe,QAAlB,CAA2BL,cAA3B,EAA2CE,UAAU,CAAV,CAA3C;AACD;AACF,KAPI;AAQLI,uBARK,iCAQiB;AACpBR,wBAAkBS,IAAlB,CAAuB,QAAvB;AACD,KAVI;;AAWLC,iBAAa;AAAA,aAAe,4BAAa;AACvCC,gCADuC;AAEvCC,kBAAUb,eAAea,QAFc;AAGvCC,qBAAad,eAAec;AAHW,OAAb,CAAf;AAAA,KAXR;AAgBLC,mBAAe;AAAA,aAAM,IAAN;AAAA;AAhBV,GAAP;AAkBD;;AAED,IAAMC,eAAe,6BAAU,yBAC7B3B,UAD6B,EAE7BU,cAF6B,EAG7BkB,uBAH6B,CAAV,CAArB;;QAME5B,U,GAAAA,U;QACAU,c,GAAAA,c;QACgBmB,O,GAAhBF,Y","file":"index.js","sourcesContent":["\nimport { connect } from 'react-redux';\nimport formatNumber from 'ringcentral-integration/lib/formatNumber';\nimport TransferPanel from '../../components/TransferPanel';\nimport { withPhone } from '../../lib/phoneContext';\n\nfunction mapToProps(_, {\n  phone\n}) {\n  const {\n    locale,\n    activeCallControl,\n  } = phone;\n  const {\n    currentLocale\n  } = locale;\n  const {\n    activeSession\n  } = activeCallControl;\n\n  return {\n    currentLocale,\n    searchContactList: [],\n    isOnTransfer: false,\n    activeSession,\n    disablePage: true\n  };\n}\n\nfunction mapToFunctions(_, {\n  phone,\n}) {\n  const {\n    regionSettings,\n    routerInteraction,\n    activeCallControl\n  } = phone;\n  return {\n    onTransfer(transferNumber) {\n      const sessionIdRgx = /\\d+/g;\n      const sessionId = routerInteraction.currentPath.match(sessionIdRgx);\n      if (sessionId) {\n        activeCallControl.transfer(transferNumber, sessionId[0]);\n      }\n    },\n    toggleTransferPanel() {\n      routerInteraction.push('/calls');\n    },\n    formatPhone: phoneNumber => formatNumber({\n      phoneNumber,\n      areaCode: regionSettings.areaCode,\n      countryCode: regionSettings.countryCode,\n    }),\n    searchContact: () => null\n  };\n}\n\nconst TransferPage = withPhone(connect(\n  mapToProps,\n  mapToFunctions,\n)(TransferPanel));\n\nexport {\n  mapToProps,\n  mapToFunctions,\n  TransferPage as default,\n};\n"]}