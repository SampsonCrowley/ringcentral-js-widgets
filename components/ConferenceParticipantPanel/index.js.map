{"version":3,"sources":["components/ConferenceParticipantPanel/index.js"],"names":["ParticipantsContainer","props","state","showModal","detail","formatPrticipants","onRemoveBtnClick","onCancel","participants","formatPhone","map","participant","partyNumber","setState","nextProps","currentLocale","removeFunc","onBackButtonClick","backHeader","styles","header","i18n","getString","root","participantsListContainer","participantsCount","length","participantsList","avatarUrl","toUserName","calleeType","id","calleeTypes","contacts","then","Component","propTypes","PropTypes","string","isRequired","func","arrayOf","object","defaultProps","i"],"mappings":"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","file":"index.js","sourcesContent":["import React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport calleeTypes from 'ringcentral-integration/enums/calleeTypes';\n\nimport BackButton from '../BackButton';\nimport BackHeader from '../BackHeader';\nimport ConfirmRemoveModal from './ConfirmRemoveModal';\nimport i18n from './i18n';\nimport ParticipantItem from './ParticipantItem';\nimport styles from './styles.scss';\n\nclass ParticipantsContainer extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      showModal: false,\n      detail: null,\n    };\n    this.formatPrticipants(props);\n    this.onRemoveBtnClick = this::this.onRemoveBtnClick;\n    this.onCancel = this::this.onCancel;\n  }\n\n  formatPrticipants(props = this.props) {\n    const { participants, formatPhone } = props;\n\n    participants.map((participant) => {\n      participant.partyNumber = formatPhone(participant.partyNumber);\n      return participant;\n    });\n  }\n\n  onRemoveBtnClick(participant) {\n    this.setState(() => ({\n      detail: participant,\n      showModal: true,\n    }));\n  }\n\n  onCancel() {\n    this.setState({\n      showModal: false,\n      detail: null,\n    });\n  }\n\n  componentWillReceiveProps(nextProps) {\n    this.formatPrticipants(nextProps);\n  }\n\n  render() {\n    const {\n      participants,\n      currentLocale,\n      removeFunc,\n      onBackButtonClick,\n    } = this.props;\n\n    const { detail, showModal } = this.state;\n\n    const backHeader = (<BackHeader\n      className={styles.header}\n      onBackClick={onBackButtonClick}\n      backButton={<BackButton label={i18n.getString('conferenceCall', currentLocale)} />}\n    />);\n\n    return (\n      <div className={styles.root}>\n        {backHeader}\n        <div className={styles.participantsListContainer}>\n          <div className={styles.participantsCount}>\n            {\n              participants.length > 1\n              ? `${participants.length} ${i18n.getString('participants', currentLocale)}`\n              : `${participants.length} ${i18n.getString('participant', currentLocale)}`\n            }\n          </div>\n          <div className={styles.participantsList}>\n            {\n            participants.map((participant) => {\n              const {\n                avatarUrl,\n                toUserName,\n                partyNumber,\n                calleeType,\n                id,\n              } = participant;\n              let detail;\n\n              if (calleeType === calleeTypes.contacts) {\n                detail = toUserName;\n              } else {\n                detail = partyNumber;\n              }\n              return (\n                <ParticipantItem\n                  key={id}\n                  avatarUrl={avatarUrl}\n                  detail={detail}\n                  currentLocale={currentLocale}\n                  onRemove={() => this.onRemoveBtnClick(participant)}\n                />\n              );\n            })\n          }\n          </div>\n        </div>\n        <ConfirmRemoveModal\n          show={showModal}\n          detail={detail}\n          onCancel={this.onCancel}\n          currentLocale={currentLocale}\n          onRemove={\n            () => removeFunc(detail && detail.id).then(this.onCancel)\n          } />\n      </div>\n    );\n  }\n}\n\n\nParticipantsContainer.propTypes = {\n  currentLocale: PropTypes.string.isRequired,\n  removeFunc: PropTypes.func,\n  participants: PropTypes.arrayOf(PropTypes.object).isRequired,\n  onBackButtonClick: PropTypes.func,\n  formatPhone: PropTypes.func,\n};\n\nParticipantsContainer.defaultProps = {\n  removeFunc: i => i,\n  onBackButtonClick: i => i,\n  formatPhone: i => i,\n};\n\nexport default ParticipantsContainer;\n"]}