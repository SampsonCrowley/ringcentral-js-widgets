{"version":3,"sources":["containers/ConversationsPage/index.js"],"names":["mapToProps","_","phone","brand","locale","conversations","contactMatcher","dateTimeFormat","regionSettings","rolesAndPermissions","call","conversationLogger","connectivityMonitor","rateLimiter","messageStore","auth","audioSettings","webphone","callingSettings","showTitle","enableContactFallback","showGroupNumberName","serviceFeatures","permissions","readTextPermissions","voicemailPermissions","readFaxPermissions","fullName","currentLocale","pagingConversations","areaCode","countryCode","disableLinks","connectivity","throttling","disableCallButton","ready","loggedIn","isWebphoneMode","userMedia","connected","disableClickToDial","isIdle","outboundSmsPermission","OutboundSMS","internalSmsPermission","InternalSMS","composeTextPermission","Pager","enabled","SMS","loggingMap","showSpinner","searchInput","autoLog","typeFilter","textUnreadCounts","voiceUnreadCounts","faxUnreadCounts","readTextPermission","readVoicemailPermission","readFaxPermission","loadingNextPage","loadingOldConversations","mapToFunctions","dialerUI","routerInteraction","composeText","contactSearch","showViewContact","dateTimeFormatter","formatDateTime","dialerRoute","onCreateContact","onLogConversation","isLoggedContact","onViewContact","conversationDetailRoute","composeTextRoute","previewFaxMessages","contact","id","type","push","phoneNumber","name","entityType","hasMatchNumber","ignoreCache","forceMatchNumber","undefined","onClickToDial","callingEnabled","recipient","onClickToCall","fromType","onClickToSms","hasComposeTextPermission","isDummyContact","updateTypingToNumber","search","searchString","addToNumber","typingToNumber","cleanTypingToNumber","onClickToSMS","redirect","options","logConversation","onSearchInputChange","e","updateSearchInput","currentTarget","value","showConversationDetail","conversationId","replace","readMessage","readMessages","markMessage","unreadMessage","unmarkMessage","onUnmarkMessages","goToComposeText","updateTypeFilter","deleteMessage","deleteCoversation","uri","window","open","loadNextPage","onUnmount","currentPage","resetCurrentPage","MessagesPanel"],"mappings":"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","sourcesContent":["import { connect } from 'react-redux';\nimport MessagesPanel from '../../components/ConversationsPanel';\nimport { withPhone } from '../../lib/phoneContext';\n\nexport function mapToProps(_, {\n  phone: {\n    brand,\n    locale,\n    conversations,\n    contactMatcher,\n    dateTimeFormat,\n    regionSettings,\n    rolesAndPermissions,\n    call,\n    conversationLogger,\n    connectivityMonitor,\n    rateLimiter,\n    messageStore,\n    auth,\n    audioSettings,\n    webphone,\n    callingSettings,\n  },\n  showTitle = false,\n  enableContactFallback = false,\n  showGroupNumberName = false,\n}) {\n  const {\n    serviceFeatures,\n    permissions,\n    readTextPermissions,\n    voicemailPermissions,\n    readFaxPermissions,\n  } = rolesAndPermissions;\n  return ({\n    showTitle,\n    enableContactFallback,\n    showGroupNumberName,\n    brand: brand.fullName,\n    currentLocale: locale.currentLocale,\n    conversations: conversations.pagingConversations,\n    areaCode: regionSettings.areaCode,\n    countryCode: regionSettings.countryCode,\n    disableLinks: (\n      !connectivityMonitor.connectivity ||\n      rateLimiter.throttling\n    ),\n    disableCallButton:\n      auth.ready &&\n      audioSettings.ready &&\n      webphone && webphone.ready &&\n      auth.loggedIn &&\n      (callingSettings.isWebphoneMode &&\n        (!audioSettings.userMedia || !webphone.connected)\n      ),\n    disableClickToDial: !(call && call.isIdle),\n    outboundSmsPermission: !!(\n      permissions &&\n      permissions.OutboundSMS\n    ),\n    internalSmsPermission: !!(\n      permissions &&\n      permissions.InternalSMS\n    ),\n    composeTextPermission: !!(\n      serviceFeatures &&\n      (\n        (serviceFeatures.Pager && serviceFeatures.Pager.enabled) ||\n        (serviceFeatures.SMS && serviceFeatures.SMS.enabled)\n      )\n    ),\n    loggingMap: (conversationLogger && conversationLogger.loggingMap),\n    showSpinner: !(\n      locale.ready &&\n      conversations.ready &&\n      (!contactMatcher || contactMatcher.ready) &&\n      dateTimeFormat.ready &&\n      regionSettings.ready &&\n      rolesAndPermissions.ready &&\n      connectivityMonitor.ready &&\n      rateLimiter.ready &&\n      (!rolesAndPermissions || rolesAndPermissions.ready) &&\n      (!call || call.ready) &&\n      (!conversationLogger || conversationLogger.ready)\n    ),\n    searchInput: conversations.searchInput,\n    autoLog: !!(conversationLogger && conversationLogger.autoLog),\n    typeFilter: conversations.typeFilter,\n    textUnreadCounts: messageStore.textUnreadCounts,\n    voiceUnreadCounts: messageStore.voiceUnreadCounts,\n    faxUnreadCounts: messageStore.faxUnreadCounts,\n    readTextPermission: readTextPermissions,\n    readVoicemailPermission: voicemailPermissions,\n    readFaxPermission: readFaxPermissions,\n    loadingNextPage: conversations.loadingOldConversations,\n  });\n}\n\nexport function mapToFunctions(_, {\n  phone: {\n    dateTimeFormat,\n    conversations,\n    messageStore,\n    conversationLogger,\n    contactMatcher,\n    call,\n    dialerUI,\n    routerInteraction,\n    composeText,\n    contactSearch,\n    rolesAndPermissions,\n  },\n  showViewContact = true,\n  dateTimeFormatter = (...args) => dateTimeFormat.formatDateTime(...args),\n  dialerRoute = '/dialer',\n  onCreateContact,\n  onLogConversation,\n  isLoggedContact,\n  onViewContact,\n  conversationDetailRoute = '/conversations/{conversationId}',\n  composeTextRoute = '/composeText',\n  previewFaxMessages,\n}) {\n  return {\n    dateTimeFormatter,\n    onViewContact: showViewContact ? (onViewContact || (({ contact: { id, type } }) => {\n      routerInteraction.push(`/contacts/${type}/${id}?direct=true`);\n    })) : null,\n    onCreateContact: onCreateContact ?\n      async ({ phoneNumber, name, entityType }) => {\n        const hasMatchNumber = await contactMatcher.hasMatchNumber({\n          phoneNumber,\n          ignoreCache: true\n        });\n        // console.debug('confirm hasMatchNumber:', hasMatchNumber);\n        if (!hasMatchNumber) {\n          await onCreateContact({ phoneNumber, name, entityType });\n          await contactMatcher.forceMatchNumber({ phoneNumber });\n        }\n      } :\n      undefined,\n    onClickToDial: dialerUI && rolesAndPermissions.callingEnabled ?\n      (recipient) => {\n        if (call.isIdle) {\n          routerInteraction.push(dialerRoute);\n          // for track router\n          messageStore.onClickToCall({ fromType: recipient.fromType });\n          dialerUI.call({ recipient });\n        }\n      } :\n      undefined,\n    onClickToSms: rolesAndPermissions.hasComposeTextPermission ?\n      (contact, isDummyContact = false) => {\n        if (routerInteraction) {\n          routerInteraction.push(composeTextRoute);\n        }\n        // if contact autocomplete, if no match fill the number only\n        if (contact.name && contact.phoneNumber && isDummyContact) {\n          composeText.updateTypingToNumber(contact.name);\n          contactSearch.search({ searchString: contact.name });\n        } else {\n          composeText.addToNumber(contact);\n          if (composeText.typingToNumber === contact.phoneNumber) {\n            composeText.cleanTypingToNumber();\n          }\n        }\n        // for track\n        messageStore.onClickToSMS();\n      } :\n      undefined,\n    isLoggedContact,\n    onLogConversation: onLogConversation ||\n    (conversationLogger && (async ({ redirect = true, ...options }) => {\n      await conversationLogger.logConversation({\n        ...options,\n        redirect,\n      });\n    })),\n    onSearchInputChange(e) {\n      conversations.updateSearchInput(e.currentTarget.value);\n    },\n    showConversationDetail(conversationId) {\n      routerInteraction.push(\n        conversationDetailRoute.replace('{conversationId}', conversationId)\n      );\n    },\n    readMessage(conversationId) {\n      messageStore.readMessages(conversationId);\n    },\n    markMessage(conversationId) {\n      messageStore.unreadMessage(conversationId);\n    },\n    unmarkMessage(conversationId) {\n      messageStore.readMessages(conversationId);\n      messageStore.onUnmarkMessages();\n    },\n    goToComposeText: () => routerInteraction.push(composeTextRoute),\n    updateTypeFilter: type => conversations.updateTypeFilter(type),\n    deleteMessage(conversationId) {\n      conversations.deleteCoversation(conversationId);\n    },\n    previewFaxMessages(uri, conversationId) {\n      if (!previewFaxMessages) {\n        window.open(uri);\n      } else {\n        previewFaxMessages(uri);\n      }\n      messageStore.readMessages(conversationId);\n    },\n    async loadNextPage() {\n      await conversations.loadNextPage();\n    },\n    onUnmount() {\n      if (conversations.currentPage > 2) {\n        conversations.resetCurrentPage();\n      }\n    }\n  };\n}\nexport default withPhone(connect(\n  mapToProps,\n  mapToFunctions,\n)(MessagesPanel));\n"],"file":"index.js"}