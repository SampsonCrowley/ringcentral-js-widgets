{"version":3,"sources":["components/ActiveCallPad/index.js"],"names":["DisplayButtonNumber","ACTIONS_CTRL_MAP","muteCtrl","keypadCtrl","holdCtrl","mergeOrAddCtrl","recordCtrl","transferCtrl","flipCtrl","MoreActionItem","title","Icon","icon","disabled","onClick","iconClassName","styles","buttonIcon","buttonDisabled","buttonActive","buttonItem","buttonName","propTypes","PropTypes","string","isRequired","func","bool","ActiveCallPad","props","moreButton","dropdown","toggleMore","state","expandMore","current","e","dom","contains","target","setState","prevState","document","body","addEventListener","removeEventListener","nextProps","nextState","showUpdate","p","Object","prototype","hasOwnProperty","val","controlBusy","buttons","push","isOnMute","MuteIcon","id","dataSign","i18n","getString","currentLocale","isOnHold","onUnmute","UnmuteIcon","onMute","KeypadIcon","onShowKeyPad","layout","callCtrlLayouts","conferenceCtrl","HoldIcon","iconWidth","iconHeight","iconX","iconY","active","onUnhold","onHold","conferenceCallEquipped","showMerge","mergeCtrl","normalCtrl","hasConferenceCall","MergeIcon","mergeDisabled","onMerge","showRipple","CombineIcon","addDisabled","onAdd","RecordIcon","recordStatus","recording","pending","noAccess","onStopRecord","onRecord","disabledTransfer","TransferIcon","onToggleTransferPanel","disabledFlip","flipNumbers","length","FlipIcon","onShowFlipPanel","actions","moreActions","moreButtonContainer","callButton","MoreIcon","buttonPopup","slice","map","opts","isLessBtn","root","className","callCtrlButtonGroup","biggerButton","buttonRow","stopButtonGroup","button","stopButton","onHangup","EndIcon","Component","array","defaultProps","undefined"],"mappings":"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","sourcesContent":["import React, { Component, createRef } from 'react';\nimport PropTypes from 'prop-types';\nimport classnames from 'classnames';\nimport recordStatus from 'ringcentral-integration/modules/Webphone/recordStatus';\nimport { isObject } from 'ringcentral-integration/lib/di/utils/is_type';\n\nimport CircleButton from '../CircleButton';\nimport Tooltip from '../Tooltip';\nimport ActiveCallButton from '../ActiveCallButton';\nimport MuteIcon from '../../assets/images/Mute.svg';\nimport UnmuteIcon from '../../assets/images/Unmute.svg';\nimport KeypadIcon from '../../assets/images/Dialpad.svg';\nimport HoldIcon from '../../assets/images/Hold.svg';\n// import ParkIcon from '../../assets/images/Park.svg';\nimport RecordIcon from '../../assets/images/Record.svg';\n// import AddIcon from '../../assets/images/AddCall.svg';\nimport MoreIcon from '../../assets/images/MoreIcon.svg';\nimport TransferIcon from '../../assets/images/Transfer.svg';\nimport FlipIcon from '../../assets/images/Flip.svg';\nimport EndIcon from '../../assets/images/End.svg';\nimport CombineIcon from '../../assets/images/Combine.svg';\nimport MergeIcon from '../../assets/images/MergeIntoConferenceIcon.svg';\nimport callCtrlLayouts from '../../enums/callCtrlLayouts';\nimport { pickElements } from './utils';\n\nimport styles from './styles.scss';\nimport i18n from './i18n';\n\nconst DisplayButtonNumber = 6;\n\nexport const ACTIONS_CTRL_MAP = {\n  muteCtrl: 'muteCtrl',\n  keypadCtrl: 'keypadCtrl',\n  holdCtrl: 'holdCtrl',\n  mergeOrAddCtrl: 'mergeOrAddCtrl',\n  recordCtrl: 'recordCtrl',\n  transferCtrl: 'transferCtrl',\n  flipCtrl: 'flipCtrl'\n};\n\nexport function MoreActionItem({\n  title,\n  icon: Icon,\n  disabled,\n  onClick,\n}) {\n  const iconClassName = classnames(\n    styles.buttonIcon,\n    disabled ? styles.buttonDisabled : styles.buttonActive\n  );\n  return (\n    <div\n      className={styles.buttonItem}\n      onClick={disabled ? null : onClick}>\n      <div className={iconClassName}>\n        {<Icon />}\n      </div>\n      <div className={styles.buttonName}>\n        {title}\n      </div>\n    </div>\n  );\n}\n\nMoreActionItem.propTypes = {\n  title: PropTypes.string.isRequired,\n  icon: PropTypes.func.isRequired,\n  disabled: PropTypes.bool.isRequired,\n  onClick: PropTypes.func.isRequired,\n};\n\nclass ActiveCallPad extends Component {\n  constructor(props) {\n    super(props);\n    this.moreButton = createRef();\n    this.dropdown = createRef();\n    this.onClick = this:: this.onClick;\n    this.toggleMore = this:: this.toggleMore;\n    this.state = {\n      expandMore: props.expandMore,\n      moreButton: this.moreButton && this.moreButton.current,\n    };\n  }\n\n  onClick(e) {\n    if (isObject(this.dropdown) && isObject(this.dropdown.current)) {\n      const { dom: { current } } = this.dropdown.current;\n\n      if (\n        !current.contains(e.target) &&\n        !this.moreButton.current.contains(e.target) &&\n        this.state.expandMore\n      ) {\n        this.setState({\n          expandMore: false,\n        });\n      }\n    }\n  }\n\n  toggleMore() {\n    this.setState(prevState => ({\n      expandMore: !prevState.expandMore\n    }));\n  }\n\n  componentDidMount() {\n    document.body.addEventListener('click', this.onClick);\n    this.setState({\n      moreButton: this.moreButton && this.moreButton.current,\n    });\n  }\n\n  componentWillReceiveProps() {\n    this.setState({\n      moreButton: this.moreButton && this.moreButton.current,\n    });\n  }\n\n  componentWillUnmount() {\n    document.body.removeEventListener('click', this.onClick);\n  }\n\n  shouldComponentUpdate(nextProps, nextState) {\n    if (nextState !== this.state) {\n      return true;\n    }\n\n    let showUpdate = false;\n\n    for (const p in nextProps) {\n      if (nextProps::Object.prototype.hasOwnProperty(p)) {\n        const val = nextProps[p];\n\n        if (\n          val !== this.props[p] &&\n            (typeof val !== 'function')\n        ) {\n          showUpdate = true;\n          break;\n        }\n      }\n    }\n    return showUpdate;\n  }\n\n  render() {\n    const {\n      controlBusy,\n    } = this.props;\n\n    let buttons = [];\n    /* --------------------- Mute/Unmute --------------------------- */\n    buttons.push(this.props.isOnMute\n      ? {\n        icon: MuteIcon,\n        id: ACTIONS_CTRL_MAP.muteCtrl, \n        dataSign: 'mute',\n        title: i18n.getString('unmute', this.props.currentLocale),\n        disabled: this.props.isOnHold || controlBusy,\n        onClick: this.props.onUnmute,\n      }\n      : {\n        icon: UnmuteIcon,\n        id: ACTIONS_CTRL_MAP.muteCtrl,\n        dataSign: 'unmute',\n        title: i18n.getString('mute', this.props.currentLocale),\n        disabled: this.props.isOnHold || controlBusy,\n        onClick: this.props.onMute,\n      }\n    );\n\n    /* --------------------- keyPad --------------------------- */\n    buttons.push(\n      {\n        icon: KeypadIcon,\n        id: ACTIONS_CTRL_MAP.keypadCtrl,\n        dataSign: 'keypad',\n        title: i18n.getString('keypad', this.props.currentLocale),\n        onClick: this.props.onShowKeyPad,\n        disabled: this.props.layout === callCtrlLayouts.conferenceCtrl,\n      }\n    );\n\n    /* --------------------- Hold/Unhold --------------------------- */\n    buttons.push(\n      {\n        icon: HoldIcon,\n        id: ACTIONS_CTRL_MAP.holdCtrl,\n        iconWidth: 120,\n        iconHeight: 160,\n        iconX: 190,\n        iconY: 165,\n        dataSign: this.props.isOnHold ? 'onHold':'hold',\n        title: this.props.isOnHold\n          ? i18n.getString('onHold', this.props.currentLocale)\n          : i18n.getString('hold', this.props.currentLocale),\n        active: this.props.isOnHold,\n        onClick: this.props.isOnHold\n          ? this.props.onUnhold\n          : this.props.onHold,\n        disabled: controlBusy,\n      }\n    );\n\n    /* --------------------- Add/Merge --------------------------- */\n    if (this.props.conferenceCallEquipped) {\n      const showMerge = (\n        this.props.layout === callCtrlLayouts.mergeCtrl ||\n        (this.props.layout === callCtrlLayouts.normalCtrl && this.props.hasConferenceCall)\n      );\n      buttons.push(showMerge\n        ? {\n          icon: MergeIcon,\n          id: ACTIONS_CTRL_MAP.mergeOrAddCtrl,\n          title: i18n.getString('mergeToConference', this.props.currentLocale),\n          disabled: this.props.mergeDisabled || controlBusy,\n          onClick: this.props.onMerge,\n          showRipple: !this.props.mergeDisabled,\n        }\n        : {\n          icon: CombineIcon,\n          id: ACTIONS_CTRL_MAP.mergeOrAddCtrl,\n          title: i18n.getString('add', this.props.currentLocale),\n          disabled: this.props.addDisabled || controlBusy,\n          onClick: this.props.onAdd,\n        }\n      );\n    }\n\n    /* --------------------- Record/Stop --------------------------- */\n    buttons.push(\n      {\n        icon: RecordIcon,\n        id: ACTIONS_CTRL_MAP.recordCtrl,\n        title: this.props.recordStatus === recordStatus.recording\n          ? i18n.getString('stopRecord', this.props.currentLocale)\n          : i18n.getString('record', this.props.currentLocale),\n        active: this.props.recordStatus === recordStatus.recording,\n        disabled: (\n          this.props.isOnHold\n          || this.props.recordStatus === recordStatus.pending\n          || this.props.layout === callCtrlLayouts.mergeCtrl\n          || this.props.recordStatus === recordStatus.noAccess\n          || controlBusy\n        ),\n        onClick: this.props.recordStatus === recordStatus.recording\n          ? this.props.onStopRecord\n          : this.props.onRecord,\n      }\n    );\n\n    /* --------------------- Transfer --------------------------- */\n    const disabledTransfer = (\n      this.props.layout !== callCtrlLayouts.normalCtrl\n    );\n    buttons.push(\n      {\n        icon: TransferIcon,\n        id: ACTIONS_CTRL_MAP.transferCtrl,\n        title: i18n.getString('transfer', this.props.currentLocale),\n        disabled: disabledTransfer || controlBusy,\n        onClick: this.props.onToggleTransferPanel,\n      }\n    );\n\n    /* --------------------- Flip --------------------------- */\n    const disabledFlip = (\n      this.props.flipNumbers.length === 0\n      || this.props.isOnHold\n      || this.props.layout !== callCtrlLayouts.normalCtrl\n    );\n    buttons.push(\n      {\n        icon: FlipIcon,\n        id: ACTIONS_CTRL_MAP.flipCtrl,\n        title: i18n.getString('flip', this.props.currentLocale),\n        disabled: disabledFlip || controlBusy,\n        onClick: this.props.onShowFlipPanel,\n      }\n    );\n\n    // filter actions\n    const { actions } = this.props;\n    if (actions.length > 0) {\n      buttons = pickElements(actions, buttons);\n    }\n\n    /* --------------------- More Actions --------------------------- */\n    let moreActions = null;\n    if (buttons.length > DisplayButtonNumber) {\n      moreActions = (\n        <span\n          className={styles.moreButtonContainer}\n          ref={this.moreButton}\n        >\n          <ActiveCallButton\n            onClick={this.toggleMore}\n            title={i18n.getString('more', this.props.currentLocale)}\n            active={this.state.expandMore}\n            className={classnames(styles.moreButton, styles.callButton)}\n            disabled={disabledFlip && disabledTransfer || controlBusy}\n            icon={MoreIcon} />\n          <Tooltip\n            fixed={false}\n            open={this.state.expandMore}\n            direction=\"top\"\n            ref={this.dropdown}\n            triggerElm={this.state.moreButton}>\n            <div className={styles.buttonPopup}>\n              {\n                buttons.slice(DisplayButtonNumber - 1).map(({\n                  id,\n                  ...opts\n                }) => (<MoreActionItem\n                  key={id}\n                  {...opts}\n                />))\n              }\n            </div>\n          </Tooltip>\n        </span>\n      );\n    }\n\n    const isLessBtn = (buttons.length <= 3) && moreActions === null;\n    return (\n      <div className={classnames(styles.root, this.props.className)}>\n        <div className={classnames(styles.callCtrlButtonGroup, isLessBtn && styles.biggerButton)}>\n          <div className={styles.buttonRow}>\n            {\n              buttons.slice(0, DisplayButtonNumber - (moreActions ? 1 : 0)).map(opts => (\n                <ActiveCallButton\n                  key={opts.title}\n                  className={styles.callButton}\n                  {...opts}\n                />\n              ))\n            }\n            {moreActions}\n          </div>\n        </div>\n        <div className={classnames(styles.buttonRow, styles.stopButtonGroup)}>\n          <div className={styles.button}>\n            <CircleButton\n              className={classnames(\n                styles.stopButton,\n                controlBusy && styles.disabled,\n              )}\n              onClick={this.props.onHangup}\n              icon={EndIcon}\n              showBorder={false}\n              iconWidth={250}\n              iconX={125}\n              dataSign=\"hangup\"\n              disabled={controlBusy}\n            />\n          </div>\n        </div>\n      </div>\n    );\n  }\n}\n\nActiveCallPad.propTypes = {\n  currentLocale: PropTypes.string.isRequired,\n  className: PropTypes.string,\n  isOnMute: PropTypes.bool,\n  isOnHold: PropTypes.bool,\n  recordStatus: PropTypes.string.isRequired,\n  onMute: PropTypes.func.isRequired,\n  onUnmute: PropTypes.func.isRequired,\n  onHold: PropTypes.func.isRequired,\n  onUnhold: PropTypes.func.isRequired,\n  onRecord: PropTypes.func.isRequired,\n  onStopRecord: PropTypes.func.isRequired,\n  onHangup: PropTypes.func.isRequired,\n  // onPark: PropTypes.func.isRequired,\n  onShowKeyPad: PropTypes.func.isRequired,\n  onAdd: PropTypes.func,\n  onMerge: PropTypes.func,\n  onShowFlipPanel: PropTypes.func.isRequired,\n  onToggleTransferPanel: PropTypes.func.isRequired,\n  flipNumbers: PropTypes.array.isRequired,\n  layout: PropTypes.string,\n  addDisabled: PropTypes.bool,\n  mergeDisabled: PropTypes.bool,\n  conferenceCallEquipped: PropTypes.bool,\n  hasConferenceCall: PropTypes.bool,\n  expandMore: PropTypes.bool,\n  actions: PropTypes.array\n};\n\nActiveCallPad.defaultProps = {\n  className: null,\n  isOnMute: false,\n  isOnHold: false,\n  layout: callCtrlLayouts.normalCtrl,\n  addDisabled: false,\n  mergeDisabled: false,\n  conferenceCallEquipped: false,\n  hasConferenceCall: false,\n  onAdd: undefined,\n  onMerge: undefined,\n  expandMore: false,\n  actions: []\n};\n\nexport default ActiveCallPad;\n"],"file":"index.js"}