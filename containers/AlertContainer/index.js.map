{"version":3,"sources":["containers/AlertContainer/index.js"],"names":["mapToProps","_","phone","locale","alert","brand","currentLocale","messages","fullName","getDefaultRenderer","rateLimiter","routerInteraction","regionSettingsUrl","callingSettingsUrl","onRegionSettingsLinkClick","alertId","push","dismiss","onCallingSettingsLinkClick","message","AuthAlert","handleMessage","CallAlert","props","CallingSettingsAlert","RegionSettingsAlert","MessageSenderAlert","MessageStoreAlert","RateExceededAlert","timestamp","_throttleDuration","ConnectivityAlert","WebphoneAlert","MeetingAlert","appName","RolesAndPermissionsAlert","ConferenceAlert","ConferenceCallAlert","AudioSettingsAlert","CallLogAlert","CallControlAlert","AppInitialAlert","undefined","mapToFunctions","getRenderer","getAdditionalRenderer","additionalRenderer","renderer","id","AlertContainer","AnimationAlert"],"mappings":"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","sourcesContent":["import React from 'react';\nimport PropTypes from 'prop-types';\nimport { connect } from 'react-redux';\n\nimport Alert from 'ringcentral-integration/modules/Alert';\nimport Locale from 'ringcentral-integration/modules/Locale';\n\nimport AnimationAlert from '../../components/AnimationAlert';\n\nimport AuthAlert from '../../components/AuthAlert';\nimport CallAlert from '../../components/CallAlert';\nimport CallLogAlert from '../../components/CallLogAlert';\nimport CallingSettingsAlert from '../../components/CallingSettingsAlert';\nimport RegionSettingsAlert from '../../components/RegionSettingsAlert';\nimport MessageSenderAlert from '../../components/MessageSenderAlert';\nimport RateExceededAlert from '../../components/RateExceededAlert';\nimport ConnectivityAlert from '../../components/ConnectivityAlert';\nimport WebphoneAlert from '../../components/WebphoneAlert';\nimport MessageStoreAlert from '../../components/MessageStoreAlert';\nimport MeetingAlert from '../../components/MeetingAlert';\nimport AudioSettingsAlert from '../../components/AudioSettingsAlert';\nimport RolesAndPermissionsAlert from '../../components/RolesAndPermissionsAlert';\nimport { withPhone } from '../../lib/phoneContext';\nimport ConferenceAlert from '../../components/ConferenceAlert';\nimport ConferenceCallAlert from '../../components/ConferenceCallAlert';\nimport CallControlAlert from '../../components/CallControlAlert';\nimport AppInitialAlert from '../../components/AppInitialAlert';\n\nfunction mapToProps(_, {\n  phone: {\n    locale,\n    alert,\n    brand\n  },\n}) {\n  return {\n    currentLocale: locale.currentLocale,\n    messages: alert.messages,\n    brand: brand.fullName\n  };\n}\n\nfunction getDefaultRenderer({\n  rateLimiter,\n  brand,\n  alert,\n  routerInteraction,\n  regionSettingsUrl,\n  callingSettingsUrl,\n}) {\n  const onRegionSettingsLinkClick = ({ alertId } = {}) => {\n    routerInteraction.push(regionSettingsUrl);\n    if (alertId) {\n      alert.dismiss(alertId);\n    }\n  };\n  const onCallingSettingsLinkClick = () => {\n    routerInteraction.push(callingSettingsUrl);\n  };\n  return (message) => {\n    if (AuthAlert.handleMessage(message)) {\n      return AuthAlert;\n    }\n    if (CallAlert.handleMessage(message)) {\n      return props => (\n        <CallAlert\n          {...props}\n          brand={brand}\n          onAreaCodeLinkClick={onRegionSettingsLinkClick}\n        />\n      );\n    }\n    if (CallingSettingsAlert.handleMessage(message)) {\n      return props => (\n        <CallingSettingsAlert\n          {...props}\n          brand={brand.fullName}\n          onCallingSettingsLinkClick={onCallingSettingsLinkClick}\n        />\n      );\n    }\n\n    if (RegionSettingsAlert.handleMessage(message)) {\n      return props => (\n        <RegionSettingsAlert\n          {...props}\n          onRegionSettingsLinkClick={onRegionSettingsLinkClick}\n        />\n      );\n    }\n\n    if (MessageSenderAlert.handleMessage(message)) {\n      return props => (\n        <MessageSenderAlert\n          {...props}\n          brand={brand.fullName}\n          onAreaCodeLink={onRegionSettingsLinkClick}\n        />\n      );\n    }\n\n    if (MessageStoreAlert.handleMessage(message)) {\n      return MessageStoreAlert;\n    }\n\n    if (RateExceededAlert.handleMessage(message)) {\n      return props => (\n        <RateExceededAlert\n          {...props}\n          timestamp={rateLimiter.timestamp}\n          duration={rateLimiter._throttleDuration} />\n      );\n    }\n\n    if (ConnectivityAlert.handleMessage(message)) {\n      return ConnectivityAlert;\n    }\n\n    if (WebphoneAlert.handleMessage(message)) {\n      return props => (\n        <WebphoneAlert\n          {...props}\n          brand={brand}\n        />\n      );\n    }\n    if (MeetingAlert.handleMessage(message)) {\n      return props => (\n        <MeetingAlert\n          {...props}\n          application={brand.appName}\n        />\n      );\n    }\n    if (RolesAndPermissionsAlert.handleMessage(message)) {\n      return props => (\n        <RolesAndPermissionsAlert\n          {...props}\n          brand={brand.fullName}\n          application={brand.appName} />\n      );\n    }\n\n    if (ConferenceAlert.handleMessage(message)) {\n      return ConferenceAlert;\n    }\n\n    if (ConferenceCallAlert.handleMessage(message)) {\n      return ConferenceCallAlert;\n    }\n\n    if (AudioSettingsAlert.handleMessage(message)) {\n      return props => (\n        <AudioSettingsAlert\n          {...props}\n          application={brand.appName}\n        />\n      );\n    }\n\n    if (CallLogAlert.handleMessage(message)) {\n      return props => (\n        <CallLogAlert\n          {...props}\n        />\n      );\n    }\n    if (CallControlAlert.handleMessage(message)) {\n      return props => <CallControlAlert {...props} />;\n    }\n\n    if (AppInitialAlert.handleMessage(message)) {\n      return props => <AppInitialAlert {...props} />;\n    }\n\n    return undefined;\n  };\n}\n\nfunction mapToFunctions(_, {\n  phone: {\n    rateLimiter,\n    brand,\n    alert,\n    routerInteraction,\n  },\n  regionSettingsUrl,\n  callingSettingsUrl,\n  getRenderer = getDefaultRenderer({\n    rateLimiter,\n    brand,\n    alert,\n    routerInteraction,\n    regionSettingsUrl,\n    callingSettingsUrl,\n  }),\n  getAdditionalRenderer,\n}) {\n  const additionalRenderer = getAdditionalRenderer && getAdditionalRenderer();\n  return {\n    getRenderer(message) {\n      if (additionalRenderer) {\n        const renderer = additionalRenderer(message);\n        if (renderer) return renderer;\n      }\n      return getRenderer(message);\n    },\n    dismiss(id) {\n      alert.dismiss(id);\n    },\n  };\n}\n\nconst AlertContainer = withPhone(connect(\n  mapToProps,\n  mapToFunctions\n)(AnimationAlert));\n\nexport default AlertContainer;\n"],"file":"index.js"}