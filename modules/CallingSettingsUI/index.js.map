{"version":3,"sources":["modules/CallingSettingsUI/index.js"],"names":["CallingSettingsUI","name","deps","dep","optional","callingSettings","brand","locale","webphone","routerInteraction","options","_callingSettings","_brand","_locale","_webphone","_routerInteraction","fullName","currentLocale","callWithOptions","callWith","myLocation","ringoutPrompt","availableNumbers","disabled","sessions","length","showSpinner","onBackButtonClick","goBack","onSave","setData","ready","RcUIModule"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA;;AACA;;;;;;;;;;;;;;;;;;;;;;;;;;;;IAYqBA,iB,WAVpB,gBAAO;AACNC,EAAAA,IAAI,EAAE,mBADA;AAENC,EAAAA,IAAI,EAAE,CACJ,iBADI,EAEJ,OAFI,EAGJ,QAHI,EAIJ;AAAEC,IAAAA,GAAG,EAAE,UAAP;AAAmBC,IAAAA,QAAQ,EAAE;AAA7B,GAJI,EAKJ,mBALI;AAFA,CAAP,C;;;;;AAWC,mCAOG;AAAA;;AAAA,QANDC,eAMC,QANDA,eAMC;AAAA,QALDC,KAKC,QALDA,KAKC;AAAA,QAJDC,MAIC,QAJDA,MAIC;AAAA,QAHDC,QAGC,QAHDA,QAGC;AAAA,QAFDC,iBAEC,QAFDA,iBAEC;AAAA,QADDC,OACC,QADDA,OACC;;AAAA;;AACD,6GAAWA,OAAX;AACA,UAAKC,gBAAL,GAAwBN,eAAxB;AACA,UAAKO,MAAL,GAAcN,KAAd;AACA,UAAKO,OAAL,GAAeN,MAAf;AACA,UAAKO,SAAL,GAAiBN,QAAjB;AACA,UAAKO,kBAAL,GAA0BN,iBAA1B;AANC;AAOF;;;;iCAYY;AACX,aAAO;AACLH,QAAAA,KAAK,EAAE,KAAKM,MAAL,CAAYI,QADd;AAELC,QAAAA,aAAa,EAAE,KAAKJ,OAAL,CAAaI,aAFvB;AAGLC,QAAAA,eAAe,EAAE,KAAKP,gBAAL,CAAsBO,eAHlC;AAILC,QAAAA,QAAQ,EAAE,KAAKR,gBAAL,CAAsBQ,QAJ3B;AAKLC,QAAAA,UAAU,EAAE,KAAKT,gBAAL,CAAsBS,UAL7B;AAMLC,QAAAA,aAAa,EAAE,KAAKV,gBAAL,CAAsBU,aANhC;AAOLC,QAAAA,gBAAgB,EAAE,KAAKX,gBAAL,CAAsBW,gBAPnC;AAQLC,QAAAA,QAAQ,EAAE,CAAC,EAAE,KAAKT,SAAL,IAAkB,KAAKA,SAAL,CAAeU,QAAf,CAAwBC,MAAxB,GAAiC,CAArD,CARN;AASLC,QAAAA,WAAW,EAAE,KAAKA;AATb,OAAP;AAWD;;;qCAEgB;AAAA;;AACf,aAAO;AACLC,QAAAA,iBAAiB,EAAE;AAAA,iBAAM,MAAI,CAACZ,kBAAL,CAAwBa,MAAxB,EAAN;AAAA,SADd;AAELC,QAAAA,MAAM,EAAE;AAAA,cAAGV,QAAH,SAAGA,QAAH;AAAA,cAAaC,UAAb,SAAaA,UAAb;AAAA,cAAyBC,aAAzB,SAAyBA,aAAzB;AAAA,iBAA6C,MAAI,CAACV,gBAAL,CAAsBmB,OAAtB,CAA8B;AACjFX,YAAAA,QAAQ,EAARA,QADiF;AAEjFC,YAAAA,UAAU,EAAVA,UAFiF;AAGjFC,YAAAA,aAAa,EAAbA;AAHiF,WAA9B,EAIlD,IAJkD,CAA7C;AAAA;AAFH,OAAP;AAQD;;;wBAjCiB;AAChB,aAAO,EACL,KAAKV,gBAAL,CAAsBoB,KAAtB,IACA,KAAKnB,MAAL,CAAYmB,KADZ,IAEA,KAAKlB,OAAL,CAAakB,KAFb,KAGC,CAAC,KAAKjB,SAAN,IAAmB,KAAKA,SAAL,CAAeiB,KAHnC,KAIA,KAAKhB,kBAAL,CAAwBgB,KALnB,CAAP;AAOD;;;;EAzB4CC,oB","sourcesContent":["import { Module } from 'ringcentral-integration/lib/di';\nimport RcUIModule from '../../lib/RcUIModule';\n\n@Module({\n  name: 'CallingSettingsUI',\n  deps: [\n    'CallingSettings',\n    'Brand',\n    'Locale',\n    { dep: 'Webphone', optional: true },\n    'RouterInteraction',\n  ]\n})\nexport default class CallingSettingsUI extends RcUIModule {\n  constructor({\n    callingSettings,\n    brand,\n    locale,\n    webphone,\n    routerInteraction,\n    options\n  }) {\n    super({ ...options });\n    this._callingSettings = callingSettings;\n    this._brand = brand;\n    this._locale = locale;\n    this._webphone = webphone;\n    this._routerInteraction = routerInteraction;\n  }\n\n  get showSpinner() {\n    return !(\n      this._callingSettings.ready &&\n      this._brand.ready &&\n      this._locale.ready &&\n      (!this._webphone || this._webphone.ready) &&\n      this._routerInteraction.ready\n    );\n  }\n\n  getUIProps() {\n    return {\n      brand: this._brand.fullName,\n      currentLocale: this._locale.currentLocale,\n      callWithOptions: this._callingSettings.callWithOptions,\n      callWith: this._callingSettings.callWith,\n      myLocation: this._callingSettings.myLocation,\n      ringoutPrompt: this._callingSettings.ringoutPrompt,\n      availableNumbers: this._callingSettings.availableNumbers,\n      disabled: !!(this._webphone && this._webphone.sessions.length > 0),\n      showSpinner: this.showSpinner,\n    };\n  }\n\n  getUIFunctions() {\n    return {\n      onBackButtonClick: () => this._routerInteraction.goBack(),\n      onSave: ({ callWith, myLocation, ringoutPrompt }) => this._callingSettings.setData({\n        callWith,\n        myLocation,\n        ringoutPrompt,\n      }, true),\n    };\n  }\n}\n"],"file":"index.js"}