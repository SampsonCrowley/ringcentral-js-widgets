{"version":3,"sources":["modules/MeetingUI/index.ts"],"names":["MeetingUI","name","deps","meeting","locale","rateLimiter","connectivityMonitor","options","_meeting","_locale","_rateLimiter","_connectivityMonitor","disabled","showWhen","showDuration","showRecurringMeeting","openNewWindow","currentLocale","isScheduling","connectivity","throttling","showSaveAsDefault","schedule","update","meetingState","invite","meetingInfo","opener","init","RcUIModule"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA;;AAOA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;IAWqBA,S,WATpB,gBAAO;AACNC,EAAAA,IAAI,EAAE,WADA;AAENC,EAAAA,IAAI,EAAE,CACJ,SADI,EAEJ,QAFI,EAGJ,aAHI,EAIJ,qBAJI;AAFA,CAAP,C;;;;;AAcC,2BAMG;AAAA;;AAAA,QALDC,OAKC,QALDA,OAKC;AAAA,QAJDC,MAIC,QAJDA,MAIC;AAAA,QAHDC,WAGC,QAHDA,WAGC;AAAA,QAFDC,mBAEC,QAFDA,mBAEC;AAAA,QADEC,OACF;;AAAA;;AACD,qGACKA,OADL;AADC,UAVHC,QAUG;AAAA,UATHC,OASG;AAAA,UARHC,YAQG;AAAA,UAPHC,oBAOG;AAID,UAAKH,QAAL,GAAgBL,OAAhB;AACA,UAAKM,OAAL,GAAeL,MAAf;AACA,UAAKM,YAAL,GAAoBL,WAApB;AACA,UAAKM,oBAAL,GAA4BL,mBAA5B;AAPC;AAQF;;;;sCAEqF;AAAA,UAAzEM,QAAyE,SAAzEA,QAAyE;AAAA,UAA/DC,QAA+D,SAA/DA,QAA+D;AAAA,UAArDC,YAAqD,SAArDA,YAAqD;AAAA,UAAvCC,oBAAuC,SAAvCA,oBAAuC;AAAA,UAAjBC,aAAiB,SAAjBA,aAAiB;AACpF,aAAO;AACLb,QAAAA,OAAO,EAAE,KAAKK,QAAL,CAAcL,OAAd,IAAyB,EAD7B;AAELc,QAAAA,aAAa,EAAE,KAAKR,OAAL,CAAaQ,aAFvB;AAGLL,QAAAA,QAAQ,EACN,KAAKJ,QAAL,CAAcU,YAAd,IACAN,QADA,IAEA,CAAC,KAAKD,oBAAL,CAA0BQ,YAF3B,IAGC,KAAKT,YAAL,IAAqB,KAAKA,YAAL,CAAkBU,UAPrC;AASLP,QAAAA,QAAQ,EAARA,QATK;AAULC,QAAAA,YAAY,EAAZA,YAVK;AAWLC,QAAAA,oBAAoB,EAApBA,oBAXK;AAYLC,QAAAA,aAAa,EAAbA,aAZK;AAaLK,QAAAA,iBAAiB,EAAE,KAAKb,QAAL,CAAca;AAb5B,OAAP;AAeD;;;0CAE4B;AAAA;;AAAA,UAAZC,QAAY,SAAZA,QAAY;AAC3B,aAAO;AACLC,QAAAA,MAAM,EAAE,gBAAAC,YAAY;AAAA,iBAAI,MAAI,CAAChB,QAAL,CAAce,MAAd,CAAqBC,YAArB,CAAJ;AAAA,SADf;AAELC,QAAAA,MAAM;AAAA;AAAA;AAAA,kCAAE,iBAAOC,WAAP,EAAoBC,MAApB;AAAA;AAAA;AAAA;AAAA;AAAA,yBACFL,QADE;AAAA;AAAA;AAAA;;AAAA;AAAA,2BAEEA,QAAQ,CAACI,WAAD,EAAcC,MAAd,CAFV;;AAAA;AAAA;;AAAA;AAAA;AAAA,2BAKA,MAAI,CAACnB,QAAL,CAAcc,QAAd,CAAuBI,WAAvB,EAAoC,EAApC,EAAwCC,MAAxC,CALA;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,WAAF;;AAAA;AAAA;AAAA;;AAAA;AAAA,WAFD;AASLC,QAAAA,IAAI,EAAE;AAAA,iBAAM,MAAI,CAACpB,QAAL,CAAcoB,IAAd,EAAN;AAAA;AATD,OAAP;AAWD;;;;EAnDoCC,uB","sourcesContent":["import { Module } from 'ringcentral-integration/lib/di';\nimport proxify from 'ringcentral-integration/lib/proxy/proxify';\nimport callErrors from 'ringcentral-integration/modules/Call/callErrors';\nimport Enum from 'ringcentral-integration/lib/Enum';\nimport callingModes from 'ringcentral-integration/modules/CallingSettings/callingModes';\nimport formatNumber from 'ringcentral-integration/lib/formatNumber';\nimport { selector } from 'ringcentral-integration/lib/selector';\nimport RcUIModule from '../../lib/RcUIModule';\n\n@Module({\n  name: 'MeetingUI',\n  deps: [\n    'Meeting',\n    'Locale',\n    'RateLimiter',\n    'ConnectivityMonitor'\n  ],\n})\nexport default class MeetingUI extends RcUIModule {\n  _meeting: any;\n  _locale: any;\n  _rateLimiter: any;\n  _connectivityMonitor: any;\n  constructor({\n    meeting,\n    locale,\n    rateLimiter,\n    connectivityMonitor,\n    ...options\n  }) {\n    super({\n      ...options,\n    });\n    this._meeting = meeting;\n    this._locale = locale;\n    this._rateLimiter = rateLimiter;\n    this._connectivityMonitor = connectivityMonitor;\n  }\n\n  getUIProps({ disabled, showWhen, showDuration, showRecurringMeeting, openNewWindow }) {\n    return {\n      meeting: this._meeting.meeting || {},\n      currentLocale: this._locale.currentLocale,\n      disabled: (\n        this._meeting.isScheduling ||\n        disabled ||\n        !this._connectivityMonitor.connectivity ||\n        (this._rateLimiter && this._rateLimiter.throttling)\n      ),\n      showWhen,\n      showDuration,\n      showRecurringMeeting,\n      openNewWindow,\n      showSaveAsDefault: this._meeting.showSaveAsDefault,\n    };\n  }\n\n  getUIFunctions({ schedule }) {\n    return {\n      update: meetingState => this._meeting.update(meetingState),\n      invite: async (meetingInfo, opener) => {\n        if (schedule) {\n          await schedule(meetingInfo, opener);\n          return;\n        }\n        await this._meeting.schedule(meetingInfo, {}, opener);\n      },\n      init: () => this._meeting.init(),\n    };\n  }\n}\n"],"file":"index.js"}