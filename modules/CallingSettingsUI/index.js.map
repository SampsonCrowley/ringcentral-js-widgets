{"version":3,"sources":["modules/CallingSettingsUI/index.js"],"names":["CallingSettingsUI","name","deps","dep","optional","callingSettings","brand","locale","webphone","routerInteraction","options","_callingSettings","_brand","_locale","_webphone","_routerInteraction","fullName","currentLocale","callWithOptions","callWith","myLocation","ringoutPrompt","availableNumbers","disabled","sessions","length","showSpinner","onBackButtonClick","goBack","onSave","setData","ready","RcUIModule"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA;;AACA;;;;;;IAYqBA,iB,WAVpB,gBAAO;AACNC,QAAM,mBADA;AAENC,QAAM,CACJ,iBADI,EAEJ,OAFI,EAGJ,QAHI,EAIJ,EAAEC,KAAK,UAAP,EAAmBC,UAAU,IAA7B,EAJI,EAKJ,mBALI;AAFA,CAAP,C;;;AAWC,mCAOG;AAAA,QANDC,eAMC,QANDA,eAMC;AAAA,QALDC,KAKC,QALDA,KAKC;AAAA,QAJDC,MAIC,QAJDA,MAIC;AAAA,QAHDC,QAGC,QAHDA,QAGC;AAAA,QAFDC,iBAEC,QAFDA,iBAEC;AAAA,QADDC,OACC,QADDA,OACC;AAAA;;AAAA,uLACUA,OADV;;AAED,UAAKC,gBAAL,GAAwBN,eAAxB;AACA,UAAKO,MAAL,GAAcN,KAAd;AACA,UAAKO,OAAL,GAAeN,MAAf;AACA,UAAKO,SAAL,GAAiBN,QAAjB;AACA,UAAKO,kBAAL,GAA0BN,iBAA1B;AANC;AAOF;;;;iCAYY;AACX,aAAO;AACLH,eAAO,KAAKM,MAAL,CAAYI,QADd;AAELC,uBAAe,KAAKJ,OAAL,CAAaI,aAFvB;AAGLC,yBAAiB,KAAKP,gBAAL,CAAsBO,eAHlC;AAILC,kBAAU,KAAKR,gBAAL,CAAsBQ,QAJ3B;AAKLC,oBAAY,KAAKT,gBAAL,CAAsBS,UAL7B;AAMLC,uBAAe,KAAKV,gBAAL,CAAsBU,aANhC;AAOLC,0BAAkB,KAAKX,gBAAL,CAAsBW,gBAPnC;AAQLC,kBAAU,CAAC,EAAE,KAAKT,SAAL,IAAkB,KAAKA,SAAL,CAAeU,QAAf,CAAwBC,MAAxB,GAAiC,CAArD,CARN;AASLC,qBAAa,KAAKA;AATb,OAAP;AAWD;;;qCAEgB;AAAA;;AACf,aAAO;AACLC,2BAAmB;AAAA,iBAAM,OAAKZ,kBAAL,CAAwBa,MAAxB,EAAN;AAAA,SADd;AAELC,gBAAQ;AAAA,cAAGV,QAAH,SAAGA,QAAH;AAAA,cAAaC,UAAb,SAAaA,UAAb;AAAA,cAAyBC,aAAzB,SAAyBA,aAAzB;AAAA,iBAA6C,OAAKV,gBAAL,CAAsBmB,OAAtB,CAA8B;AACjFX,8BADiF;AAEjFC,kCAFiF;AAGjFC;AAHiF,WAA9B,EAIlD,IAJkD,CAA7C;AAAA;AAFH,OAAP;AAQD;;;wBAjCiB;AAChB,aAAO,EACL,KAAKV,gBAAL,CAAsBoB,KAAtB,IACA,KAAKnB,MAAL,CAAYmB,KADZ,IAEA,KAAKlB,OAAL,CAAakB,KAFb,KAGC,CAAC,KAAKjB,SAAN,IAAmB,KAAKA,SAAL,CAAeiB,KAHnC,KAIA,KAAKhB,kBAAL,CAAwBgB,KALnB,CAAP;AAOD;;;EAzB4CC,oB;kBAA1BhC,iB","file":"index.js","sourcesContent":["import { Module } from 'ringcentral-integration/lib/di';\nimport RcUIModule from '../../lib/RcUIModule';\n\n@Module({\n  name: 'CallingSettingsUI',\n  deps: [\n    'CallingSettings',\n    'Brand',\n    'Locale',\n    { dep: 'Webphone', optional: true },\n    'RouterInteraction',\n  ]\n})\nexport default class CallingSettingsUI extends RcUIModule {\n  constructor({\n    callingSettings,\n    brand,\n    locale,\n    webphone,\n    routerInteraction,\n    options\n  }) {\n    super({ ...options });\n    this._callingSettings = callingSettings;\n    this._brand = brand;\n    this._locale = locale;\n    this._webphone = webphone;\n    this._routerInteraction = routerInteraction;\n  }\n\n  get showSpinner() {\n    return !(\n      this._callingSettings.ready &&\n      this._brand.ready &&\n      this._locale.ready &&\n      (!this._webphone || this._webphone.ready) &&\n      this._routerInteraction.ready\n    );\n  }\n\n  getUIProps() {\n    return {\n      brand: this._brand.fullName,\n      currentLocale: this._locale.currentLocale,\n      callWithOptions: this._callingSettings.callWithOptions,\n      callWith: this._callingSettings.callWith,\n      myLocation: this._callingSettings.myLocation,\n      ringoutPrompt: this._callingSettings.ringoutPrompt,\n      availableNumbers: this._callingSettings.availableNumbers,\n      disabled: !!(this._webphone && this._webphone.sessions.length > 0),\n      showSpinner: this.showSpinner,\n    };\n  }\n\n  getUIFunctions() {\n    return {\n      onBackButtonClick: () => this._routerInteraction.goBack(),\n      onSave: ({ callWith, myLocation, ringoutPrompt }) => this._callingSettings.setData({\n        callWith,\n        myLocation,\n        ringoutPrompt,\n      }, true),\n    };\n  }\n}\n"]}