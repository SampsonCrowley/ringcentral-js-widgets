{"version":3,"sources":["lib/createModal/index.js"],"names":["createModal","Comp","props","_container","document","createElement","root","appendDOM","context","modalRoot","current","body","appendChild","parentNode","removeChild","className","maskClassName","modalClassName","show","onClose","clickOutToClose","onClick","styles","container","containerHidden","mask","maskHidden","undefined","modal","modalHidden","ReactDOM","createPortal","renderDialog","Component","propTypes","string","bool","func","object","defaultProps","contextTypes"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA;;AACA;;AACA;;AACA;;AAEA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAEA;AACe,SAASA,WAAT,CAAqBC,IAArB,EAA2B;AAAA;;AACxC;AAAA;AAAA;AAAA;;AAsBE,oBAAYC,KAAZ,EAAmB;AAAA;;AAAA;;AACjB,kFAAMA,KAAN;AACA,YAAKC,UAAL,GAAkBC,QAAQ,CAACC,aAAT,CAAuB,KAAvB,CAAlB;AAFiB;AAGlB;;AAzBH;AAAA;AAAA,0CA0BsB;AAClB,YAAMC,IAAI,GACR,KAAKJ,KAAL,CAAWK,SAAX,IACC,KAAKC,OAAL,CAAaC,SAAb,IAA0B,KAAKD,OAAL,CAAaC,SAAb,CAAuBC,OADlD,IAEAN,QAAQ,CAACO,IAHX;AAKAL,QAAAA,IAAI,CAACM,WAAL,CAAiB,KAAKT,UAAtB;AACD;AAjCH;AAAA;AAAA,6CAkCyB;AACrB,YAAI,KAAKA,UAAL,CAAgBU,UAApB,EAAgC;AAC9B,eAAKV,UAAL,CAAgBU,UAAhB,CAA2BC,WAA3B,CAAuC,KAAKX,UAA5C;AACD;AACF;AAtCH;AAAA;AAAA,qCAuCiB;AAAA,0BAST,KAAKD,KATI;AAAA,YAEXa,SAFW,eAEXA,SAFW;AAAA,YAGXC,aAHW,eAGXA,aAHW;AAAA,YAIXC,cAJW,eAIXA,cAJW;AAAA,YAKXC,IALW,eAKXA,IALW;AAAA,YAMXC,OANW,eAMXA,OANW;AAAA,YAOXC,eAPW,eAOXA,eAPW;AAAA,YAQRlB,KARQ;;AAUb,YAAMmB,OAAO,GAAGD,eAAe,GAAGD,OAAH,GAAa,YAAM,CAAG,CAArD;AACA,eACE;AAAK,UAAA,SAAS,EAAED,IAAI,GAAG,4BAAWI,mBAAOC,SAAlB,EAA6BR,SAA7B,CAAH,GAA6CO,mBAAOE;AAAxE,WACE;AACE,UAAA,SAAS,EAAEN,IAAI,GAAG,4BAAWI,mBAAOG,IAAlB,EAAwBT,aAAxB,CAAH,GAA4CM,mBAAOI,UADpE;AAEE,UAAA,OAAO,EAAEL;AAFX,UADF,EAKE;AAAK,uBAAWH,IAAI,GAAG,aAAH,GAAmBS,SAAvC;AAAkD,UAAA,SAAS,EAAET,IAAI,GAAG,4BAAWI,mBAAOM,KAAlB,EAAyBX,cAAzB,CAAH,GAA8CK,mBAAOO;AAAtH,WACE,gCAAC,IAAD,EACM3B,KADN,CADF,CALF,CADF;AAaD;AA/DH;AAAA;AAAA,+BAgEW;AACP,eAAO4B,qBAASC,YAAT,CACL,KAAKC,YAAL,EADK,EAEL,KAAK7B,UAFA,CAAP;AAID;AArEH;;AAAA;AAAA,IAA4B8B,gBAA5B,UACSC,SADT,GACqB;AACjBnB,IAAAA,SAAS,EAAEmB,sBAAUC,MADJ;AAEjBlB,IAAAA,cAAc,EAAEiB,sBAAUC,MAFT;AAGjBjB,IAAAA,IAAI,EAAEgB,sBAAUE,IAHC;AAIjBjB,IAAAA,OAAO,EAAEe,sBAAUG,IAJF;AAKjBjB,IAAAA,eAAe,EAAEc,sBAAUE,IALV;AAMjB7B,IAAAA,SAAS,EAAE2B,sBAAUI,MANJ;AAOjBtB,IAAAA,aAAa,EAAEkB,sBAAUC;AAPR,GADrB,SAUSI,YAVT,GAUwB;AACpBxB,IAAAA,SAAS,EAAE,EADS;AAEpBE,IAAAA,cAAc,EAAE,EAFI;AAGpBC,IAAAA,IAAI,EAAE,KAHc;AAIpBC,IAAAA,OAAO,EAAEQ,SAJW;AAKpBP,IAAAA,eAAe,EAAE,KALG;AAMpBb,IAAAA,SAAS,EAAEoB,SANS;AAOpBX,IAAAA,aAAa,EAAEW;AAPK,GAVxB,SAmBSa,YAnBT,GAmBwB;AACpB/B,IAAAA,SAAS,EAAEyB,sBAAUI;AADD,GAnBxB;AAuED","sourcesContent":["import React, { Component } from 'react';\nimport ReactDOM from 'react-dom';\nimport propTypes from 'prop-types';\nimport classnames from 'classnames';\n\nimport styles from './styles.scss';\n\n// TODO: consider refactoring onClose + clickOutToClose to onOverlayClick\nexport default function createModal(Comp) {\n  return class KModal extends Component {\n    static propTypes = {\n      className: propTypes.string,\n      modalClassName: propTypes.string,\n      show: propTypes.bool,\n      onClose: propTypes.func,\n      clickOutToClose: propTypes.bool,\n      appendDOM: propTypes.object,\n      maskClassName: propTypes.string,\n    }\n    static defaultProps = {\n      className: '',\n      modalClassName: '',\n      show: false,\n      onClose: undefined,\n      clickOutToClose: false,\n      appendDOM: undefined,\n      maskClassName: undefined,\n    }\n    static contextTypes = {\n      modalRoot: propTypes.object,\n    }\n    constructor(props) {\n      super(props);\n      this._container = document.createElement('div');\n    }\n    componentDidMount() {\n      const root = (\n        this.props.appendDOM ||\n        (this.context.modalRoot && this.context.modalRoot.current) ||\n        document.body\n      );\n      root.appendChild(this._container);\n    }\n    componentWillUnmount() {\n      if (this._container.parentNode) {\n        this._container.parentNode.removeChild(this._container);\n      }\n    }\n    renderDialog() {\n      const {\n        className,\n        maskClassName,\n        modalClassName,\n        show,\n        onClose,\n        clickOutToClose,\n        ...props\n      } = this.props;\n      const onClick = clickOutToClose ? onClose : () => { };\n      return (\n        <div className={show ? classnames(styles.container, className) : styles.containerHidden}>\n          <div\n            className={show ? classnames(styles.mask, maskClassName) : styles.maskHidden}\n            onClick={onClick}\n          />\n          <div data-sign={show ? 'deleteModal' : undefined} className={show ? classnames(styles.modal, modalClassName) : styles.modalHidden}>\n            <Comp\n              {...props}\n            />\n          </div>\n        </div>\n      );\n    }\n    render() {\n      return ReactDOM.createPortal(\n        this.renderDialog(),\n        this._container,\n      );\n    }\n  };\n}\n"],"file":"index.js"}