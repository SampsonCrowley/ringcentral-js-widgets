{"version":3,"sources":["lib/createModal/index.js"],"names":["createModal","Comp","props","_container","document","createElement","root","appendDOM","context","modalRoot","current","body","appendChild","parentNode","removeChild","className","maskClassName","modalClassName","show","onClose","clickOutToClose","onClick","styles","container","containerHidden","mask","maskHidden","modal","modalHidden","ReactDOM","createPortal","renderDialog","Component","propTypes","string","bool","func","object","defaultProps","undefined","contextTypes"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;AAAA;;AACA;;AACA;;AACA;;AAEA;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAEA;AACe,SAASA,WAAT,CAAqBC,IAArB,EAA2B;AAAA;;AACxC;AAAA;AAAA;AAAA;;AAsBE,oBAAYC,KAAZ,EAAmB;AAAA;;AAAA;;AACjB,kFAAMA,KAAN;AACA,YAAKC,UAAL,GAAkBC,QAAQ,CAACC,aAAT,CAAuB,KAAvB,CAAlB;AAFiB;AAGlB;;AAzBH;AAAA;AAAA,0CA0BsB;AAClB,YAAMC,IAAI,GACR,KAAKJ,KAAL,CAAWK,SAAX,IACC,KAAKC,OAAL,CAAaC,SAAb,IAA0B,KAAKD,OAAL,CAAaC,SAAb,CAAuBC,OADlD,IAEAN,QAAQ,CAACO,IAHX;AAKAL,QAAAA,IAAI,CAACM,WAAL,CAAiB,KAAKT,UAAtB;AACD;AAjCH;AAAA;AAAA,6CAkCyB;AACrB,YAAI,KAAKA,UAAL,CAAgBU,UAApB,EAAgC;AAC9B,eAAKV,UAAL,CAAgBU,UAAhB,CAA2BC,WAA3B,CAAuC,KAAKX,UAA5C;AACD;AACF;AAtCH;AAAA;AAAA,qCAuCiB;AAAA,0BAST,KAAKD,KATI;AAAA,YAEXa,SAFW,eAEXA,SAFW;AAAA,YAGXC,aAHW,eAGXA,aAHW;AAAA,YAIXC,cAJW,eAIXA,cAJW;AAAA,YAKXC,IALW,eAKXA,IALW;AAAA,YAMXC,OANW,eAMXA,OANW;AAAA,YAOXC,eAPW,eAOXA,eAPW;AAAA,YAQRlB,KARQ;;AAUb,YAAMmB,OAAO,GAAGD,eAAe,GAAGD,OAAH,GAAa,YAAM,CAAE,CAApD;AACA,eACE;AAAK,UAAA,SAAS,EAAED,IAAI,GAAG,yBAAWI,gBAAOC,SAAlB,EAA6BR,SAA7B,CAAH,GAA6CO,gBAAOE;AAAxE,WACE;AACE,UAAA,SAAS,EAAEN,IAAI,GAAG,yBAAWI,gBAAOG,IAAlB,EAAwBT,aAAxB,CAAH,GAA4CM,gBAAOI,UADpE;AAEE,UAAA,OAAO,EAAEL;AAFX,UADF,EAKE;AAAK,UAAA,SAAS,EAAEH,IAAI,GAAG,yBAAWI,gBAAOK,KAAlB,EAAyBV,cAAzB,CAAH,GAA8CK,gBAAOM;AAAzE,WACE,6BAAC,IAAD,EACM1B,KADN,CADF,CALF,CADF;AAaD;AA/DH;AAAA;AAAA,+BAgEW;AACP,eAAO2B,kBAASC,YAAT,CACL,KAAKC,YAAL,EADK,EAEL,KAAK5B,UAFA,CAAP;AAID;AArEH;;AAAA;AAAA,IAA4B6B,gBAA5B,UACSC,SADT,GACqB;AACjBlB,IAAAA,SAAS,EAAEkB,mBAAUC,MADJ;AAEjBjB,IAAAA,cAAc,EAAEgB,mBAAUC,MAFT;AAGjBhB,IAAAA,IAAI,EAAEe,mBAAUE,IAHC;AAIjBhB,IAAAA,OAAO,EAAEc,mBAAUG,IAJF;AAKjBhB,IAAAA,eAAe,EAAEa,mBAAUE,IALV;AAMjB5B,IAAAA,SAAS,EAAE0B,mBAAUI,MANJ;AAOjBrB,IAAAA,aAAa,EAAEiB,mBAAUC;AAPR,GADrB,SAUSI,YAVT,GAUwB;AACpBvB,IAAAA,SAAS,EAAE,EADS;AAEpBE,IAAAA,cAAc,EAAE,EAFI;AAGpBC,IAAAA,IAAI,EAAE,KAHc;AAIpBC,IAAAA,OAAO,EAAEoB,SAJW;AAKpBnB,IAAAA,eAAe,EAAE,KALG;AAMpBb,IAAAA,SAAS,EAAEgC,SANS;AAOpBvB,IAAAA,aAAa,EAAEuB;AAPK,GAVxB,SAmBSC,YAnBT,GAmBwB;AACpB/B,IAAAA,SAAS,EAAEwB,mBAAUI;AADD,GAnBxB;AAuED","sourcesContent":["import React, { Component } from 'react';\nimport ReactDOM from 'react-dom';\nimport propTypes from 'prop-types';\nimport classnames from 'classnames';\n\nimport styles from './styles.scss';\n\n// TODO: consider refactoring onClose + clickOutToClose to onOverlayClick\nexport default function createModal(Comp) {\n  return class KModal extends Component {\n    static propTypes = {\n      className: propTypes.string,\n      modalClassName: propTypes.string,\n      show: propTypes.bool,\n      onClose: propTypes.func,\n      clickOutToClose: propTypes.bool,\n      appendDOM: propTypes.object,\n      maskClassName: propTypes.string,\n    }\n    static defaultProps = {\n      className: '',\n      modalClassName: '',\n      show: false,\n      onClose: undefined,\n      clickOutToClose: false,\n      appendDOM: undefined,\n      maskClassName: undefined,\n    }\n    static contextTypes = {\n      modalRoot: propTypes.object,\n    }\n    constructor(props) {\n      super(props);\n      this._container = document.createElement('div');\n    }\n    componentDidMount() {\n      const root = (\n        this.props.appendDOM ||\n        (this.context.modalRoot && this.context.modalRoot.current) ||\n        document.body\n      );\n      root.appendChild(this._container);\n    }\n    componentWillUnmount() {\n      if (this._container.parentNode) {\n        this._container.parentNode.removeChild(this._container);\n      }\n    }\n    renderDialog() {\n      const {\n        className,\n        maskClassName,\n        modalClassName,\n        show,\n        onClose,\n        clickOutToClose,\n        ...props\n      } = this.props;\n      const onClick = clickOutToClose ? onClose : () => {};\n      return (\n        <div className={show ? classnames(styles.container, className) : styles.containerHidden}>\n          <div\n            className={show ? classnames(styles.mask, maskClassName) : styles.maskHidden}\n            onClick={onClick}\n          />\n          <div className={show ? classnames(styles.modal, modalClassName) : styles.modalHidden}>\n            <Comp\n              {...props}\n            />\n          </div>\n        </div>\n      );\n    }\n    render() {\n      return ReactDOM.createPortal(\n        this.renderDialog(),\n        this._container,\n      );\n    }\n  };\n}\n"],"file":"index.js"}