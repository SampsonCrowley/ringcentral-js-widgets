{"version":3,"sources":["components/CarrouselBar/index.js"],"names":["DEFAULT_SCROLL_INTERVAL","CarrouselBar","props","state","currentIndex","showAnimation","animationMode","timeout","setInterval","setState","prevState","validChildren","length","scrollInterval","nextProps","children","getValidChildren","clearTimeout","React","Children","toArray","styles","root","Component","propTypes","PropTypes","node","number","defaultProps","undefined"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA;;;;AACA;;;;AACA;;;;;;AAEA,IAAMA,0BAA0B,IAAhC;;IACqBC,Y;;;AACnB,wBAAYC,KAAZ,EAAmB;AAAA;;AAAA,kJACXA,KADW;;AAEjB,UAAKC,KAAL,GAAa;AACXC,oBAAc,CADH;AAEXC,qBAAe,KAFJ;AAGXC,qBAAe;AAHJ,KAAb;AAFiB;AAOlB;;;;wCACmB;AAAA;;AAClB,WAAKC,OAAL,GAAeC,YAAY,YAAM;AAC/B,eAAKC,QAAL,CAAc;AAAA,iBAAc;AAC1BL,0BAAcM,UAAUN,YAAV,IAA0B,OAAKO,aAAL,CAAmBC,MAAnB,GAA4B,CAAtD,GACZ,CADY,GACRF,UAAUN,YAAV,GAAyB,CAFL;AAG1BC,2BAAe,IAHW;AAI1BC,2BAAeI,UAAUJ,aAAV,KAA4B,MAA5B,GAAqC,QAArC,GAAgD;AAJrC,WAAd;AAAA,SAAd;AAMD,OAPc,EAOZ,KAAKJ,KAAL,CAAWW,cAPC,CAAf;AAQD;;;8CACyBC,S,EAAW;AACnC,UAAIA,UAAUC,QAAV,KAAuB,KAAKb,KAAL,CAAWa,QAAtC,EAAgD;AAC9C,aAAKJ,aAAL,GAAqB,KAAKK,gBAAL,CAAsBF,UAAUC,QAAhC,CAArB;AACD;AACF;;;2CACsB;AACrBE,mBAAa,KAAKV,OAAlB;AACA,WAAKA,OAAL,GAAe,IAAf;AACD;;;qCACgBQ,Q,EAAU;AACzB;AACA,aAAOG,gBAAMC,QAAN,CAAeC,OAAf,CAAuBL,QAAvB,CAAP;AACD;;;6BACQ;AACP,WAAKJ,aAAL,GAAqB,KAAKK,gBAAL,CAAsB,KAAKd,KAAL,CAAWa,QAAjC,CAArB;AACA,UAAI,KAAKJ,aAAL,CAAmBC,MAAnB,GAA4B,CAAhC,EAAmC;AACjC,eAAO,KAAKV,KAAL,CAAWa,QAAlB;AACD;AACD,aACE;AAAA;AAAA,UAAK,WAAWM,iBAAOC,IAAvB;AACE;AAAA;AAAA,YAAK,WAAW,KAAKnB,KAAL,CAAWE,aAAX,GAA2BgB,iBAAO,KAAKlB,KAAL,CAAWG,aAAlB,CAA3B,GAA8D,IAA9E;AACG,eAAKK,aAAL,CAAmB,KAAKR,KAAL,CAAWC,YAA9B;AADH;AADF,OADF;AAOD;;;EA5CuCmB,gB;;kBAArBtB,Y;;;AA+CrBA,aAAauB,SAAb,GAAyB;AACvBT,YAAUU,oBAAUC,IADG;AAEvBb,kBAAgBY,oBAAUE;AAFH,CAAzB;AAIA1B,aAAa2B,YAAb,GAA4B;AAC1Bb,YAAUc,SADgB;AAE1BhB,kBAAgBb;AAFU,CAA5B","file":"index.js","sourcesContent":["import React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport styles from './styles.scss';\n\nconst DEFAULT_SCROLL_INTERVAL = 5000;\nexport default class CarrouselBar extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      currentIndex: 0,\n      showAnimation: false,\n      animationMode: 'move'\n    };\n  }\n  componentDidMount() {\n    this.timeout = setInterval(() => {\n      this.setState(prevState => ({\n        currentIndex: prevState.currentIndex >= this.validChildren.length - 1 ?\n          0 : prevState.currentIndex + 1,\n        showAnimation: true,\n        animationMode: prevState.animationMode === 'move' ? 'moveOn' : 'move'\n      }));\n    }, this.props.scrollInterval);\n  }\n  componentWillReceiveProps(nextProps) {\n    if (nextProps.children !== this.props.children) {\n      this.validChildren = this.getValidChildren(nextProps.children);\n    }\n  }\n  componentWillUnmount() {\n    clearTimeout(this.timeout);\n    this.timeout = null;\n  }\n  getValidChildren(children) {\n    // .toArray automatically removes invalid React children\n    return React.Children.toArray(children);\n  }\n  render() {\n    this.validChildren = this.getValidChildren(this.props.children);\n    if (this.validChildren.length < 2) {\n      return this.props.children;\n    }\n    return (\n      <div className={styles.root}>\n        <div className={this.state.showAnimation ? styles[this.state.animationMode] : null}>\n          {this.validChildren[this.state.currentIndex]}\n        </div>\n      </div>\n    );\n  }\n}\n\nCarrouselBar.propTypes = {\n  children: PropTypes.node,\n  scrollInterval: PropTypes.number\n};\nCarrouselBar.defaultProps = {\n  children: undefined,\n  scrollInterval: DEFAULT_SCROLL_INTERVAL\n};\n"]}