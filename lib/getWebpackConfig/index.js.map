{"version":3,"sources":["lib/getWebpackConfig/index.js"],"names":["getBaseConfig","cacheDirectory","hashPrefix","supportedLocales","themeFolder","resolve","extensions","module","rules","enforce","test","exclude","loader","use","options","modules","localIdentName","plugins","autoprefixer","includePaths","path","process","cwd","outputStyle","getWebpackConfig","env","base","mode","webpack","DefinePlugin","NODE_ENV","JSON","stringify","devtool"],"mappings":"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","sourcesContent":["import autoprefixer from 'autoprefixer';\nimport path from 'path';\nimport webpack from 'webpack';\n\nfunction getBaseConfig({\n  cacheDirectory = false,\n  hashPrefix = '',\n  supportedLocales = [],\n  themeFolder,\n}) {\n  return {\n    resolve: {\n      extensions: ['.ts', '.tsx', '.js', '.jsx']\n    },\n    module: {\n      rules: [\n        {\n          enforce: 'pre',\n          test: /\\.(js|jsx|ts|tsx)$/,\n          exclude: /node_modules/,\n          loader: 'source-map-loader',\n        },\n        {\n          test: /\\.(js|jsx|ts|tsx)$/,\n          use: [\n            {\n              loader: 'babel-loader',\n              options: {\n                cacheDirectory,\n              }\n            },\n            {\n              loader: '@ringcentral-integration/locale-loader',\n              options: {\n                supportedLocales\n              }\n            },\n          ],\n          exclude: /node_modules/,\n        },\n        {\n          test: /\\.css$/i,\n          use: [\n            'style-loader',\n            'css-loader',\n          ],\n        },\n        {\n          test: /\\.woff|\\.woff2|.eot|\\.ttf/,\n          use: 'url-loader?limit=15000&name=fonts/[name]_[hash].[ext]',\n        },\n        {\n          test: /\\.svg/,\n          exclude: /fonts/,\n          use: [\n            'babel-loader',\n            'react-svg-loader'\n          ]\n        },\n        {\n          test: /\\.png|\\.jpg|\\.gif|fonts(\\/|\\\\).*\\.svg/,\n          use: 'url-loader?limit=20000&name=images/[name]_[hash].[ext]',\n        },\n        {\n          test: /\\.sass|\\.scss/,\n          use: [\n            {\n              loader: 'style-loader',\n            },\n            {\n              loader: 'css-loader',\n              options: {\n                modules: true,\n                localIdentName: `${hashPrefix}_[path]_[name]_[local]_[hash:base64:5]`,\n              },\n            },\n            {\n              loader: 'postcss-loader',\n              options: {\n                plugins: () => [\n                  autoprefixer\n                ]\n              }\n            },\n            {\n              loader: 'sass-loader',\n              options: {\n                includePaths: [themeFolder, path.resolve(process.cwd(), 'node_modules')],\n                outputStyle: 'expanded'\n              }\n            }\n          ],\n        },\n        {\n          test: /\\.ogg$/,\n          use: 'file-loader?name=audio/[name]_[hash].[ext]',\n        },\n      ],\n    },\n    plugins: [],\n  };\n}\n\n\nexport default function getWebpackConfig({\n  env = 'development',\n  ...options\n}) {\n  const base = getBaseConfig({\n    ...options,\n  });\n  if (env === 'production') {\n    return {\n      ...base,\n      mode: 'production',\n      plugins: [\n        ...base.plugins,\n        new webpack.DefinePlugin({\n          'process.env': {\n            NODE_ENV: JSON.stringify('production'),\n          },\n        }),\n      ],\n    };\n  }\n  return {\n    ...base,\n    mode: 'development',\n    devtool: 'inline-source-map',\n    plugins: [\n      ...base.plugins,\n      new webpack.DefinePlugin({\n        'process.env': {\n          NODE_ENV: JSON.stringify('development'),\n        },\n      }),\n    ],\n  };\n}\n"],"file":"index.js"}