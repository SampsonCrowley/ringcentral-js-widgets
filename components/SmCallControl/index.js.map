{"version":3,"sources":["components/SmCallControl/index.js"],"names":["SmCallControl","props","onMute","onUnmute","onHangup","onReject","isOnMute","callStatus","currentLocale","callDirection","canRejectCall","callDirections","inbound","telephonyStatuses","ringing","muteIcon","MuteIcon","UnmuteIcon","muteAction","muteTitle","endTitle","endAction","disabledCtrl","styles","smWraper","i18n","getString","button","buttonDisabled","EndIcon","hangup","propTypes","PropTypes","func","bool","string","isRequired","defaultProps"],"mappings":";;;;;kBAkBwBA,a;;AAlBxB;;;;AACA;;;;AACA;;;;AAEA;;;;AACA;;;;AAGA;;;;AAEA;;;;AACA;;;;AACA;;;;AACA;;;;AAEA;;;;;;AAGe,SAASA,aAAT,CAAuBC,KAAvB,EAA8B;AAAA,MAEzCC,MAFyC,GAIvCD,KAJuC,CAEzCC,MAFyC;AAAA,MAEjCC,QAFiC,GAIvCF,KAJuC,CAEjCE,QAFiC;AAAA,MAEvBC,QAFuB,GAIvCH,KAJuC,CAEvBG,QAFuB;AAAA,MAEbC,QAFa,GAIvCJ,KAJuC,CAEbI,QAFa;AAAA,MAGzCC,QAHyC,GAIvCL,KAJuC,CAGzCK,QAHyC;AAAA,MAG/BC,UAH+B,GAIvCN,KAJuC,CAG/BM,UAH+B;AAAA,MAGnBC,aAHmB,GAIvCP,KAJuC,CAGnBO,aAHmB;AAAA,MAGJC,aAHI,GAIvCR,KAJuC,CAGJQ,aAHI;;AAM3C;;AACA,WAASC,aAAT,GAAyB;AACvB,WACEC,yBAAeC,OAAf,KAA2BH,aAA3B,IACAI,0BAAkBC,OAAlB,KAA8BP,UAFhC;AAID;;AAED,MAAMQ,WAAWT,WAAWU,cAAX,GAAsBC,gBAAvC;AACA,MAAMC,aAAaZ,WAAWH,QAAX,GAAsBD,MAAzC;AACA,MAAMiB,YAAYb,WAAW,QAAX,GAAsB,MAAxC;AACA,MAAMc,WAAWV,kBAAkB,QAAlB,GAA6B,QAA9C;AACA,MAAMW,YAAYX,kBAAkBL,QAAlB,GAA6BD,QAA/C;AACA,MAAMkB,eAAef,eAAeM,0BAAkBC,OAAtD;AACA,SACE;AAAA;AAAA,MAAK,WAAWS,iBAAOC,QAAvB;AACE;AAAA;AAAA,QAAM,OAAOC,eAAKC,SAAL,CAAeP,SAAf,EAA0BX,aAA1B,CAAb;AACE,oCAAC,sBAAD;AACE,kBAAUW,SADZ;AAEE,cAAMJ,QAFR;AAGE,iBAASG,UAHX;AAIE,mBAAW,0BAAWK,iBAAOI,MAAlB,EAA0BL,eAAeC,iBAAOK,cAAtB,GAAuC,IAAjE,CAJb;AAKE,kBAAUN;AALZ;AADF,KADF;AAUE;AAAA;AAAA,QAAM,OAAOG,eAAKC,SAAL,CAAeN,QAAf,EAAyBZ,aAAzB,CAAb;AACE,oCAAC,sBAAD;AACE,kBAAUY,QADZ;AAEE,oBAAY,KAFd;AAGE,cAAMS,aAHR;AAIE,iBAASR,SAJX;AAKE,mBAAW,0BAAWE,iBAAOO,MAAlB,EAA0BP,iBAAOI,MAAjC;AALb;AADF;AAVF,GADF;AAsBD;;AAED3B,cAAc+B,SAAd,GAA0B;AACxB7B,UAAQ8B,oBAAUC,IADM;AAExB9B,YAAU6B,oBAAUC,IAFI;AAGxB7B,YAAU4B,oBAAUC,IAHI;AAIxB5B,YAAU2B,oBAAUC,IAJI;AAKxB3B,YAAU0B,oBAAUE,IALI;AAMxB3B,cAAYyB,oBAAUG,MANE;AAOxB3B,iBAAewB,oBAAUG,MAPD;AAQxB1B,iBAAeuB,oBAAUG,MAAV,CAAiBC;AARR,CAA1B;AAUApC,cAAcqC,YAAd,GAA6B;AAC3BnC,QAD2B,oBAClB,CAAG,CADe;AAE3BC,UAF2B,sBAEhB,CAAG,CAFa;AAG3BC,UAH2B,sBAGhB,CAAG,CAHa;AAI3BC,UAJ2B,sBAIhB,CAAG,CAJa;;AAK3BC,YAAU,KALiB;AAM3BC,cAAY,eANe;AAO3BC,iBAAe;AAPY,CAA7B","file":"index.js","sourcesContent":["import React from 'react';\nimport PropTypes from 'prop-types';\nimport classnames from 'classnames';\n\nimport telephonyStatuses from 'ringcentral-integration/enums/telephonyStatus';\nimport callDirections from 'ringcentral-integration/enums/callDirections';\n\n\nimport CircleButton from '../CircleButton';\n\nimport MuteIcon from '../../assets/images/Mute.svg';\nimport UnmuteIcon from '../../assets/images/Unmute.svg';\nimport EndIcon from '../../assets/images/End.svg';\nimport styles from './styles.scss';\n\nimport i18n from './i18n';\n\n\nexport default function SmCallControl(props) {\n  const {\n    onMute, onUnmute, onHangup, onReject,\n    isOnMute, callStatus, currentLocale, callDirection,\n  } = props;\n\n  // reject conditions: call direction is inbound & call status is ringing\n  function canRejectCall() {\n    return (\n      callDirections.inbound === callDirection &&\n      telephonyStatuses.ringing === callStatus\n    );\n  }\n\n  const muteIcon = isOnMute ? MuteIcon : UnmuteIcon;\n  const muteAction = isOnMute ? onUnmute : onMute;\n  const muteTitle = isOnMute ? 'unmute' : 'mute';\n  const endTitle = canRejectCall() ? 'reject' : 'hangup';\n  const endAction = canRejectCall() ? onReject : onHangup;\n  const disabledCtrl = callStatus === telephonyStatuses.ringing;\n  return (\n    <div className={styles.smWraper}>\n      <span title={i18n.getString(muteTitle, currentLocale)}>\n        <CircleButton\n          dataSign={muteTitle}\n          icon={muteIcon}\n          onClick={muteAction}\n          className={classnames(styles.button, disabledCtrl ? styles.buttonDisabled : null)}\n          disabled={disabledCtrl}\n      />\n      </span>\n      <span title={i18n.getString(endTitle, currentLocale)}>\n        <CircleButton\n          dataSign={endTitle}\n          showBorder={false}\n          icon={EndIcon}\n          onClick={endAction}\n          className={classnames(styles.hangup, styles.button)}\n      />\n      </span>\n    </div>\n  );\n}\n\nSmCallControl.propTypes = {\n  onMute: PropTypes.func,\n  onUnmute: PropTypes.func,\n  onHangup: PropTypes.func,\n  onReject: PropTypes.func,\n  isOnMute: PropTypes.bool,\n  callStatus: PropTypes.string,\n  currentLocale: PropTypes.string,\n  callDirection: PropTypes.string.isRequired,\n};\nSmCallControl.defaultProps = {\n  onMute() { },\n  onUnmute() { },\n  onHangup() { },\n  onReject() { },\n  isOnMute: false,\n  callStatus: 'CallConnected',\n  currentLocale: 'en-US'\n};\n"]}