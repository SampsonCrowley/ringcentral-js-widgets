{"version":3,"sources":["components/RecentActivityMessages/index.js"],"names":["cx","classNames","bind","styles","MessageItem","message","navigateTo","dateTimeFormatter","subject","creationTime","readStatus","conversationId","isUnread","time","utcTimestamp","localMessageItem","fromRemote","dl","unread","propTypes","PropTypes","object","isRequired","func","RecentActivityMessages","nextProps","currentLocale","props","messages","isMessagesLoaded","messageListView","spinner","length","map","id","noRecords","i18n","getString","Component","string","array","bool"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport classNames from 'classnames/bind';\nimport Spinner from '../Spinner';\nimport styles from './styles.scss';\nimport i18n from './i18n';\n\nconst cx = classNames.bind(styles);\nfunction MessageItem({ message, navigateTo, dateTimeFormatter }) {\n  const {\n    subject, creationTime, readStatus, conversationId\n  } = message;\n  const isUnread = readStatus !== 'Read';\n  const time = dateTimeFormatter({ utcTimestamp: creationTime });\n  return (\n    <div\n      className={cx('messageItem', { localMessageItem: !message.fromRemote })}\n      onClick={() => !message.fromRemote && navigateTo(`/conversations/${conversationId}`)}\n    >\n      <dl className={styles.dl}>\n        <dt className={cx('messageSubject', { unread: isUnread })} title={subject}>{subject}</dt>\n        <dd className={cx('messageTime', { unread: isUnread })} title={time}>{time}</dd>\n      </dl>\n    </div>\n  );\n}\n\nMessageItem.propTypes = {\n  message: PropTypes.object.isRequired,\n  navigateTo: PropTypes.func.isRequired,\n  dateTimeFormatter: PropTypes.func.isRequired\n};\n\nexport default class RecentActivityMessages extends Component {\n  shouldComponentUpdate(nextProps) {\n    return nextProps.currentLocale !== this.props.currentLocale ||\n      nextProps.messages !== this.props.messages ||\n      nextProps.isMessagesLoaded !== this.props.isMessagesLoaded;\n  }\n\n  render() {\n    const {\n      currentLocale,\n      messages,\n      isMessagesLoaded,\n      navigateTo,\n      dateTimeFormatter\n    } = this.props;\n    let messageListView = null;\n    if (!isMessagesLoaded) {\n      messageListView = (<Spinner className={styles.spinner} ringWidth={4} />);\n    } else if (messages.length > 0) {\n      messageListView = messages.map(message => (\n        <MessageItem\n          key={message.id}\n          message={message}\n          navigateTo={navigateTo}\n          dateTimeFormatter={dateTimeFormatter}\n        />\n      ));\n    } else {\n      messageListView = (<p className={styles.noRecords}>{i18n.getString('noRecords', currentLocale)}</p>);\n    }\n    return (\n      <div className={styles.messages}>\n        {messageListView}\n      </div>\n    );\n  }\n}\n\nRecentActivityMessages.propTypes = {\n  currentLocale: PropTypes.string.isRequired,\n  messages: PropTypes.array.isRequired,\n  isMessagesLoaded: PropTypes.bool.isRequired,\n  navigateTo: PropTypes.func.isRequired,\n  dateTimeFormatter: PropTypes.func.isRequired\n};\n"],"file":"index.js"}